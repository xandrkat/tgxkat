(this.webpackJsonptgxkat=this.webpackJsonptgxkat||[]).push([[1],[,function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(29),o=n(112),c=n(12),l=n(5),u=n(229),d=n.n(u);class p extends s.a{constructor(){var e;super(),e=this,this.init=e=>{this.setParameters(e);const t=this.parameters,n=t.verbosity,a=t.jsVerbosity,i=t.useTestDC,r=t.readOnly,s=t.fastUpdating,o=t.useDatabase,c=t.mode;!function(e,t){var n=indexedDB.open(e),a=!0;n.onsuccess=function(){n.result.close(),a||indexedDB.deleteDatabase(e),t(a)},n.onupgradeneeded=function(){a=!1}}(i?"tdlib_test":"tdlib",e=>{this.clientUpdate({"@type":"clientUpdateTdLibDatabaseExists",exists:e});let t={logVerbosityLevel:n,jsLogVerbosityLevel:a,mode:c,prefix:i?"tdlib_test":"tdlib",readOnly:r,isBackground:!1,useDatabase:o,wasmUrl:"".concat(l.Rb,"?_sw-precache=").concat(l.Qb)};console.log("[TdLibController] (fast_updating=".concat(s,") Start client with params=").concat(JSON.stringify(t))),this.client=new d.a(t),this.client.onUpdate=e=>{this.disableLog||("updateFile"===e["@type"]?console.log("receive updateFile file_id="+e.file.id,e):console.log("receive update",e)),this.emit("update",e)}})},this.clientUpdate=e=>{this.disableLog||console.log("clientUpdate",e),this.emit("clientUpdate",e)},this.setParameters=e=>{if(!e)return;const t=e.search;if(!t)return;const n=new URLSearchParams(t.toLowerCase());if(n.has("test")&&(this.parameters.useTestDC=Object(c.B)(n.get("test"))),n.has("verbosity")){const e=parseInt(n.get("verbosity"),10);e>=l.Ob&&e<=l.Nb&&(this.parameters.verbosity=e)}if(n.has("jsverbosity")){const e=parseInt(n.get("jsverbosity"),10);e>=l.Mb&&e<=l.Lb&&(this.parameters.jsVerbosity=e)}if(n.has("tag")&&n.has("tagverbosity")){const e=n.get("tag").replace("[","").replace("]","").split(","),t=n.get("tagverbosity").replace("[","").replace("]","").split(",");e&&t&&e.length===t.length&&(this.parameters.tag=e,this.parameters.tagVerbosity=t)}n.has("readonly")&&(this.parameters.readOnly=Object(c.B)(n.get("readonly"))),n.has("fastupdating")&&(this.parameters.fastUpdating=Object(c.B)(n.get("fastupdating"))),n.has("db")&&(this.parameters.useDatabase=Object(c.B)(n.get("db"))),n.has("mode")&&(this.parameters.mode=n.get("mode")),n.has("clientlog")&&(this.disableLog=!Object(c.B)(n.get("clientlog"))),n.has("streaming")&&(this.streaming=Object(c.B)(n.get("streaming")))},this.send=e=>this.client?this.disableLog?this.client.send(e):(console.log("send",e),this.client.send(e).then(e=>(console.log("send result",e),e)).catch(e=>{throw console.error("send error",e),e})):(console.log("send (none init)",e),Promise.reject("tdweb client is not ready yet")),this.sendTdParameters=Object(r.a)(i.a.mark((function t(){var n,a,r,s,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("2052328",n="1b148d8457181dfa07e0ce861c5d6833",a=e.parameters.useTestDC,r=o.version,e.send({"@type":"setTdlibParameters",parameters:{"@type":"tdParameters",use_test_dc:a,api_id:"2052328",api_hash:n,system_language_code:navigator.language||"en",device_model:Object(c.f)(),system_version:Object(c.k)(),application_version:r,use_secret_chats:!1,use_message_database:!0,use_file_database:!1,database_directory:"/db",files_directory:"/"}}),e.parameters.tag&&e.parameters.tagVerbosity)for(s=0;s<e.parameters.tag.length;s++)l=e.parameters.tag[s],u=e.parameters.tagVerbosity[s],e.send({"@type":"setLogTagVerbosityLevel",tag:l,new_verbosity_level:u});case 7:case"end":return t.stop()}}),t)}))),this.setChatId=(e,t=null,n={})=>{const a={"@type":"clientUpdateChatId",chatId:e,messageId:t,options:n};this.clientUpdate(a)},this.parameters={useTestDC:!1,readOnly:!1,verbosity:1,jsVerbosity:3,fastUpdating:!0,useDatabase:!1,mode:"wasm"},this.disableLog=!0,this.streaming=!0}logOut(){this.send({"@type":"logOut"}).catch(e=>{this.emit("tdlib_auth_error",e)})}setMediaViewerContent(e){this.clientUpdate({"@type":"clientUpdateMediaViewerContent",content:e})}}const h=new p;t.a=h},function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(29),o=n(33),c=n(5),l=n(103),u=n(1);class d extends s.a{constructor(){var e;super(),e=this,this.reset=()=>{this.callbacks=[],this.db=null,this.urls=new WeakMap,this.dataUrls=new Map,this.items=new Map,this.blobItems=new Map,this.pngBlobItems=new Map,this.locationItems=new Map,this.downloads=new Map,this.uploads=new Map},this.onUpdate=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n["@type"],t.next="updateAuthorizationState"===t.t0?3:"updateFile"===t.t0?6:10;break;case 3:return t.next=5,e.onUpdateAuthorizationState(n);case 5:return t.abrupt("break",11);case 6:return e.set(n.file),e.onUpdateFile(n),e.suppressUpdateFile||e.emit(n["@type"],n),t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAnimationBlob":case"clientUpdateAnimationThumbnailBlob":case"clientUpdateAudioBlob":case"clientUpdateAudioThumbnailBlob":case"clientUpdateChatBlob":case"clientUpdateDocumentBlob":case"clientUpdateDocumentThumbnailBlob":case"clientUpdateLocationBlob":case"clientUpdatePhotoBlob":this.emit(e["@type"],e);break;case"clientUpdateStickerBlob":{const t=e.fileId,n=e.source;if(n){n.is_animated||l.a.decode(t,!1)}this.emit(e["@type"],e);break}case"clientUpdateStickerPngBlob":{const t=e.fileId,n=e.blob;this.setPngBlob(t,n),this.emit(e["@type"],e);break}case"clientUpdateStickerThumbnailBlob":{const t=e.fileId,n=e.source;if(n){const e=n.thumbnail;if(e){const n=e.format;n&&"thumbnailFormatWebp"===n["@type"]&&l.a.decode(t,!0)}}this.emit(e["@type"],e);break}case"clientUpdateStickerThumbnailPngBlob":{const t=e.fileId,n=e.blob;this.setPngBlob(t,n),this.emit(e["@type"],e);break}case"clientUpdateUserBlob":case"clientUpdateVideoBlob":case"clientUpdateVideoThumbnailBlob":case"clientUpdateVideoNoteBlob":case"clientUpdateVideoNoteThumbnailBlob":case"clientUpdateVoiceNoteBlob":case"clientUpdateSendFiles":this.emit(e["@type"],e)}},this.addTdLibListener=()=>{u.a.on("update",this.onUpdate),u.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{u.a.off("update",this.onUpdate),u.a.off("clientUpdate",this.onClientUpdate)},this.onUpdateAuthorizationState=function(){var t=Object(r.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(a=n.authorization_state){t.next=5;break}return t.abrupt("return");case 5:t.t0=a["@type"],t.next="authorizationStateWaitTdlibParameters"===t.t0?8:"authorizationStateClosed"===t.t0?11:13;break;case 8:return t.next=10,e.initDB();case 10:return t.abrupt("break",13);case 11:return e.reset(),t.abrupt("break",13);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onUpdateFile=e=>{if(!e)return;const t=e.file;t&&(this.handleDownloads(t),this.handleUploads(t))},this.handleDownloads=e=>{const t=e.arr,n=e.id,a=(e.idb_key,e.local);if(delete e.arr,!this.downloads.has(n))return;if(!a.is_downloading_completed)return;const i=this.downloads.get(n);if(!i)return;this.downloads.delete(n);const r=this.getStore();i.forEach(n=>{switch(n["@type"]){case"animation":this.handleAnimation(r,n,e,t,null);break;case"audio":this.handleAudio(r,n,e,t,null);break;case"chat":this.handleChat(r,n,e,t);break;case"document":this.handleDocument(r,n,e,t,null);break;case"game":this.handleGame(r,n,e,t,null);break;case"location":this.handleLocation(r,n,e,t,null);break;case"message":this.handleMessage(r,n,e,t);break;case"pageBlockMap":this.handlePageBlockMap(r,n,e,t,null);break;case"photo":this.handlePhoto(r,n,e,t,null);break;case"sticker":this.handleSticker(r,n,e,t,null);break;case"video":this.handleVideo(r,n,e,t,null);break;case"videoNote":this.handleVideoNote(r,n,e,t,null);break;case"voiceNote":this.handleVoiceNote(r,n,e,t,null);break;case"user":this.handleUser(r,n,e,t);break;default:console.error("FileStore.onUpdateFile unhandled item",n)}})},this.handleUploads=e=>{const t=e.id,n=e.remote;delete e.arr,this.uploads.has(t)&&(n.is_uploading_completed||this.uploads.delete(t))},this.handleChat=(e,t,n,a)=>{t&&this.getLocalFile(e,n,a,()=>this.updateChatPhotoBlob(t.id,n.id),()=>this.getRemoteFile(n.id,c.h,t))},this.handleUser=(e,t,n,a)=>{t&&this.getLocalFile(e,n,a,()=>this.updateUserPhotoBlob(t.id,n.id),()=>this.getRemoteFile(n.id,c.h,t))},this.handleMessage=(e,t,n,a)=>{if(!t)return;const i=t.content;if(i)switch(i["@type"]){case"messageAnimation":{const r=i.animation;this.handleAnimation(e,r,n,a,t);break}case"messageAudio":{const r=i.audio;this.handleAudio(e,r,n,a,t);break}case"messageChatChangePhoto":{const r=i.photo;this.handlePhoto(e,r,n,a,t);break}case"messageDocument":{const r=i.document;this.handleDocument(e,r,n,a,t);break}case"messageInvoice":{const r=i.photo;r&&this.handlePhoto(e,r,n,a,t);break}case"messageGame":{const r=i.game;this.handleGame(e,r,n,a,t);break}case"messageLocation":{const r=i.location;this.handleLocation(e,r,n,a,t);break}case"messagePhoto":{const r=i.photo;this.handlePhoto(e,r,n,a,t);break}case"messageSticker":{const r=i.sticker;this.handleSticker(e,r,n,a,t);break}case"messageText":{const r=i.web_page;if(!r)break;const s=r.animation,o=r.audio,c=r.document,l=r.photo,u=r.sticker,d=r.video,p=r.video_note,h=r.voice_note;s&&this.handleAnimation(e,s,n,a,t),o&&this.handleAudio(e,o,n,a,t),c&&this.handleDocument(e,c,n,a,t),l&&this.handlePhoto(e,l,n,a,t),u&&this.handleSticker(e,u,n,a,t),d&&this.handleVideo(e,d,n,a,t),h&&this.handleVoiceNote(e,h,n,a,t),p&&this.handleVideoNote(e,p,n,a,t);break}case"messageVenue":{const r=i.venue.location;this.handleLocation(e,r,n,a,t);break}case"messageVideo":{const r=i.video;this.handleVideo(e,r,n,a,t);break}case"messageVideoNote":{const r=i.video_note;this.handleVideoNote(e,r,n,a,t);break}case"messageVoiceNote":{const r=i.voice_note;this.handleVoiceNote(e,r,n,a,t);break}}},this.handleAnimation=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.thumbnail){const o=t.thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateAnimationThumbnailBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.animation){const o=t.animation;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateAnimationBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleAudio=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.album_cover_thumbnail){const o=t.album_cover_thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateAudioThumbnailBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.audio){const o=t.audio;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateAudioBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleGame=(e,t,n,a,i)=>{if(!t)return;const r=t.animation,s=t.photo;s&&this.handlePhoto(e,s,n,a,i),r&&this.handleAnimation(e,r,n,a,i)},this.handleDocument=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.thumbnail){const o=t.thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateDocumentThumbnailBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.document){const o=t.document;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateDocumentBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleLocation=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0,l=Object(o.q)(t);if(l){const o=this.getLocationFile(l);o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateLocationBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}},this.handlePageBlockMap=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0,l=t.location,u=Object(o.q)(l,c.l,c.k);if(u){const o=this.getLocationFile(u);o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateLocationBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}},this.handlePhoto=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t)for(let o=0;o<t.sizes.length;o++){const l=t.sizes[o];if(l){const o=l.photo;if(o&&o.id===n.id){this.getLocalFile(e,o,a,()=>this.updatePhotoBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t));break}}}},this.handleSticker=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.thumbnail){const o=t.thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateStickerThumbnailBlob(r,s,n.id,t),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.sticker){const o=t.sticker;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateStickerBlob(r,s,n.id,t),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleVoiceNote=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.voice){const o=t.voice;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateVoiceNoteBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleVideoNote=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.thumbnail){const o=t.thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateVideoNoteThumbnailBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.video){const o=t.video;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateVideoNoteBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.handleVideo=(e,t,n,a,i)=>{const r=i?i.chat_id:0,s=i?i.id:0;if(t.thumbnail){const o=t.thumbnail.file;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateVideoThumbnailBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.Hb,i||t))}if(t.video){const o=t.video;o&&o.id===n.id&&this.getLocalFile(e,o,a,()=>this.updateVideoBlob(r,s,n.id),()=>this.getRemoteFile(n.id,c.h,i||t))}},this.deleteLocalFile=(e,t)=>{},this.get=e=>this.items.get(e),this.set=e=>{this.items.set(e.id,e)},this.getBlob=e=>this.blobItems.get(e),this.setBlob=(e,t)=>{this.blobItems.set(e,t)},this.getPngBlob=e=>this.pngBlobItems.get(e),this.setPngBlob=(e,t)=>{this.pngBlobItems.set(e,t)},this.deleteBlob=e=>{this.blobItems.delete(e)},this.getLocationFile=e=>{const t=this.locationItems.get(e);return this.get(t)},this.setLocationFile=(e,t)=>{this.locationItems.set(e,t.id),this.set(t)},this.getDataUrl=e=>e&&this.dataUrls.has(e)?this.dataUrls.get(e):null,this.setDataUrl=(e,t)=>{this.dataUrls.set(e,t)},this.deleteDataUrl=e=>{this.dataUrls.delete(e)},this.getBlobUrl=e=>{if(!e)return null;if(this.urls.has(e))return this.urls.get(e);const t=URL.createObjectURL(e);return this.urls.set(e,t),t},this.deleteBlobUrl=e=>{this.urls.has(e)&&this.urls.delete(e)},this.updateFileBlob=(e,t,n,a,i)=>{u.a.clientUpdate({"@type":e,chatId:t,messageId:n,fileId:a,source:i})},this.updateAnimationBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateAnimationBlob",e,t,n)},this.updateAnimationThumbnailBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateAnimationThumbnailBlob",e,t,n)},this.updateAudioBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateAudioBlob",e,t,n)},this.updateAudioThumbnailBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateAudioThumbnailBlob",e,t,n)},this.updateDocumentBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateDocumentBlob",e,t,n)},this.updateDocumentThumbnailBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateDocumentThumbnailBlob",e,t,n)},this.updateLocationBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateLocationBlob",e,t,n)},this.updatePhotoBlob=(e,t,n)=>{this.updateFileBlob("clientUpdatePhotoBlob",e,t,n)},this.updateStickerBlob=(e,t,n,a)=>{this.updateFileBlob("clientUpdateStickerBlob",e,t,n,a)},this.updateStickerThumbnailBlob=(e,t,n,a)=>{this.updateFileBlob("clientUpdateStickerThumbnailBlob",e,t,n,a)},this.updateVideoBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateVideoBlob",e,t,n)},this.updateVideoThumbnailBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateVideoThumbnailBlob",e,t,n)},this.updateVideoNoteBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateVideoNoteBlob",e,t,n)},this.updateVideoNoteThumbnailBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateVideoNoteThumbnailBlob",e,t,n)},this.updateVoiceNoteBlob=(e,t,n)=>{this.updateFileBlob("clientUpdateVoiceNoteBlob",e,t,n)},this.reset(),this.addTdLibListener(),l.a.init()}initDB(e){var t=this;return Object(r.a)(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.db){n.next=3;break}return e&&e(),n.abrupt("return");case 3:if(!t.initiatingDB){n.next=6;break}return e&&t.callbacks.push(e),n.abrupt("return");case 6:return e&&t.callbacks.push(e),t.initiatingDB=!0,n.next=10,t.openDB().catch(e=>console.log("[FileStore] initDB error",e));case 10:if(t.db=n.sent,t.initiatingDB=!1,t.callbacks.length){for(a=0;a<t.callbacks.length;a++)t.callbacks[a]();t.callbacks=[]}case 13:case"end":return n.stop()}}),n)})))()}openDB(){return new Promise((e,t)=>{const n=window.indexedDB.open("tdlib");n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}getStore(){}getReadWriteStore(){}getLocalFile(e,t,n,a,s){var o=this;return(t=this.get(t.id)||t)&&t.local&&!t.local.is_downloading_completed?void s():void function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.send({"@type":"readFile",file_id:t.id});case 2:n=e.sent,o.getBlob(t.id)||o.setBlob(t.id,n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t).then(a,s)}getRemoteFile(e,t,n){const a=this.downloads.get(e)||[];a.some(e=>e===n)||(a.push(n),this.downloads.set(e,a),u.a.send({"@type":"downloadFile",file_id:e,priority:t}))}cancelGetRemoteFile(e,t){if(this.downloads.has(e)){if(t){const n=this.downloads.get(e).filter(e=>e!==t);this.downloads.set(e,n)}else this.downloads.delete(e);u.a.send({"@type":"cancelDownloadFile",file_id:e,only_if_pending:!1})}}uploadFile(e,t){if(this.uploads.has(e)){this.uploads.get(e).push(t)}else this.uploads.set(e,[t]);console.log("[perf] uploadFile file_id="+e)}cancelUploadFile(e,t){this.uploads.has(e)&&(this.uploads.delete(e),console.log("cancel_upload_message id="+t.id),u.a.send({"@type":"deleteMessages",chat_id:t.chat_id,message_ids:[t.id],revoke:!0}))}updateChatPhotoBlob(e,t){u.a.clientUpdate({"@type":"clientUpdateChatBlob",chatId:e,fileId:t})}updateUserPhotoBlob(e,t){u.a.clientUpdate({"@type":"clientUpdateUserBlob",userId:e,fileId:t})}}const p=new d;window.file=p,t.a=p},,function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=(n(0),n(29)),o=n(60);const c=Object.freeze({QUANTITY_OTHER:0,QUANTITY_ZERO:1,QUANTITY_ONE:2,QUANTITY_TWO:4,QUANTITY_FEW:8,QUANTITY_MANY:16});class l{quantityForNumber(e){return 0===e||1===e?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class u{quantityForNumber(e){return 0===e?c.QUANTITY_ZERO:1===e?c.QUANTITY_ONE:2===e?c.QUANTITY_TWO:3===e?c.QUANTITY_FEW:6===e?c.QUANTITY_MANY:c.QUANTITY_OTHER}}class d{quantityForNumber(e){return 1===e?c.QUANTITY_ONE:2===e?c.QUANTITY_TWO:c.QUANTITY_OTHER}}class p{quantityForNumber(e){return e>=0&&e<=1?c.QUANTITY_ONE:e>=2&&e<=10?c.QUANTITY_FEW:c.QUANTITY_OTHER}}class h{quantityForNumber(e){const t=e%100;return 1===t?c.QUANTITY_ONE:2===t?c.QUANTITY_TWO:t>=3&&t<=4?c.QUANTITY_FEW:c.QUANTITY_OTHER}}class m{quantityForNumber(e){const t=e%100;return 1===e?c.QUANTITY_ONE:0===e||t>=1&&t<=19?c.QUANTITY_FEW:c.QUANTITY_OTHER}}class f{quantityForNumber(e){const t=e%100,n=e%10;return 1===e?c.QUANTITY_ONE:n>=2&&n<=4&&!(t>=12&&t<=14)?c.QUANTITY_FEW:n>=0&&n<=1||n>=5&&n<=9||t>=12&&t<=14?c.QUANTITY_MANY:c.QUANTITY_OTHER}}class g{quantityForNumber(e){return 1===e?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class b{quantityForNumber(e){return c.QUANTITY_OTHER}}class y{quantityForNumber(e){const t=e%100;return 1===e?c.QUANTITY_ONE:0===e||t>=2&&t<=10?c.QUANTITY_FEW:t>=11&&t<=19?c.QUANTITY_MANY:c.QUANTITY_OTHER}}class k{quantityForNumber(e){return e%10===1&&11!==e?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class v{quantityForNumber(e){const t=e%100,n=e%10;return 1!==n||t>=11&&t<=19?n>=2&&n<=9&&!(t>=11&&t<=19)?c.QUANTITY_FEW:c.QUANTITY_OTHER:c.QUANTITY_ONE}}class w{quantityForNumber(e){return 0===e?c.QUANTITY_ZERO:e%10===1&&e%100!==11?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class C{quantityForNumber(e){return 0===e?c.QUANTITY_ZERO:1===e?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class S{quantityForNumber(e){return e>=0&&e<2?c.QUANTITY_ONE:c.QUANTITY_OTHER}}class U{quantityForNumber(e){return 1===e?c.QUANTITY_ONE:e>=2&&e<=4?c.QUANTITY_FEW:c.QUANTITY_OTHER}}class _{quantityForNumber(e){return 0===e?c.QUANTITY_ZERO:1===e?c.QUANTITY_ONE:2===e?c.QUANTITY_TWO:3===e?c.QUANTITY_FEW:6===e?c.QUANTITY_MANY:c.QUANTITY_OTHER}}class E{quantityForNumber(e){const t=e%100,n=e%10;return 1===n&&11!==t?c.QUANTITY_ONE:n>=2&&n<=4&&!(t>=12&&t<=14)?c.QUANTITY_FEW:0===n||n>=5&&n<=9||t>=11&&t<=14?c.QUANTITY_MANY:c.QUANTITY_OTHER}}class x{quantityForNumber(e){const t=e%100,n=e%10;return 1===n&&11!==t?c.QUANTITY_ONE:n>=2&&n<=4&&!(t>=12&&t<=14)?c.QUANTITY_FEW:c.QUANTITY_OTHER}}class T{quantityForNumber(e){const t=e%100;return 0===e?c.QUANTITY_ZERO:1===e?c.QUANTITY_ONE:2===e?c.QUANTITY_TWO:t>=3&&t<=10?c.QUANTITY_FEW:t>=11&&t<=99?c.QUANTITY_MANY:c.QUANTITY_OTHER}}const M={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function P(){const e=arguments[0],t=P.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=P.parse(e)),P.format.call(null,t[e],arguments)}function I(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}P.format=function(e,t){var n,a,i,r,s,o,c,l,u=1,d=e.length,p="",h=[],m=!0,f="";for(a=0;a<d;a++)if("string"===(p=I(e[a])))h[h.length]=e[a];else if("array"===p){if((r=e[a])[2])for(n=t[u],i=0;i<r[2].length;i++){if(!n.hasOwnProperty(r[2][i]))throw new Error(P("[sprintf] property '%s' does not exist",r[2][i]));n=n[r[2][i]]}else n=r[1]?t[r[1]]:t[u++];if("function"==I(n)&&(n=n()),M.not_string.test(r[8])&&M.not_json.test(r[8])&&"number"!=I(n)&&isNaN(n))throw new TypeError(P("[sprintf] expecting number but found %s",I(n)));switch(M.number.test(r[8])&&(m=n>=0),r[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,r[6]?parseInt(r[6]):0);break;case"e":n=r[7]?n.toExponential(r[7]):n.toExponential();break;case"f":n=r[7]?parseFloat(n).toFixed(r[7]):parseFloat(n);break;case"g":n=r[7]?parseFloat(n).toPrecision(r[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&r[7]?n.substring(0,r[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}M.json.test(r[8])?h[h.length]=n:(!M.number.test(r[8])||m&&!r[3]?f="":(f=m?"+":"-",n=n.toString().replace(M.sign,"")),o=r[4]?"0"===r[4]?"0":r[4].charAt(1):" ",c=r[6]-(f+n).length,s=r[6]&&c>0?(l=o,Array(c+1).join(l)):"",h[h.length]=r[5]?f+n+s:"0"===o?f+s+n:s+f+n)}return h.join("")},P.cache={},P.parse=function(e){let t=e,n=[],a=[],i=0;for(;t;){if(null!==(n=M.text.exec(t)))a[a.length]=n[0];else if(null!==(n=M.modulo.exec(t)))a[a.length]="%";else{if(null===(n=M.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var r=[],s=n[2],o=[];if(null===(o=M.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(r[r.length]=o[1];""!==(s=s.substring(o[0].length));)if(null!==(o=M.key_access.exec(s)))r[r.length]=o[1];else{if(null===(o=M.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");r[r.length]=o[1]}n[2]=r}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a[a.length]=n}t=t.substring(n[0].length)}return a};const A={name:"sprintf",type:"postProcessor",process(e,t,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?(a=e,i=n.sprintf,(r=(i||[]).slice(0)).splice(0,0,a),P.apply(null,r)):"object"===typeof n.sprintf?P(e,n.sprintf):e:e;var a,i,r},overloadTranslationOptionHandler(e){let t=[];for(var n=1;n<e.length;n++)t.push(e[n]);return{postProcess:"sprintf",sprintf:t}}};var O=n(22);class N{constructor(e){this.store=e.store}setItem(e,t){if(this.store)try{this.store.setItem(e,t)}catch(n){}}getItem(e,t){if(this.store)try{return this.store.getItem(e,t)}catch(n){}}}class j{constructor(e,t={}){this.init(e,t),this.type="backend"}init(e,t={}){this.services=e,this.options=Object(O.a)(Object(O.a)(Object(O.a)({},{prefix:"i18next_res_",expirationTime:1/0,versions:{},store:window.localStorage}),this.options),t),this.storage=new N(this.options)}read(e,t,n){const a=(new Date).getTime();if(!this.storage.store)return n(null,null);let i=this.storage.getItem("".concat(this.options.prefix).concat(e,"-").concat(t));return i&&(i=JSON.parse(i),i.i18nStamp&&i.i18nStamp+this.options.expirationTime>a&&this.options.versions[e]===i.i18nVersion)?(delete i.i18nVersion,delete i.i18nStamp,n(null,i)):n(null,null)}save(e,t,n){this.storage.store&&(n.i18nStamp=(new Date).getTime(),this.options.versions[e]&&(n.i18nVersion=this.options.versions[e]),this.storage.setItem("".concat(this.options.prefix).concat(e,"-").concat(t),JSON.stringify(n)))}}j.type="backend";var F=j,B=n(100),D=n(224),L=n(225),R=n(226),V=n(227),z=n(228),W=n(1);const H="translation",Y=localStorage.getItem("i18next")||"en";o.a.use(B.e).use(A).init({ns:[H,"local"],defaultNS:H,fallbackNS:["local"],resources:{en:{local:D},ru:{local:L},it:{local:R},es:{local:V},pl:{local:z}},lng:Y,fallbackLng:"en",interpolation:{escapeValue:!1},react:{wait:!1}});const G=new F(null,{enabled:!0,prefix:"i18next_res_",expirationTime:1/0}),Q=G.read("en",H,(e,t)=>t),q=G.read(Y,H,(e,t)=>t);o.a.addResourceBundle("en",H,Q),o.a.addResourceBundle(Y,H,q);class K extends s.a{constructor(){var e;super(),e=this,this.formatShortNumber=(e,t)=>{},this.addTdLibListener=()=>{W.a.on("update",this.onUpdate),W.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{W.a.off("update",this.onUpdate),W.a.off("clientUpdate",this.onClientUpdate)},this.onUpdate=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n["@type"],t.next="updateAuthorizationState"===t.t0?3:"updateLanguagePackStrings"===t.t0?14:16;break;case 3:t.t1=n.authorization_state["@type"],t.next="authorizationStateWaitTdlibParameters"===t.t1?6:13;break;case 6:return W.a.send({"@type":"setOption",name:"localization_target",value:{"@type":"optionValueString",value:"android"}}),W.a.send({"@type":"setOption",name:"language_pack_id",value:{"@type":"optionValueString",value:Y}}),t.next=10,W.a.send({"@type":"getLocalizationTargetInfo",only_local:!1});case 10:return e.info=t.sent,W.a.clientUpdate({"@type":"clientUpdateLanguageChange",language:Y}),t.abrupt("break",13);case 13:return t.abrupt("break",16);case 14:return e.emit("updateLanguagePackStrings",n),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onClientUpdate=function(){var t=Object(r.a)(i.a.mark((function t(n){var a,r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n["@type"],t.next="clientUpdateLanguageChange"===t.t0?3:15;break;case 3:return a=n.language,r=a,-1!==(s=a.indexOf("-"))&&(r=a.substring(0,s),a=r+a.substr(s).toUpperCase()),t.next=9,e.loadLanguage(a);case 9:return localStorage.setItem("i18next",a),t.next=12,o.a.changeLanguage(a);case 12:return W.a.send({"@type":"setOption",name:"language_pack_id",value:{"@type":"optionValueString",value:a}}),e.emit("clientUpdateLanguageChange",n),t.abrupt("break",15);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.processStrings=(e,t)=>{if(!t)return{};const n=t.strings;if(!n)return{};let a={};for(let i=0;i<n.length;i++){const e=n[i].value;switch(e["@type"]){case"languagePackStringValueOrdinary":a[n[i].key]=e.value;break;case"languagePackStringValuePluralized":e.zero_value&&(a[n[i].key+"Z"]=e.zero_value),e.one_value&&(a[n[i].key+"O"]=e.one_value),e.two_value&&(a[n[i].key+"T"]=e.two_value),e.few_value&&(a[n[i].key+"F"]=e.few_value),e.many_value&&(a[n[i].key+"M"]=e.many_value),e.other_value&&(a[n[i].key+"OT"]=e.other_value)}}return a},this.formatCallDuration=e=>{if(e>3600){let t=this.formatPluralString("Hours",Math.floor(e/3600));const n=Math.floor(e%3600/3600);return n>0&&(t+=", "+this.formatPluralString("Minutes",n)),t}return e>60?this.formatPluralString("Minutes",Math.floor(e/60)):this.formatPluralString("Seconds",Math.floor(e))},this.formatDistance=(e,t,n=null)=>{if(e<1e3)switch(t){case 0:return this.formatString("MetersAway2",this.format("%d",Math.max(1,e)));case 1:return this.formatString("MetersFromYou2",this.format("%d",Math.max(1,e)))}else{let n=null;switch(n=e%1e3===0?this.format("%d",Math.floor(e/1e3)):this.format("%.2f",e/1e3),t){case 0:return this.formatString("KMetersAway2",n);case 1:return this.formatString("KMetersFromYou2",n)}}return e},this.loadLanguage=function(){var t=Object(r.a)(i.a.mark((function t(n){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.a.send({"@type":"getLanguagePackStrings",language_pack_id:n.toLowerCase(),keys:[]});case 2:a=t.sent,r=e.processStrings(n,a),e.cache.save(n,H,r),o.a.addResourceBundle(n,H,r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.fallbackLng="en",this.i18n=o.a,this.cache=G,this.allRules=new Map,this.addRules(["bem","brx","da","de","el","en","eo","es","et","fi","fo","gl","he","iw","it","nb","nl","nn","no","sv","af","bg","bn","ca","eu","fur","fy","gu","ha","is","ku","lb","ml","mr","nah","ne","om","or","pa","pap","ps","so","sq","sw","ta","te","tk","ur","zu","mn","gsw","chr","rm","pt","an","ast"],new g),this.addRules(["cs","sk"],new U),this.addRules(["ff","fr","kab"],new S),this.addRules(["ru","uk","be","sh"],new E),this.addRules(["sr","hr","bs"],new x),this.addRules(["lv"],new w),this.addRules(["lt"],new v),this.addRules(["pl"],new f),this.addRules(["ro","mo"],new m),this.addRules(["sl"],new h),this.addRules(["ar"],new T),this.addRules(["mk"],new k),this.addRules(["cy"],new u),this.addRules(["br"],new _),this.addRules(["lag"],new C),this.addRules(["shi"],new p),this.addRules(["mt"],new y),this.addRules(["ga","se","sma","smi","smj","smn","sms"],new d),this.addRules(["ak","am","bh","fil","tl","guw","hi","ln","mg","nso","ti","wa"],new l),this.addRules(["az","bm","fa","ig","hu","ja","kde","kea","ko","my","ses","sg","to","tr","vi","wo","yo","zh","bo","dz","id","jv","jw","ka","km","kn","ms","th","in"],new b),this.set24HourFormat(),this.updatePluralRules(),this.recreateFormatters(),o.a.on("languageChanged",()=>{this.updatePluralRules(),this.recreateFormatters()}),this.addTdLibListener()}set24HourFormat(){try{this.is24HourFormat=!Intl.DateTimeFormat([],{hour:"numeric"}).resolvedOptions().hour12}catch(e){this.is24HourFormat=!1}}updatePluralRules(){const e=o.a.language.indexOf("-"),t=-1!==e?o.a.language.substring(0,e):o.a.language;this.currentPluralRules=this.allRules.get(t)||this.allRules.get("en")}recreateFormatters(){this.formatterDay=this.is24HourFormat?this.getString("formatterDay24H")||"HH:mm":this.getString("formatterDay12H")||"h:mm a",this.formatterDayMonth=this.getString("formatterMonth")||"d MMM",this.formatterYear=this.getString("formatterYear")||"dd.MM.yy"}addRules(e,t){e.forEach(e=>this.allRules.set(e,t))}stringForQuantity(e){switch(e){case c.QUANTITY_ZERO:return"Z";case c.QUANTITY_ONE:return"O";case c.QUANTITY_TWO:return"T";case c.QUANTITY_FEW:return"F";case c.QUANTITY_MANY:return"M";default:return"OT"}}formatPluralString(e,t){if(!e||!this.currentPluralRules)return"LOC_ERR: "+e;const n=e+this.stringForQuantity(this.currentPluralRules.quantityForNumber(t));return this.formatString(n,t)}formatString(e,...t){return o.a.t(e,{postProcess:"sprintf",sprintf:t})}format(e,...t){return P(e,...t)}getString(e){return o.a.t(e)}replace(e,t,n){const a=e.indexOf(t);return-1===a?e:[e.substring(0,a),n,e.substring(a+t.length)]}replaceTwo(e,t,n,a,i){let r={index:e.indexOf(t),key:t,obj:n},s={index:e.indexOf(a),key:a,obj:i};if(r.index>s.index){const e=r;r=s,s=e}return-1===r.index&&-1===s.index?e:-1===r.index?this.replace(e,s.key,s.obj):-1===s.index?this.replace(e,r.key,r.obj):[e.substring(0,r.index),r.obj,e.substring(r.index+r.key.length,s.index),s.obj,e.substring(s.index+s.key.length)]}}const J=new K;window.localization=J;t.a=J},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return C})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return U})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return E})),n.d(t,"y",(function(){return x})),n.d(t,"z",(function(){return T})),n.d(t,"A",(function(){return M})),n.d(t,"B",(function(){return P})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return A})),n.d(t,"E",(function(){return O})),n.d(t,"F",(function(){return N})),n.d(t,"G",(function(){return j})),n.d(t,"I",(function(){return F})),n.d(t,"J",(function(){return B})),n.d(t,"H",(function(){return D})),n.d(t,"K",(function(){return L})),n.d(t,"L",(function(){return R})),n.d(t,"M",(function(){return V})),n.d(t,"N",(function(){return z})),n.d(t,"O",(function(){return W})),n.d(t,"cb",(function(){return H})),n.d(t,"bb",(function(){return Y})),n.d(t,"ab",(function(){return G})),n.d(t,"db",(function(){return Q})),n.d(t,"R",(function(){return q})),n.d(t,"Q",(function(){return K})),n.d(t,"T",(function(){return J})),n.d(t,"S",(function(){return Z})),n.d(t,"P",(function(){return X})),n.d(t,"W",(function(){return $})),n.d(t,"Y",(function(){return ee})),n.d(t,"X",(function(){return te})),n.d(t,"Z",(function(){return ne})),n.d(t,"V",(function(){return ae})),n.d(t,"U",(function(){return ie})),n.d(t,"jb",(function(){return re})),n.d(t,"ib",(function(){return se})),n.d(t,"kb",(function(){return oe})),n.d(t,"gb",(function(){return ce})),n.d(t,"fb",(function(){return le})),n.d(t,"hb",(function(){return ue})),n.d(t,"eb",(function(){return de})),n.d(t,"lb",(function(){return pe})),n.d(t,"mb",(function(){return he})),n.d(t,"nb",(function(){return me})),n.d(t,"pb",(function(){return fe})),n.d(t,"ob",(function(){return ge})),n.d(t,"qb",(function(){return be})),n.d(t,"rb",(function(){return ye})),n.d(t,"ub",(function(){return ke})),n.d(t,"tb",(function(){return ve})),n.d(t,"sb",(function(){return we})),n.d(t,"vb",(function(){return Ce})),n.d(t,"wb",(function(){return Se})),n.d(t,"yb",(function(){return Ue})),n.d(t,"xb",(function(){return _e})),n.d(t,"zb",(function(){return Ee})),n.d(t,"Ab",(function(){return xe})),n.d(t,"Bb",(function(){return Te})),n.d(t,"Cb",(function(){return Me})),n.d(t,"Db",(function(){return Pe})),n.d(t,"Eb",(function(){return Ie})),n.d(t,"Gb",(function(){return Ae})),n.d(t,"Fb",(function(){return Oe})),n.d(t,"Hb",(function(){return Ne})),n.d(t,"Ib",(function(){return je})),n.d(t,"Jb",(function(){return Fe})),n.d(t,"Lb",(function(){return Be})),n.d(t,"Mb",(function(){return De})),n.d(t,"Nb",(function(){return Le})),n.d(t,"Ob",(function(){return Re})),n.d(t,"Pb",(function(){return Ve})),n.d(t,"Kb",(function(){return ze})),n.d(t,"Rb",(function(){return We})),n.d(t,"Qb",(function(){return He}));const a=10,i=200,r=300,s=30,o="Telegram Web",c=25,l=100,u=1,d=10,p=12,h=300,m=600,f=800,g=600,b="auth",y="suggested_language_pack_id",k=150,v=2,w=300,C=16,S=10,U=20,_=800,E=20,x=600,T=2147483647,M=0,P=5e3,I=5e3,A=500,O=!0,N=960,j=1280,F=380,B=90,D=45,L=320,R=90,V=10,z=600,W=20,H=.25,Y=0,G=1,Q=.05,q=.25,K=2,J=.25,Z=1,X=1.75,$=250,ee=5,te=10,ne=32,ae=1,ie=4194304,re=255,se=re-79,oe=re+99,ce=100,le=ce-29,ue=ce+99,de=10,pe=15,he=5,me=50,fe=204800,ge=204800,be=204800,ye=2048e3,ke=204800,ve=10485760,we=204800,Ce=640,Se=160,Ue=800,_e=400,Ee=[42777,333e3,777e3],xe=42,Te=192,Me=76,Pe=192,Ie=64,Ae=90,Oe=40,Ne=32,je=8,Fe=8,Be=20,De=0,Le=20,Re=0,Ve=1e3,ze=5,We="81118cf8b0b89353036d3c56dc52cc51.wasm",He=We.replace(".wasm","")},,,,function(e,t,n){"use strict";var a=n(53),i=n(29),r=n(36),s=n(5);var o=class{constructor(e,t){this.actions=new Map,this.timerId=null,this.chatId=e,this.timeoutCallback=t,this.handleTimer=this.handleTimer.bind(this),this.addAction=this.addAction.bind(this),this.clearAction=this.clearAction.bind(this),this.setActionsTimeout=this.setActionsTimeout.bind(this)}handleTimer(){let e=new Date,t=[];var n,i=Object(a.a)(this.actions);try{for(i.s();!(n=i.n()).done;){let a=Object(r.a)(n.value,2),i=a[0];a[1].expire-e<=0&&t.push(i)}}catch(l){i.e(l)}finally{i.f()}for(var s=0,o=t;s<o.length;s++){let e=o[s];this.actions.delete(e)}let c={"@type":"updateUserChatAction",chat_id:this.chatId,action:{"@type":"chatActionTimerUpdate"}};this.timeoutCallback(c),this.setActionsTimeout()}addAction(e,t){let n=new Date;n.setSeconds(n.getSeconds()+s.Ib),this.actions.set(e,{expire:n,action:t}),this.timerId&&clearTimeout(this.timerId),this.setActionsTimeout()}setActionsTimeout(){let e=new Date,t=1e6;var n,i=Object(a.a)(this.actions);try{for(i.s();!(n=i.n()).done;){let a=Object(r.a)(n.value,2),i=(a[0],a[1].expire-e);i<t&&(t=i),t<0&&(t=0)}}catch(s){i.e(s)}finally{i.f()}t<1e6&&(this.timerId=setTimeout(this.handleTimer,t))}clearAction(e){this.actions.delete(e),this.timerId&&clearTimeout(this.timerId),this.setActionsTimeout()}},c=n(23),l=n(19),u=n(17),d=n(1);class p extends i.a{constructor(){super(),this.reset=()=>{this.scrollPositions=new Map,this.items=new Map,this.typingManagers=new Map,this.onlineMemberCount=new Map,this.counters=new Map,this.skippedUpdates=[],this.chatList=new Map,this.wallpaper=null},this.loadClientData=()=>{const e=new Map;try{let t=localStorage.get("clientData");t&&(t=JSON.parse(t),t&&Object.keys(t).forEach(n=>{e.set(Number(n),t[n])}))}catch(t){}this.clientData=e},this.saveClientData=()=>{const e=Array.from(this.clientData.entries()).reduce((e,[t,n])=>(n&&(e[String(t)]=n),e),{});localStorage.setItem("clientData",JSON.stringify(e))},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateConnectionState":"connectionStateUpdating"===e.state["@type"]?(this.updating=!0,this.skippedUpdates=[]):(this.updating=!1,this.skippedUpdates.length>0&&(d.a.parameters.fastUpdating=!1,this.emitUpdate({"@type":"clientUpdateFastUpdatingComplete",updates:this.skippedUpdates}),this.skippedUpdates=[]));break;case"updateChatActionBar":{const t=e.chat_id,n=e.action_bar,a=this.get(t);a&&this.assign(a,{action_bar:n}),this.emitFastUpdate(e);break}case"updateChatDefaultDisableNotification":this.emitFastUpdate(e);break;case"updateChatOnlineMemberCount":this.setOnlineMemberCount(e.chat_id,e.online_member_count),this.emitFastUpdate(e);break;case"updateChatDraftMessage":{const t=e.chat_id,n=e.positions,a=e.draft_message,i=this.get(t);i&&this.assign(i,{positions:n.length?n:i.positions,draft_message:a}),this.updateChatChatLists(t),this.emitFastUpdate(e);break}case"updateChatIsBlocked":{const t=e.chat_id,n=e.is_blocked,a=this.get(t);a&&this.assign(a,{is_blocked:n}),this.emitFastUpdate(e);break}case"updateChatIsMarkedAsUnread":{const t=e.chat_id,n=e.is_marked_as_unread,a=this.get(t);a&&this.assign(a,{is_marked_as_unread:n}),this.emitFastUpdate(e);break}case"updateChatLastMessage":{const t=e.chat_id,n=e.positions,a=e.last_message,i=this.get(t);i&&this.assign(i,{positions:n,last_message:a}),this.updateChatChatLists(t),u.a.set(a),this.emitFastUpdate(e);break}case"updateChatNotificationSettings":{const t=e.chat_id,n=e.notification_settings,a=this.get(t);a&&this.assign(a,{notification_settings:n}),this.emitFastUpdate(e);break}case"updateChatPhoto":{const t=e.chat_id,n=e.photo,a=this.get(t);if(a)switch(this.assign(a,{photo:n}),a.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":break;case"chatTypePrivate":case"chatTypeSecret":{const t=l.a.get(a.type.user_id);t&&l.a.assign(t,{profile_photo:e.photo});break}}this.emitFastUpdate(e);break}case"updateChatPosition":{const t=e.chat_id,n=e.position,a=this.get(t);a&&this.assign(a,{positions:[...a.positions.filter(e=>!Object(c.jb)(e,n)),n]}),this.updateChatChatLists(t),this.emitFastUpdate(e);break}case"updateChatReadInbox":{const t=e.chat_id,n=e.last_read_inbox_message_id,a=e.unread_count,i=this.get(t);i&&this.assign(i,{last_read_inbox_message_id:n,unread_count:a}),this.emitFastUpdate(e);break}case"updateChatReadOutbox":{const t=e.chat_id,n=e.last_read_outbox_message_id,a=this.get(t);a&&this.assign(a,{last_read_outbox_message_id:n}),this.emitFastUpdate(e);break}case"updateChatReplyMarkup":{const t=e.chat_id,n=e.reply_markup_message_id,a=this.get(t);a&&this.assign(a,{reply_markup_message_id:n}),this.emitFastUpdate(e);break}case"updateChatTitle":{const t=e.chat_id,n=e.title,a=this.get(t);a&&this.assign(a,{title:n}),this.emitFastUpdate(e);break}case"updateChatUnreadMentionCount":{const t=e.chat_id,n=e.unread_mention_count,a=this.get(t);a&&this.assign(a,{unread_mention_count:n}),this.emitFastUpdate(e);break}case"updateNewChat":this.set(e.chat),this.emitFastUpdate(e);break;case"updateSecretChat":case"updateUnreadChatCount":this.emitFastUpdate(e);break;case"updateUserChatAction":{let t=this.getTypingManager(e.chat_id);t||(t=new o(e.chat_id,e=>this.emitUpdate(e)),this.setTypingManager(e.chat_id,t));const n=e.user_id;"chatActionCancel"===e.action["@type"]?t.clearAction(n):t.addAction(n,e.action),this.emitFastUpdate(e);break}case"updateMessageMentionRead":{const t=e.chat_id,n=e.unread_mention_count,a=this.get(t);a&&this.assign(a,{unread_mention_count:n}),this.emitFastUpdate(e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateChatBackground":{const t=e.wallpaper;this.wallpaper=t,this.emitUpdate(e);break}case"clientUpdateHintsClose":case"clientUpdateHintsGlobal":case"clientUpdateHintsLocal":case"clientUpdateClearHistory":case"clientUpdateClearOpenChatOptions":case"clientUpdateLeaveChat":case"clientUpdateArchive":case"clientUpdateOpenChat":case"clientUpdateContacts":case"clientUpdateSettings":case"clientUpdateNewGroup":case"clientUpdateNewChannel":this.emitUpdate(e);break;case"clientUpdateSetChatClientData":{const t=e.chatId,n=e.clientData;d.a.send({"@type":"setChatClientData",chat_id:t,client_data:JSON.stringify(n)}),this.setClientData(t,n),this.saveClientData(),this.emitUpdate(e);break}}},this.emitUpdate=e=>{this.emit(e["@type"],e)},this.emitFastUpdate=e=>{this.updating&&d.a.parameters.fastUpdating?this.skippedUpdates.push(e):this.emit(e["@type"],e)},this.addTdLibListener=()=>{d.a.on("update",this.onUpdate),d.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{d.a.off("update",this.onUpdate),d.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.loadClientData(),this.addTdLibListener()}updateChatChatLists(e){const t=this.get(e).chat;if(!t)return;const n=t.positions;if(n){var i,r=Object(a.a)(this.chatList.keys());try{for(r.s();!(i=r.n()).done;){const t=i.value;this.chatList.get(t).delete(e)}}catch(s){r.e(s)}finally{r.f()}if(n.length)for(let t=0;t<n.length;t++){const a=n[t].list,i="".concat(a["@type"],"_filter_id=").concat(a.filter_id);let r=this.chatList.get(i);r||(r=new Map,this.chatList.set(i,r)),r.set(e,e)}}}assign(e,t){this.set(Object.assign({},e,t))}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getCounters(e){return this.counters.get(e)}setCounters(e,t){this.counters.set(e,t)}getClientData(e){return this.clientData.get(e)||{}}setClientData(e,t){this.clientData.set(e,t)}setOnlineMemberCount(e,t){this.onlineMemberCount.set(e,t)}getOnlineMemberCount(e){return this.onlineMemberCount.get(e)||0}getTypingManager(e){return this.typingManagers.get(e)}setTypingManager(e,t){return this.typingManagers.set(e,t)}setScrollPosition(e,t){this.scrollPositions.set(e,t)}getScrollPosition(e){return this.scrollPositions.get(e)}}const h=new p;window.chat=h;t.a=h},function(e,t,n){"use strict";n.d(t,"R",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"E",(function(){return _})),n.d(t,"s",(function(){return M})),n.d(t,"t",(function(){return I})),n.d(t,"P",(function(){return ee})),n.d(t,"p",(function(){return ae})),n.d(t,"j",(function(){return re})),n.d(t,"k",(function(){return se})),n.d(t,"a",(function(){return he})),n.d(t,"L",(function(){return ge})),n.d(t,"D",(function(){return xe})),n.d(t,"v",(function(){return Me})),n.d(t,"u",(function(){return Pe})),n.d(t,"l",(function(){return Ne})),n.d(t,"h",(function(){return w})),n.d(t,"O",(function(){return C})),n.d(t,"B",(function(){return $})),n.d(t,"A",(function(){return pe})),n.d(t,"M",(function(){return fe})),n.d(t,"b",(function(){return me})),n.d(t,"C",(function(){return ke})),n.d(t,"N",(function(){return ve})),n.d(t,"w",(function(){return Se})),n.d(t,"x",(function(){return _e})),n.d(t,"y",(function(){return Ee})),n.d(t,"z",(function(){return Le})),n.d(t,"F",(function(){return H})),n.d(t,"I",(function(){return Ie})),n.d(t,"G",(function(){return Te})),n.d(t,"H",(function(){return Y})),n.d(t,"J",(function(){return we})),n.d(t,"K",(function(){return Ce})),n.d(t,"Q",(function(){return te})),n.d(t,"c",(function(){return ne})),n.d(t,"i",(function(){return ce})),n.d(t,"r",(function(){return Ae})),n.d(t,"m",(function(){return Oe})),n.d(t,"e",(function(){return je})),n.d(t,"f",(function(){return Fe})),n.d(t,"n",(function(){return Be})),n.d(t,"g",(function(){return De})),n.d(t,"o",(function(){return oe})),n.d(t,"q",(function(){return ie}));var a=n(6),i=n.n(a),r=n(36),s=n(11),o=n(12),c=n(23),l=n(25),u=n(33),d=n(5),p=n(9),h=n(2),m=n(17),f=n(19),g=n(1);function b(){return g.a.streaming&&function(){if("serviceWorker"in navigator){const e=navigator.serviceWorker.controller;return e||console.log("[SW] no running SW"),!!e}return!1}()}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{let n=new FileReader;n.onload=()=>{e(n.result)},n.readAsArrayBuffer(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return e?e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):e<1073741824?"".concat((e/1024/1024).toFixed(1)," MB"):"".concat((e/1024/1024/1024).toFixed(1)," GB"):"0 B"}function w(e){if(!e)return"";let t=e.size;return t?v(t):""}function C(e,t){if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{let n=window.URL.createObjectURL(e),a=document.createElement("a");a.style.display="none",a.href=n,a.setAttribute("download",t),"undefined"===typeof a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}}function S(e,t,n){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:if(a.length){e.next=6;break}return e.abrupt("return");case 6:for(r=[],s=[],o=0;o<a.length;o++)(c=m.a.get(n,a[o]))?r.push(c):s.push(a[o]);if(!(s.length>0)){e.next=15;break}return e.next=12,g.a.send({"@type":"getMessages",chat_id:n,message_ids:a});case 12:(l=e.sent).messages=l.messages.map((e,t)=>e||{"@type":"deletedMessage",chat_id:n,id:a[t],sender:{},content:null}),r=r.concat(l.messages);case 15:for(m.a.setItems(r),o=s.length-1;o>=0;o--)m.a.emit("getMessageResult",m.a.get(n,s[o]));_(h.a.getStore(),r);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){for(let n=t.length-1;n>=0;n--){const a=t[n];if(!a)continue;const i=a.content;if(i)switch(i["@type"]){case"messageAnimation":I(e,i.animation,a);break;case"messageAudio":x(e,i.audio,a);break;case"messageChatChangePhoto":z(e,i.photo,a,d.L);break;case"messageDocument":N(e,i.document,a);break;case"messageGame":F(e,i.game,a);break;case"messagePhoto":z(e,i.photo,a,d.L);break;case"messageSticker":Y(e,i.sticker,a);break;case"messageText":{const t=i.web_page;if(!t)break;const n=t.animation,r=t.audio,s=t.document,o=t.photo,c=t.sticker,l=t.video,u=t.video_note;if(o){z(e,o,a,d.L);break}if(n){I(e,n,a);break}if(r){x(e,r,a);break}if(s){N(e,s,a);break}if(c){Y(e,c,a);break}if(l){K(e,l,a);break}if(u){Z(e,u,a);break}break}case"messageVideo":K(e,i.video,a);break;case"messageVideoNote":Z(e,i.video_note,a);break}}}function E(e,t,n,a=!0){if(!t)return;let i=t.audio;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateAudioBlob(c,l,s),()=>{(!a||o&&o<d.pb)&&h.a.getRemoteFile(s,d.h,n||t)})}function x(e,t,n){if(!t)return!1;const a=t.album_cover_thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(i.id))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateAudioThumbnailBlob(s,o,r),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function T(e){const t=e.animation;if(!t)return;const n=t.id;t.blob||h.a.getBlob(n)||h.a.cancelGetRemoteFile(n)}function M(e,t,n,a=!0){if(!t)return;let i=t.animation;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateAnimationBlob(c,l,s),()=>{(!a||o&&o<d.ob)&&h.a.getRemoteFile(s,d.h,n||t)})}function P(e){if(!e)return;const t=e.thumbnail;if(!t)return;let n=t.file;if(!n)return;n=h.a.get(n.id)||n;const a=n.id;h.a.getBlob(a)||h.a.cancelGetRemoteFile(a)}function I(e,t,n){if(!t)return!1;const a=t.thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(i.id))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateAnimationThumbnailBlob(s,o,r),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function A(e,t,n){if(!t)return;if(!n)return;const a=t.user_id,i=f.a.get(a);i&&we(e,i)}function O(e,t,n,a=!0){if(!t)return;let i=t.document;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateDocumentBlob(c,l,s),()=>{(!a||o&&o<d.qb)&&h.a.getRemoteFile(s,d.h,n||t)})}function N(e,t,n){if(!t)return!1;const a=t.thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(i.id))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateDocumentThumbnailBlob(s,o,r),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function j(e,t,n,a=!0){if(!t)return;M(e,t.animation,n,a)}function F(e,t,n){if(!t)return!1;const a=t.photo;return I(e,t.animation,n)||z(e,a,n),!0}function B(){return(B=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,o,c,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=n.location,s=Object(u.q)(r,d.l,d.k)){e.next=6;break}return e.abrupt("return");case 6:if(o=h.a.getLocationFile(s)){e.next=13;break}return e.next=10,g.a.send({"@type":"getMapThumbnailFile",location:r,width:d.l,height:d.k,zoom:d.t,scale:d.r,chat_id:a?a.chat_id:0});case 10:o=e.sent,h.a.setLocationFile(s,o),t=h.a.getStore();case 13:if(o=h.a.get(o.id)||o,c=o.id,!h.a.getBlob(o.id)){e.next=18;break}return e.abrupt("return");case 18:l=a?a.chat_id:0,p=a?a.id:0,h.a.getLocalFile(t,o,null,()=>h.a.updateLocationBlob(l,p,c),()=>h.a.getRemoteFile(c,d.h,a||n));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=Object(u.q)(n)){e.next=5;break}return e.abrupt("return");case 5:if(s=h.a.getLocationFile(r)){e.next=12;break}return e.next=9,g.a.send({"@type":"getMapThumbnailFile",location:n,width:d.s,height:d.q,zoom:d.t,scale:d.r,chat_id:a?a.chat_id:0});case 9:s=e.sent,h.a.setLocationFile(r,s),t=h.a.getStore();case 12:if(s=h.a.get(s.id)||s,o=s.id,!h.a.getBlob(s.id)){e.next=17;break}return e.abrupt("return");case 17:c=a?a.chat_id:0,l=a?a.id:0,h.a.getLocalFile(t,s,null,()=>h.a.updateLocationBlob(c,l,o),()=>h.a.getRemoteFile(o,d.h,a||n));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){if(!e)return;const t=e.sizes;if(!t)return;const n=Object(o.p)(t,d.G);if(!n)return;let a=n.photo;if(!a)return;a=h.a.get(a.id)||a;const i=a.id;h.a.getBlob(i)||h.a.cancelGetRemoteFile(i)}function V(e,t,n){if(!t)return;const a=t.sizes;if(!a)return;const i=Object(o.p)(a,d.G);if(!i)return;let r=i.photo;if(!r)return;r=h.a.get(r.id)||r;const s=r.id;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,r,null,()=>h.a.updatePhotoBlob(c,l,s),()=>h.a.getRemoteFile(s,d.h,n||t))}function z(e,t,n,a=d.K){if(!t)return;const i=t.sizes;if(!i)return;const r=Object(o.l)(i,a);if(!r)return;let s=r.photo;if(!s)return;s=h.a.get(s.id)||s;const c=s.id;if(h.a.getBlob(c))return;const l=n?n.chat_id:0,u=n?n.id:0;h.a.getLocalFile(e,s,null,()=>h.a.updatePhotoBlob(l,u,c),()=>h.a.getRemoteFile(c,d.h,n||t))}function W(e,t,n){if(!t)return!1;if(!n)return!1;const a=Object(o.m)(t.sizes);if(!a)return!1;if(Object(o.l)(t.sizes)===a)return;let i=a.photo;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;return h.a.getBlob(r)||h.a.getLocalFile(e,i,null,()=>h.a.updatePhotoBlob(n.chat_id,n.id,r),()=>h.a.getRemoteFile(r,d.Hb,n)),!0}function H(e,t,n,a=!0){if(!t)return;let i=t.sticker;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateStickerBlob(c,l,s,t),()=>{(!a||o&&o<d.rb)&&h.a.getRemoteFile(s,d.h,n||t)})}function Y(e,t,n){if(!t)return!1;const a=t.thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(r))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateStickerThumbnailBlob(s,o,r,t),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function G(e){if(!e)return;let t=e.video;if(!t)return;t=h.a.get(t.id)||t;const n=t.id;h.a.getBlob(n)||h.a.cancelGetRemoteFile(n)}function Q(e,t,n,a=!0){if(!t)return;let i=t.video,r=t.supports_streaming;if(!i)return;i=h.a.get(i.id)||i;const s=i,o=s.id,c=s.size;if(h.a.getBlob(o))return;if(r&&b())return;const l=n?n.chat_id:0,u=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateVideoBlob(l,u,o),()=>{(!a||c&&c<d.tb)&&h.a.getRemoteFile(o,d.h,n||t)})}function q(e){if(!e)return;const t=e.thumbnail;if(!t)return!1;let n=t.file;if(!n)return!1;n=h.a.get(n.id)||n;const a=n.id;if(h.a.getBlob(a))return!0;h.a.cancelGetRemoteFile(a)}function K(e,t,n){if(!t)return!1;const a=t.thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(r))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateVideoThumbnailBlob(s,o,r),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function J(e,t,n,a=!0){if(!t)return;let i=t.video;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateVideoNoteBlob(c,l,s),()=>{(!a||o&&o<d.sb)&&h.a.getRemoteFile(s,d.h,n||t)})}function Z(e,t,n){if(!t)return!1;const a=t.thumbnail;if(!a)return!1;let i=a.file;if(!i)return!1;i=h.a.get(i.id)||i;const r=i.id;if(h.a.getBlob(r))return!0;const s=n?n.chat_id:0,o=n?n.id:0;return h.a.getLocalFile(e,i,null,()=>h.a.updateVideoNoteThumbnailBlob(s,o,r),()=>h.a.getRemoteFile(r,d.Hb,n||t)),!0}function X(e,t,n,a=!0){if(!t)return;let i=t.voice;if(!i)return;i=h.a.get(i.id)||i;const r=i,s=r.id,o=r.size;if(h.a.getBlob(s))return;const c=n?n.chat_id:0,l=n?n.id:0;h.a.getLocalFile(e,i,null,()=>h.a.updateVoiceNoteBlob(c,l,s),()=>{(!a||o&&o<d.ub)&&h.a.getRemoteFile(s,d.h,n||t)})}function $(e,t){const n=new Map,a=new Map;let i=0;const r=new Map;for(let s=t.length-1;s>=0;s--){const o=t[s];if(!o)continue;const c=o.chat_id,l=o.content,u=o.sender,d=o.reply_to_message_id,p=o.forward_info;if(u.user_id?n.set(u.user_id,u.user_id):u.chat_id&&a.set(u.chat_id,u.chat_id),p){const e=p.origin;switch(e["@type"]){case"messageForwardOriginChannel":a.set(e.chat_id,e.chat_id);break;case"messageForwardOriginHiddenUser":break;case"messageForwardOriginUser":n.set(e.sender_user_id,e.sender_user_id)}}if(d&&(i=c,r.set(d,d)),l)switch(l["@type"]){case"messageAnimation":{const t=l.animation;M(e,t,o),I(e,t,o);break}case"messageAudio":{const t=l.audio;E(e,t,o),x(e,t,o);break}case"messageChatChangePhoto":{const t=l.photo;z(e,t,o),V(e,t,o);break}case"messageContact":A(e,l.contact,o);break;case"messageDocument":{const t=l.document;O(e,t,o),N(e,t,o);break}case"messageGame":{const t=l.game;j(e,t,o),F(e,t,o);break}case"messageInvoice":{const t=l.photo;V(e,t,o),z(e,t,o),W(e,t,o);break}case"messageLocation":D(e,l.location,o);break;case"messageText":{const t=l.web_page;if(!t)break;const n=t.animation,a=t.audio,i=t.document,r=t.photo,s=t.sticker,c=t.video,u=t.video_note,d=t.voice_note;let p=!0;n&&(M(e,n,o),p=!I(e,n,o)),a&&(E(e,a,o),p=!x(e,a,o)),i&&(O(e,i,o),p=!N(e,i,o)),s&&(H(e,s,o),p=!Y(e,s,o)),c&&(p=!K(e,c,o)),u&&(J(e,u,o),p=!Z(e,u,o)),d&&X(e,d,o),p&&(V(e,r,o),z(e,r,o),W(e,r,o));break}case"messagePhoto":{const t=l.photo;V(e,t,o),z(e,t,o),W(e,t,o);break}case"messageSticker":{const t=l.sticker;H(e,t,o),Y(e,t,o);break}case"messageVenue":D(e,l.venue.location,o);break;case"messageVideo":K(e,l.video,o);break;case"messageVideoNote":{const t=l.video_note;J(e,t,o),Z(e,t,o);break}case"messageVoiceNote":X(e,l.voice_note,o);break}}Ce(e,[...n.keys()]),_e(e,[...a.keys()]),S(e,i,[...r.keys()])}function ee(e,t){if(e)switch(e["@type"]){case"animation":!function(e,t){const n=t?t.chat_id:0,a=t?t.id:0;if(!e)return;const i=e.animation,r=e.file_name;if(!i)return;const s=i.id;te(i,r||s,t||e,()=>h.a.updateAnimationBlob(n,a,s))}(e,t);break;case"document":!function(e,t){const n=t?t.chat_id:0,a=t?t.id:0;if(!e)return;const i=e.document,r=e.file_name;if(!i)return;const s=i.id;te(i,r||s,t||e,()=>h.a.updateDocumentBlob(n,a,s))}(e,t);break;case"photo":!function(e,t){const n=t?t.chat_id:0,a=t?t.id:0;if(!e)return;const i=Object(o.p)(e.sizes,d.G);if(!i)return;const r=i.photo;if(!r)return;const s=r.id;te(r,s+".jpg",t||e,()=>h.a.updatePhotoBlob(n,a,s))}(e,t);break;case"video":!function(e,t){const n=t?t.chat_id:0,a=t?t.id:0;if(!e)return;const i=e.video,r=e.file_name;if(!i)return;const s=i.id;te(i,r||s,t||e,()=>h.a.updateVideoBlob(n,a,s))}(e,t)}}function te(e,t,n,a){if(!e)return;if(!t)return;if(e.arr)return void function(e,t,n){let a=new Blob([e],{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,t);else{let e=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=e,n.setAttribute("download",t),"undefined"===typeof n.download&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)}}(e.arr,t);let i=h.a.getBlob(e.id)||e.blob;i?C(i,t):ne(e,n,()=>{a&&a(),i=h.a.getBlob(e.id)||e.blob,i&&C(i,t)})}function ne(e,t,n){if(!e)return;const a=e.id,i=e.local;if(!h.a.getBlob(a))if(i.is_downloading_completed){const a=h.a.getStore();h.a.getLocalFile(a,e,null,n,()=>{i.can_be_downloaded&&h.a.getRemoteFile(e.id,d.h,t)})}else i.can_be_downloaded&&h.a.getRemoteFile(a,d.h,t)}function ae(e){if(!e)return null;switch(e["@type"]){case"animation":case"document":case"photo":case"video":case"videoNote":return e.minithumbnail;default:return null}}function ie(e){if(!e)return null;switch(e["@type"]){case"animation":return e.thumbnail;case"audio":return e.album_cover_thumbnail;case"document":return e.thumbnail;case"photo":{const t=oe(e,d.K),n=Object(r.a)(t,3),a=n[0],i=n[1];return{"@type":"thumbnail",format:{"@type":"thumbnailFormatJpeg"},file:n[2],width:a,height:i}}case"sticker":case"video":case"videoNote":return e.thumbnail;default:return null}}function re(e,t){const n=m.a.get(e,t);if(!n)return[0,0,null];const a=n.content;if(!a)return[0,0,null];switch(a["@type"]){case"messageAnimation":{const e=a.animation;if(e&&e.minithumbnail)return[e.minithumbnail.width,e.minithumbnail.height,e.minithumbnail];break}case"messageChatChangePhoto":{const e=a.photo;if(e&&e.minithumbnail)return[e.minithumbnail.width,e.minithumbnail.height,e.minithumbnail];break}case"messageDocument":{const e=a.document;if(e&&e.minithumbnail)return[e.minithumbnail.width,e.minithumbnail.height,e.minithumbnail];break}case"messageInvoice":case"messagePhoto":{const e=a.photo;if(e&&e.minithumbnail)return[e.minithumbnail.width,e.minithumbnail.height,e.minithumbnail];break}case"messageText":{const e=a.web_page;if(e){const t=e.animation,n=e.document,a=e.video,i=e.photo;if(t&&t.minithumbnail)return[t.minithumbnail.width,t.minithumbnail.height,t.minithumbnail];if(n&&n.minithumbnail)return[n.minithumbnail.width,n.minithumbnail.height,n.minithumbnail];if(a&&a.minithumbnail)return[a.minithumbnail.width,a.minithumbnail.height,a.minithumbnail];if(i&&i.minithumbnail)return[i.minithumbnail.width,i.minithumbnail.height,i.minithumbnail]}break}case"messageVideo":{const e=a.video;if(e&&e.minithumbnail)return[e.minithumbnail.width,e.minithumbnail.height,e.minithumbnail];break}default:return[0,0,null]}return[0,0,null]}function se(e,t){const n=m.a.get(e,t);if(!n)return null;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAnimation":{const e=a.animation;if(e&&e.thumbnail)return e.thumbnail;break}case"messageChatChangePhoto":{const n=ce(e,t,d.K),a=Object(r.a)(n,3),i=a[0],s=a[1];return{"@type":"thumbnail",format:"thumbnailFormatJpeg",file:a[2],width:i,height:s}}case"messageDocument":{const e=a.document;if(e.thumbnail)return e.thumbnail;break}case"messageInvoice":case"messagePhoto":{const n=ce(e,t,d.K),a=Object(r.a)(n,3),i=a[0],s=a[1];return{"@type":"thumbnail",format:"thumbnailFormatJpeg",file:a[2],width:i,height:s}}case"messageText":{const n=a.web_page;if(n){const a=n.animation,i=n.document,s=n.video,o=n.photo;if(a&&a.thumbnail)return a.thumbnail;if(i&&i.thumbnail)return i.thumbnail;if(s&&s.thumbnail)return s.thumbnail;if(o){const n=ce(e,t,d.K),a=Object(r.a)(n,3),i=a[0],s=a[1];return{"@type":"thumbnail",format:"thumbnailFormatJpeg",file:a[2],width:i,height:s}}}break}case"messageVideo":{const e=a.video;if(e&&e.thumbnail)return e.thumbnail;break}default:return null}return null}function oe(e,t){if(!t)return[0,0,null,"",!1];switch(e["@type"]){case"animation":return[e.width,e.height,e.animation,e.mime_type,!1];case"photo":{const n=Object(o.p)(e.sizes,t);if(n)return[n.width,n.height,n.photo,"",!1];break}case"document":return[50,50,document.document,document.mime_type,!1];case"video":return[e.width,e.height,e.video,e.mime_type,e.supports_streaming&&b()]}return[0,0,null,"",!1]}function ce(e,t,n){if(!n)return[0,0,null,"",!1];const a=m.a.get(e,t);if(!a)return[0,0,null,"",!1];const i=a.content;if(!i)return[0,0,null,"",!1];switch(i["@type"]){case"messageAnimation":{const e=i.animation;if(e){return[e.width,e.height,e.animation,e.mime_type,!1]}break}case"messageChatChangePhoto":{const e=i.photo;if(e){const t=Object(o.p)(e.sizes,n);if(t){return[t.width,t.height,t.photo,"",!1]}}break}case"messageDocument":{const e=i.document;if(e){return[50,50,e.document,e.mime_type,!1]}break}case"messageInvoice":case"messagePhoto":{const e=i.photo;if(e){const t=Object(o.p)(e.sizes,n);if(t){return[t.width,t.height,t.photo,"",!1]}}break}case"messageText":{const e=i.web_page;if(e){const t=e.animation,a=e.document,i=e.photo,r=e.video;if(t){return[t.width,t.height,t.animation,t.mime_type,!1]}if(a){return[50,50,a.document,a.mime_type,!1]}if(r){return[r.width,r.height,r.video,r.mime_type,r.supports_streaming&&b()]}if(i){const e=Object(o.p)(i.sizes,n);if(e){return[e.width,e.height,e.photo,"",!1]}break}}break}case"messageVideo":{const e=i.video;if(e){return[e.width,e.height,e.video,e.mime_type,e.supports_streaming&&b()]}break}}return[0,0,null,"",!1]}function le(e){if(e&&e.length)for(let t=0;t<e.length;t++){const n=e[t];if(n)switch(n["@type"]){case"pageBlockAnimation":{const e=n.animation;if(!e)break;P(e),T(e);break}case"pageBlockPhoto":{const e=n.photo;if(!e)break;R(e);break}case"pageBlockVideo":{const e=n.video;if(!e)break;q(e),G(e);break}}}}function ue(e){if(e&&e.length)for(let t=0;t<e.length;t++){let n=e[t];const a=n.content;if(a)switch(a["@type"]){case"messageAnimation":{const e=a.animation;if(!e)break;P(e),T(e);break}case"messageInvoice":{const e=a.photo;if(!e)break;R(e);break}case"messagePhoto":{const e=a.photo;if(!e)break;R(e);break}case"messageVideo":{const e=a.video;if(!e)break;q(e),G(e);break}case"messageText":{const e=n.content.web_page;if(e){const t=e.animation,n=e.photo,a=e.video;t&&(P(t),T(t)),n&&R(n),a&&(q(a),G(a))}break}}}}function de(e,t=!1){if(!e)return;if(!e.length)return;const n=h.a.getStore();for(let a=0;a<e.length;a++){const i=e[a];if(i)switch(i["@type"]){case"pageBlockAnimation":{const e=i.animation;M(n,e,null,t),I(n,e,null);break}case"pageBlockPhoto":V(n,i.photo,null);break;case"pageBlockVideo":{const e=i.video;K(n,e,null),Q(n,e,null,t);break}}}}function pe(e,t=!1){if(!e)return;if(!e.length)return;const n=h.a.getStore();for(let a=0;a<e.length;a++){let i=e[a];const r=i.content;if(r)switch(r["@type"]){case"messageAnimation":{const e=r.animation;M(n,e,i,t),I(n,e,i);break}case"messageChatChangePhoto":V(n,r.photo,i);break;case"messageDocument":O(n,r.document,i,t);break;case"messageInvoice":V(n,r.photo,i);break;case"messagePhoto":V(n,r.photo,i);break;case"messageText":{const e=i.content.web_page;if(!e)break;const a=e.animation,r=e.document,s=e.photo,o=e.video;let c=!0;a&&(M(n,a,i,t),c=!I(n,a,i)),r&&(O(n,r,i,t),c=!1),o&&(Q(n,o,i,t),c=!K(n,o,i)),c&&V(n,s,i);break}case"messageVideo":{const e=r.video;K(n,e,i),Q(n,e,i,t);break}}}}function he(e,t){if(!t.length)return;const n=[];e>0&&n.push(t[e-1]),e<t.length-1&&n.push(t[e+1]),le([t[e]]),le(t)}function me(e,t){if(!t.length)return;const n=[];e>0&&n.push(t[e-1]),e<t.length-1&&n.push(t[e+1]),ue([t[e]]),ue(n)}function fe(e,t){if(!t.length)return;const n=[];e>0&&n.push(t[e-1]),e<t.length-1&&n.push(t[e+1]),pe([t[e]],!1),pe(n,!0)}function ge(e,t){if(!t.length)return;const n=[];e>0&&n.push(t[e-1]),e<t.length-1&&n.push(t[e+1]),de([t[e]],!1),de(n,!0)}function be(e,t,n){if(!t)return;const a=t.id;t=h.a.get(a)||t;const i=f.a.get(n);if(!i)return;t.blob||h.a.getBlob(a)||h.a.getLocalFile(e,t,null,()=>h.a.updateUserPhotoBlob(n,a),()=>h.a.getRemoteFile(a,d.Hb,i))}function ye(e,t,n){if(!t)return;const a=t.id;t=h.a.get(a)||t;const i=p.a.get(n);if(!i)return;if(h.a.getDataUrl(a))return;t.blob||h.a.getBlob(a)||h.a.getLocalFile(e,t,null,()=>h.a.updateChatPhotoBlob(n,a),()=>h.a.getRemoteFile(a,d.Hb,i))}function ke(e,t){if(!t)return;const n=h.a.getStore();t.forEach(t=>{switch(t["@type"]){case"chatPhoto":{const a=t,i=a.small,r=a.big;ye(n,i,e),ye(n,r,e);break}case"profilePhoto":{const a=Object(c.B)(e),i=t,r=i.small,s=i.big;be(n,r,a),be(n,s,a);break}case"userProfilePhoto":{if(!(t=Object(l.a)(t)))break;const a=Object(c.B)(e),i=t,r=i.small,s=i.big;be(n,r,a),be(n,s,a);break}}})}function ve(e,t,n){if(!n.length)return;const a=[];t>0&&a.push(n[t-1]),t<n.length-1&&a.push(n[t+1]),t>=0&&t<n.length&&a.push(n[t]),ke(e,a)}function we(e,t){const n=f.a.get(t);if(!n)return;const a=n.profile_photo;if(!a)return;be(e,a.small,t)}function Ce(e,t){t&&t.forEach(t=>we(e,t))}function Se(e,t,n=!1){const a=p.a.get(t);if(!a)return;Ue(e,a.photo,a.id,n)}function Ue(e,t,n,a){if(!t)return;const i=t.small,r=t.big;ye(e,i,n),a&&ye(e,r,n)}function _e(e,t){t&&t.forEach(t=>Se(e,t))}function Ee(e,t){const n=p.a.get(t);if(!n)return;const a=n.draft_message;if(!a)return;const i=a.reply_to_message_id;i&&S(e,t,[i])}function xe(e,t){if(!t)return;Ie(e,t.stickers)}function Te(e,t){if(!t)return;Ie(e,t.stickers)}function Me(e,t){t&&t.forEach(t=>{Pe(e,t,!1)})}function Pe(e,t,n=!1){if(t)switch(t.type["@type"]){case"backgroundTypeFill":break;case"backgroundTypePattern":{const a=t.document;a&&(N(e,a,null),n&&O(e,a,null,!1));break}case"backgroundTypeWallpaper":{const a=t.document;a&&(N(e,a,null),n&&O(e,a,null,!1));break}}}function Ie(e,t){t&&t.forEach(t=>{Y(e,t,null),t.is_animated&&H(e,t,null)})}function Ae(e){return e&&"image/gif"===e.toLowerCase()}function Oe(e){const t=e&&h.a.getDataUrl(e.id);if(t)return t;const n=je(e);return h.a.getBlobUrl(n)||""}function Ne(e){const t=function(e){return e?h.a.getPngBlob(e.id)||e.blob:null}(e);return h.a.getBlobUrl(t)||""}function je(e){return e?h.a.getBlob(e.id)||e.blob:null}function Fe(e){return e&&e.local&&e.local.is_downloading_active?v(e.local.downloaded_size):"0"}function Be(e){return e&&e.remote&&e.remote.is_uploading_active?v(e.remote.uploaded_size):"0"}function De(e){if(!e)return"";const t=e.split(".");return 1===t.length||""===t[0]&&2===t.length?"":t.pop().toLowerCase()}function Le(e){if(!e)return;const t=e.page_blocks;if(!t)return;const n=h.a.getStore();t.forEach(e=>function e(t,n){if(!n)return;switch(n["@type"]){case"pageBlockAnchor":break;case"pageBlockAnimation":{const a=n.animation,i=n.caption;I(t,a,null),M(t,a,null),e(t,i);break}case"pageBlockAudio":{const a=n.audio,i=n.caption;x(t,a,null),E(t,a,null),e(t,i);break}case"pageBlockAuthorDate":{const e=n.author;Re(t,e);break}case"pageBlockBlockQuote":{const e=n.text,a=n.credit;Re(t,e),Re(t,a);break}case"pageBlockCaption":{const e=n.text,a=n.credit;Re(t,e),Re(t,a);break}case"pageBlockChatLink":{const e=n.photo;Ue(t,e,0);break}case"pageBlockCollage":{const a=n.page_blocks,i=n.caption;e(t,i),a.forEach(n=>e(t,n));break}case"pageBlockCover":{const a=n.cover;e(t,a);break}case"pageBlockDetails":{const a=n.header,i=n.page_blocks;e(t,a),i.forEach(n=>e(t,n));break}case"pageBlockDivider":break;case"pageBlockEmbedded":{const a=n.poster_photo,i=n.caption;z(t,a,null),e(t,i);break}case"pageBlockEmbeddedPost":{const a=n.author_photo,i=n.page_blocks,r=n.caption;z(t,a,null),i.forEach(n=>e(t,n)),e(t,r);break}case"pageBlockFooter":{const e=n.footer;Re(t,e);break}case"pageBlockHeader":{const e=n.header;Re(t,e);break}case"pageBlockKicker":{const e=n.kicker;Re(t,e);break}case"pageBlockList":n.items.forEach(n=>e(t,n));break;case"pageBlockListItem":n.page_blocks.forEach(n=>e(t,n));break;case"pageBlockMap":{const a=n.caption;!function(e,t,n){B.apply(this,arguments)}(t,n,null),e(t,a);break}case"pageBlockParagraph":{const e=n.text;Re(t,e);break}case"pageBlockPhoto":{const a=n.photo,i=n.caption;z(t,a,null,d.n),e(t,i);break}case"pageBlockPreformatted":{const e=n.text;Re(t,e);break}case"pageBlockPullQuote":{const e=n.text,a=n.credit;Re(t,e),Re(t,a);break}case"pageBlockRelatedArticles":{const a=n.header,i=n.articles;Re(t,a),i.forEach(n=>e(t,n));break}case"pageBlockRelatedArticle":{const e=n.photo;z(t,e,null);break}case"pageBlockSlideshow":{const a=n.page_blocks,i=n.caption;e(t,i),a.forEach(n=>e(t,n));break}case"pageBlockSubheader":{const e=n.subheader;Re(t,e);break}case"pageBlockSubtitle":{const e=n.subtitle;Re(t,e);break}case"pageBlockTable":{const a=n.caption,i=n.cells;Re(t,a),i.forEach(n=>n.forEach(n=>e(t,n)));break}case"pageBlockTableCell":{const e=n.text;Re(t,e);break}case"pageBlockTitle":{const e=n.title;Re(t,e);break}case"pageBlockVideo":{const a=n.video,i=n.caption;K(t,a,null),Q(t,a,null),e(t,i);break}case"pageBlockVoiceNote":{const a=n.voice_note,i=n.caption;X(t,a,null),e(t,i);break}}}(n,e))}function Re(e,t){if(t)switch(t["@type"]){case"richTextAnchor":{const n=t.text;Re(e,n);break}case"richTextBold":{const n=t.text;Re(e,n);break}case"richTextEmailAddress":{const n=t.text;Re(e,n);break}case"richTextFixed":{const n=t.text;Re(e,n);break}case"richTextIcon":{const n=t.document;N(e,n,null),O(e,n,null,!1);break}case"richTextItalic":{const n=t.text;Re(e,n);break}case"richTextMarked":{const n=t.text;Re(e,n);break}case"richTextPhoneNumber":{const n=t.text;Re(e,n);break}case"richTextPlain":{const n=t.text;Re(e,n);break}case"richTexts":t.texts.forEach(t=>Re(e,t));break;case"richTextStrikethrough":{const n=t.text;Re(e,n);break}case"richTextSubscript":{const n=t.text;Re(e,n);break}case"richTextSuperscript":{const n=t.text;Re(e,n);break}case"richTextUnderline":{const n=t.text;Re(e,n);break}case"richTextUrl":{const n=t.text;Re(e,n);break}}}},,function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"y",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"w",(function(){return m})),n.d(t,"o",(function(){return _})),n.d(t,"h",(function(){return T})),n.d(t,"n",(function(){return B})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"B",(function(){return y})),n.d(t,"z",(function(){return k})),n.d(t,"p",(function(){return C})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"x",(function(){return U})),n.d(t,"C",(function(){return E})),n.d(t,"e",(function(){return x})),n.d(t,"j",(function(){return M})),n.d(t,"A",(function(){return P})),n.d(t,"b",(function(){return A})),n.d(t,"t",(function(){return O})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return F})),n.d(t,"s",(function(){return f})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return R}));var a=n(6),i=n.n(a),r=n(36),s=n(53),o=n(11),c=n(5);let l=void 0;function u(){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l){e.next=2;break}return e.abrupt("return",l);case 2:return t=new Promise(e=>{const t=new Image;t.onload=function(){e(2===t.width&&1===t.height)},t.onerror=function(){e(!1)},t.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="}),e.next=5,t;case 5:return e.abrupt("return",l=e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){if(!e||!t)return!1;let n;if(e.size!==t.size)return!1;var a,i=Object(s.a)(e);try{for(i.s();!(a=i.n()).done;){let e=Object(r.a)(a.value,2),i=e[0],s=e[1];if(n=t.get(i),n!==s||void 0===n&&!t.has(i))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}function h(){return!!(navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>-1)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function m(){return!!navigator.userAgent.match(/Windows Phone/i)||(!!navigator.userAgent.match(/iemobile/i)||!!navigator.userAgent.match(/WPDesktop/i))}function f(){const e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","MacIntel"];return navigator.platform?e.indexOf(navigator.platform)>-1:/iPad|iPhone|iPod|Mac\sOS\sX/.test(navigator.userAgent)&&!window.MSStream}function g(){const e=window.navigator.userAgent;let t="Unknown";return-1!==e.indexOf("Windows NT 10.0")&&(t="Windows 10"),-1!==e.indexOf("Windows NT 6.2")&&(t="Windows 8"),-1!==e.indexOf("Windows NT 6.1")&&(t="Windows 7"),-1!==e.indexOf("Windows NT 6.0")&&(t="Windows Vista"),-1!==e.indexOf("Windows NT 5.1")&&(t="Windows XP"),-1!==e.indexOf("Windows NT 5.0")&&(t="Windows 2000"),-1!==e.indexOf("Mac")&&(t="Mac/iOS"),-1!==e.indexOf("X11")&&(t="UNIX"),-1!==e.indexOf("Linux")&&(t="Linux"),t}function b(){const e=window.navigator.userAgent;let t="",n=!!!document.documentMode&&!!window.StyleMedia;return t=-1===e.indexOf("Chrome")||n?-1===e.indexOf("Safari")||n?-1!==e.indexOf("Firefox")?"Firefox":-1!==e.indexOf("MSIE")||!0===!!document.documentMode?"IE":n?"Edge":"Unknown":"Safari":"Chrome",t}function y(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function k(e,t){let n=e.length-t.length;return 0!==n?n<0?-1:1:e===t?0:e>t?1:-1}function v(e){return C(e,c.L)}function w(e,t=c.K){return C(e,t)}function C(e,t){if(!e)return null;if(0===e.length)return null;if(0===t)return null;let n=e.find(e=>"i"===e.type);if(n)return n;let a=e[0].width>=e[0].height,i=Math.abs(t-(a?e[0].width:e[0].height)),r=0;for(let s=1;s<e.length;s++){if(!e[s])continue;if("i"===e[s].type&&!e[s].photo.local.is_downloading_completed)continue;let n=Math.abs(t-(a?e[s].width:e[s].height));n<i&&(r=s,n=i)}return e[r]}function S(e,t,n=!0){return e?!n&&e.width<t&&e.height<t?e:e.width>e.height?{width:t,height:Math.floor(e.height*t/e.width)}:{width:Math.floor(e.width*t/e.height),height:t}:{width:0,height:0}}function U(e,t){const n=e.current,a=t?t.current:n,i=[];for(let r=0;r<a.children.length;r++){const e=a.children[r];e.offsetTop+e.offsetHeight>=n.scrollTop&&e.offsetTop<=n.scrollTop+n.offsetHeight&&i.push(r)}return i}function _(e,t){if(!e)return{index:-1,offset:0};const n=t.current;for(let a=0;a<n.children.length;a++){const t=n.children[a].offsetTop,i=e.scrollTop,r=e.offsetHeight;if(t>=i&&t<=i+r)return{index:a,offset:t-i,offsetTop:t,scrollTop:i}}return{index:-1,offset:0}}function E(e,t,n){var a,i,r,s=null,o=0;n||(n={});var c=function(){o=!1===n.leading?0:Date.now(),s=null,r=e.apply(a,i),s||(a=i=null)};return function(){var l=Date.now();o||!1!==n.leading||(o=l);var u=t-(l-o);return a=this,i=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),o=l,r=e.apply(a,i),s||(a=i=null)):s||!1===n.trailing||(s=setTimeout(c,u)),r}}function x(e,t,n){var a;return function(){var i=this,r=arguments,s=function(){a=null,n||e.apply(i,r)},o=n&&!a;clearTimeout(a),a=setTimeout(s,t),o&&e.apply(i,r)}}function T(e){if(!e)return"";var t,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){let e=t.value;if(e.toUpperCase()!==e.toLowerCase())return e;if(e>="0"&&e<="9")return e;if(e.length>1)return e}}catch(a){n.e(a)}finally{n.f()}return[...e].length>0?[...e][0]:""}function M(e){if(!e)return null;if(0===e.length)return null;const t=e.split(" ");return 1===t.length?T(t[0]):t.length>1?T(t[0])+T(t[t.length-1]):null}function P(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((e,n)=>{const a=new FileReader;a.addEventListener("load",(function(){try{const t=new Image;t.addEventListener("load",(function(){const n=t.width,a=t.height;e([n,a])})),t.src=a.result}catch(t){n()}})),a.readAsDataURL(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function O(e){return!!e&&"authorizationStateReady"===e["@type"]}function N(e,t,n,a=!1){return a?e>=t&&e<=n:e>t&&e<n}function j(e,t,n){return e<t?t:e>n?n:e}function F(e,t,n){n&&t>0&&(e=Math.max(Math.floor(t)-e,0));let a=Math.floor(e/3600),i=Math.floor((e-3600*a)/60),r=e-3600*a-60*i;return a>0&&i<10&&(i="0"+i),r<10&&(r="0"+r),(n?"-":"")+(a>0?a+":":"")+i+":"+r}function B(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function D(e,t){return!(!e&&t)&&(!(e&&!t)&&(!e&&!t||(0===e.length&&0===t.length||e===t)))}function L(e,t){if(e===t)return!0;if(!e&&t)return!1;if(e&&!t)return!1;if(0===e.length&&0===t.length)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function R(e,t,n){let a=0;for(;a<e.length&&n(e[a],t)<0;a++);return[...e.slice(0,a),t,...e.slice(a)]}},function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(29),o=n(36),c=n(53);var l=class{constructor(e,t){var n=this;this.add=(e,t,n,a)=>{if(this.actions.has(e))return!1;let i=new Date;return i.setMilliseconds(i.getMilliseconds()+t),this.actions.set(e,{expire:i,action:n,cancel:a}),this.timerId&&clearTimeout(this.timerId),this.setTimeout(),!0},this.invoke=function(){var e=Object(r.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.actions.get(t)){e.next=3;break}return e.abrupt("return");case 3:return n.actions.delete(t),e.next=6,n.actionCallback({key:t,action:a.action,cancel:a.cancel});case 6:if(!a.action){e.next=9;break}return e.next=9,a.action();case 9:n.timerId&&clearTimeout(n.timerId),n.setTimeout();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.remove=e=>{const t=this.actions.get(e);t&&(this.actions.delete(e),this.cancelCallback({key:e,action:t.action,cancel:t.cancel}),t.cancel&&t.cancel(),this.timerId&&clearTimeout(this.timerId),this.setTimeout())},this.setTimeout=()=>{let e=new Date,t=1e6;var n,a=Object(c.a)(this.actions);try{for(a.s();!(n=a.n()).done;){let a=Object(o.a)(n.value,2),i=(a[0],a[1].expire-e);i<t&&(t=i),t<0&&(t=0)}}catch(i){a.e(i)}finally{a.f()}t<1e6&&(this.timerId=setTimeout(this.handleTimer,t))},this.handleTimer=()=>{let e=new Date,t=[];var n,a=Object(c.a)(this.actions);try{for(a.s();!(n=a.n()).done;){let a=Object(o.a)(n.value,2),i=a[0],r=a[1];r.expire-e<=0&&t.push({key:i,value:r})}}catch(s){a.e(s)}finally{a.f()}for(var i=0,r=t;i<r.length;i++){let e=r[i];this.actions.delete(e.key),this.actionCallback({key:e.key,action:e.value.action,cancel:e.value.cancel}),e.value.action&&e.value.action()}this.setTimeout()},this.actions=new Map,this.actionCallback=e,this.cancelCallback=t}},u=n(27),d=n(98),p=n(5),h=n(4),m=n(1);class f extends s.a{constructor(){var e;super(),e=this,this.onWindowResize=()=>{const e=this.isSmallWidth,t=window.innerWidth<p.F;t!==e&&(this.isSmallWidth=t,m.a.clientUpdate({"@type":"clientUpdatePageWidth",isSmallWidth:t}))},this.reset=()=>{this.dialogsReady=!1,this.cacheLoaded=!1,this.setPhoneNumberRequest=null,this.chatId=0,this.dialogChatId=0,this.messageId=null,this.statistics=new Map,this.authorizationState=null,this.defaultPhone=null,this.connectionState=null,this.isChatDetailsVisible=!1,this.mediaViewerContent=null,this.profileMediaViewerContent=null,this.dragParams=null,this.actionScheduler=new l(this.handleScheduledAction,this.handleCancelScheduledAction)},this.addScheduledAction=(e,t,n,a)=>this.actionScheduler.add(e,t,n,a),this.invokeScheduledAction=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.actionScheduler.invoke(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.removeScheduledAction=e=>{this.actionScheduler.remove(e)},this.handleScheduledAction=e=>{console.log("Invoked scheduled action key=",e.key)},this.handleCancelScheduledAction=e=>{console.log("Cancel scheduled action key=",e.key)},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":switch(this.authorizationState=e.authorization_state,e.authorization_state["@type"]){case"authorizationStateLoggingOut":this.loggingOut=!0;break;case"authorizationStateWaitTdlibParameters":m.a.sendTdParameters();break;case"authorizationStateWaitEncryptionKey":m.a.send({"@type":"checkDatabaseEncryptionKey"});break;case"authorizationStateWaitPhoneNumber":this.setPhoneNumberRequest&&(this.setPhoneNumberRequest(),this.setPhoneNumberRequest=null);break;case"authorizationStateWaitCode":case"authorizationStateWaitPassword":break;case"authorizationStateReady":this.loggingOut=!1,this.setPhoneNumberRequest=null,Object(d.b)();break;case"authorizationStateClosing":break;case"authorizationStateClosed":this.reset(),this.loggingOut?m.a.init():(document.title+=": Zzz\u2026",m.a.clientUpdate({"@type":"clientUpdateAppInactive"}))}this.emit(e["@type"],e);break;case"updateChatIsMarkedAsUnread":{const t=e.chat_id,n=e.is_marked_as_unread;t===this.chatId&&n&&Object(u.c)();break}case"updateConnectionState":this.connectionState=e.state,this.emit(e["@type"],e);break;case"updateFatalError":this.emit(e["@type"],e);break;case"updateServiceNotification":{const t=e.type,n=e.content;if(!n)return;if("messageText"===n["@type"]){const e=n.text;if(!e)return;if("formattedText"===e["@type"]&&e.text)switch(t){case"AUTH_KEY_DROP_DUPLICATE":window.confirm(e.text)&&m.a.logOut();break;default:Object(u.x)({title:h.a.getString("AppName"),message:e,ok:h.a.getString("OK")})}}break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAlert":this.emit("clientUpdateAlert",e);break;case"clientUpdateAppInactive":this.emit("clientUpdateAppInactive");break;case"clientUpdateCacheLoaded":this.cacheLoaded=!0,this.emit("clientUpdateCacheLoaded");break;case"clientUpdateChatDetailsVisibility":{const t=e.visibility;this.isChatDetailsVisible=t,this.emit("clientUpdateChatDetailsVisibility",e);break}case"clientUpdateChatId":{if(this.recording){this.emit("clientUpdateInputShake");break}const t={"@type":"clientUpdateChatId",nextChatId:e.chatId,nextMessageId:e.messageId,options:e.options,previousChatId:this.chatId,previousMessageId:this.messageId};this.chatId=e.chatId,this.messageId=e.messageId,this.emit("clientUpdateChatId",t);break}case"clientUpdateDeleteMessages":this.emit("clientUpdateDeleteMessages",e);break;case"clientUpdateDialogChatId":{const t=e.chatId;this.dialogChatId=t,this.emit("clientUpdateDialogChatId",e);break}case"clientUpdateDialogsReady":this.dialogsReady=!0,this.emit("clientUpdateDialogsReady",e);break;case"clientUpdateDragging":{const t=e.dragging,n=e.dataTransfer;this.dragParams=t?{dragging:t,dataTransfer:n}:null,this.emit("clientUpdateDragging",e);break}case"clientUpdateFocusWindow":if(!this.authorizationState)break;m.a.send({"@type":"setOption",name:"online",value:{"@type":"optionValueBoolean",value:e.focused}}),this.emit("clientUpdateFocusWindow",e);break;case"clientUpdateForward":this.emit("clientUpdateForward",e);break;case"clientUpdateInputPasswordAlert":this.emit("clientUpdateInputPasswordAlert",e);break;case"clientUpdateLeaveChat":e.inProgress&&this.chatId===e.chatId&&m.a.setChatId(0);break;case"clientUpdateMediaViewerContent":{const t=e.content;this.mediaViewerContent=t,this.emit("clientUpdateMediaViewerContent",e);break}case"clientUpdateNewContentAvailable":this.emit("clientUpdateNewContentAvailable",e);break;case"clientUpdateOpenGameAlert":this.emit("clientUpdateOpenGameAlert",e);break;case"clientUpdateOpenUrlAlert":this.emit("clientUpdateOpenUrlAlert",e);break;case"clientUpdatePageWidth":this.emit("clientUpdatePageWidth",e);break;case"clientUpdatePinMessage":this.emit("clientUpdatePinMessage",e);break;case"clientUpdateProfileMediaViewerContent":{const t=e.content;this.profileMediaViewerContent=t,this.emit("clientUpdateProfileMediaViewerContent",e);break}case"clientUpdateRecordStart":this.recording=!0;break;case"clientUpdateRecordStop":case"clientUpdateRecordError":this.recording=!1;break;case"clientUpdateRequestBlockSender":this.emit("clientUpdateRequestBlockSender",e);break;case"clientUpdateRequestClearHistory":this.emit("clientUpdateRequestClearHistory",e);break;case"clientUpdateRequestLeaveChat":this.emit("clientUpdateRequestLeaveChat",e);break;case"clientUpdateRequestUrlAlert":this.emit("clientUpdateRequestUrlAlert",e);break;case"clientUpdateSearchChat":this.emit("clientUpdateSearchChat",e);break;case"clientUpdateSetPhone":{const t=e.phone;this.defaultPhone=t,t?!this.authorizationState||"authorizationStateWaitPhoneNumber"!==this.authorizationState["@type"]&&"authorizationStateWaitOtherDeviceConfirmation"!==this.authorizationState["@type"]?this.setPhoneNumberRequest=()=>this.setPhoneNumber(t):this.setPhoneNumber(t):(this.setPhoneNumberRequest=null,m.a.clientUpdate({"@type":"clientUpdateSetPhoneCanceled"})),this.emit("clientUpdateSetPhone",e);break}case"clientUpdateSnackbar":this.emit("clientUpdateSnackbar",e);break;case"clientUpdateSetPhoneResult":this.emit("clientUpdateSetPhoneResult",e);break;case"clientUpdateSetPhoneError":this.emit("clientUpdateSetPhoneError",e);break;case"clientUpdateChatSelect":this.chatSelectOptions=e.options,this.emit("clientUpdateChatSelect",e);break;case"clientUpdateTdLibDatabaseExists":this.emit("clientUpdateTdLibDatabaseExists",e);break;case"clientUpdateUnpinMessage":this.emit("clientUpdateUnpinMessage",e)}},this.setPhoneNumber=e=>{m.a.send({"@type":"setAuthenticationPhoneNumber",phone_number:e}).then(e=>{m.a.clientUpdate({"@type":"clientUpdateSetPhoneResult",result:e})}).catch(e=>{m.a.clientUpdate({"@type":"clientUpdateSetPhoneError",error:e})})},this.onUpdateStatistics=e=>{if(e)if(this.statistics.has(e["@type"])){const t=this.statistics.get(e["@type"]);this.statistics.set(e["@type"],t+1)}else this.statistics.set(e["@type"],1)},this.addTdLibListener=()=>{m.a.on("update",this.onUpdate),m.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{m.a.off("update",this.onUpdate),m.a.off("clientUpdate",this.onClientUpdate)},this.addStatistics=()=>{m.a.on("update",this.onUpdateStatistics)},this.setChatId=(e,t=null)=>{const n={"@type":"clientUpdateChatId",nextChatId:e,nextMessageId:t,previousChatId:this.chatId,previousMessageId:this.messageId};this.chatId=e,this.messageId=t,this.emit(n["@type"],n)},this.reset(),this.addTdLibListener(),this.addStatistics(),this.isSmallWidth=window.innerWidth<p.F,window.addEventListener("resize",this.onWindowResize)}getChatId(){return this.chatId}getMessageId(){return this.messageId}getConnectionState(){return this.connectionState}getAuthorizationState(){return this.authorizationState}assign(e,t){Object.assign(e,t)}}const g=new f;window.app=g;t.a=g},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(22),i=n(6),r=n.n(i),s=n(11),o=n(29),c=n(33),l=n(12),u=n(31),d=n(10),p=n(51),h=n(5),m=n(2),f=n(17),g=n(1);const b=Object.freeze({NONE:"NONE",REPEAT:"REPEAT",REPEAT_ONE:"REPEAT_ONE"});class y extends o.a{constructor(){var e;super(),e=this,this.reset=()=>{this.playbackRate=h.S,this.audioPlaybackRate=h.S,this.volume=h.cb,this.repeat=b.NONE,this.shuffle=!1,this.pipParams={left:document.documentElement.clientWidth-300,top:document.documentElement.clientHeight-300},this.times=new Map,this.closeInternal()},this.closeInternal=()=>{this.playlist=null,this.message=null,this.time=null,this.videoStream=null,this.instantView=null,this.block=null},this.addTdLibListener=()=>{g.a.on("update",this.onUpdate),g.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{g.a.off("update",this.onUpdate),g.a.off("clientUpdate",this.onClientUpdate)},this.onUpdate=function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n["@type"],t.next="updateAuthorizationState"===t.t0?3:12;break;case 3:if(a=n.authorization_state){t.next=6;break}return t.abrupt("break",13);case 6:t.t1=a["@type"],t.next="authorizationStateClosed"===t.t1?9:11;break;case 9:return e.reset(),t.abrupt("break",11);case 11:case 12:return t.abrupt("break",13);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.close=()=>{g.a.clientUpdate({"@type":"clientUpdateMediaClose"})},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateMediaClose":this.closeInternal(),this.emit(e["@type"],e);break;case"clientUpdateMediaActive":{const t=e.source;switch(t["@type"]){case"message":this.message=t,this.emit(e["@type"],e),this.getPlaylist(t);break;case"instantViewSource":{const n=t.block,a=t.instantView;this.instantView=a,this.block=n,this.getPlaylist(t),this.emit(e["@type"],e);break}}break}case"clientUpdateMediaVolume":{const t=e.volume;this.volume=t,this.savePlayerSettings(),this.emit(e["@type"],e);break}case"clientUpdateMediaRepeat":{const t=e.repeat;this.repeat=t,this.emit(e["@type"],e);break}case"clientUpdateMediaShuffle":{const t=e.shuffle;this.shuffle=t,this.emit(e["@type"],e);break}case"clientUpdateMediaPlaybackRate":{const t=e.playbackRate;this.playbackRate=t,this.savePlayerSettings(),this.emit(e["@type"],e);break}case"clientUpdateMediaAudioPlaybackRate":{const t=e.audioPlaybackRate;this.audioPlaybackRate=t,this.savePlayerSettings(),this.emit(e["@type"],e);break}case"clientUpdateMediaPlay":this.playing=!0,this.emit(e["@type"],e);break;case"clientUpdateMediaTitleMouseOver":this.emit(e["@type"],e);break;case"clientUpdateMediaPause":this.playing=!1,this.emit(e["@type"],e);break;case"clientUpdateMediaSeek":case"clientUpdateMediaSeeking":case"clientUpdateMediaStop":this.emit(e["@type"],e);break;case"clientUpdateMediaNext":this.emit(e["@type"],e),this.moveToNextMedia(!1);break;case"clientUpdateMediaPrev":this.emit(e["@type"],e),this.moveToPrevMedia();break;case"clientUpdateMediaEnding":this.emit(e["@type"],e);break;case"clientUpdateMediaEnd":this.emit(e["@type"],e),e.moveNext&&this.moveToNextMedia(!0)||this.close();break;case"clientUpdateMediaShortcut":case"clientUpdateMediaHint":this.emit(e["@type"],e);break;case"clientUpdateMediaTime":{const t=e.source,n=e.duration,i=e.currentTime,r=e.buffered,s=e.timestamp;if(this.time){const e=this.time,o=e.chatId,c=e.messageId,l=e.block;Object(u.e)(o,c,l,t)&&(this.time=Object(a.a)(Object(a.a)({},this.time),{},{currentTime:i,duration:n,buffered:r,timestamp:s}))}if(r&&i&&n&&Object(d.R)())for(let e=0;e<r.length;e++){const t=r.start(e),a=r.end(e);if(t<=i&&i<=a&&(i+h.e<a||a===n)){this.preloadNextMedia();break}}this.emit(e["@type"],e);break}case"clientUpdateMediaProgress":{const t=e.source,n=e.buffered;if(this.time){const e=this.time,i=e.chatId,r=e.messageId,s=e.block;Object(u.e)(i,r,s,t)&&(this.time=Object(a.a)(Object(a.a)({},this.time),{},{buffered:n}))}this.emit(e["@type"],e);break}case"clientUpdateMediaLoadedMetadata":{const t=e.source,n=e.duration,a=e.videoWidth,i=e.videoHeight,r=t.block;this.time={chatId:"message"===t["@type"]?t.chat_id:0,messageId:"message"===t["@type"]?t.id:0,block:r,duration:n,videoWidth:a,videoHeight:i},this.emit(e["@type"],e);break}case"clientUpdateMediaCaptureStream":this.videoStream=e.stream,this.emit(e["@type"],e);break;case"clientUpdateMediaViewerPlay":case"clientUpdateMediaViewerPause":case"clientUpdateMediaViewerEnded":case"clientUpdateMediaPlaylistLoading":case"clientUpdateMediaPlaylistPrev":case"clientUpdateMediaPlaylist":case"clientUpdateMediaPlaylistNext":case"clientUpdatePictureInPicture":this.emit(e["@type"],e)}},this.preloadNextMedia=Object(s.a)(r.a.mark((function t(){var n,a,i,s,o,c,l,d,p,f,y,k,v,w,C,S,U,_,E,x,T,M;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.message,a=e.block,i=e.playlist,s=e.repeat,o=e.shuffle,i){t.next=3;break}return t.abrupt("return");case 3:if(n||a){t.next=5;break}return t.abrupt("return");case 5:if(s===b.NONE){t.next=7;break}return t.abrupt("return");case 7:if(!o){t.next=9;break}return t.abrupt("return");case 9:if(c=i.items){t.next=12;break}return t.abrupt("return");case 12:if(-1!==(l=c.findIndex(e=>Object(u.f)(e,n||a)))){t.next=15;break}return t.abrupt("return");case 15:if(-1!==(d=l-1)){t.next=18;break}return t.abrupt("return");case 18:if(p=c[d]){t.next=21;break}return t.abrupt("return");case 21:f=null,t.t0=p["@type"],t.next="pageBlockAudio"===t.t0?25:"message"===t.t0?27:33;break;case 25:return f=p.audio,t.abrupt("break",33);case 27:y=p.content,t.t1=y["@type"],t.next="messageAudio"===t.t1?31:33;break;case 31:return f=y.audio,t.abrupt("break",33);case 33:if(f){t.next=35;break}return t.abrupt("return");case 35:if(k=f.audio){t.next=38;break}return t.abrupt("return");case 38:if(k=m.a.get(k.id)||k,w=(v=k).id,C=v.local,S=v.expected_size,U=0,_=S>h.U?h.U:0,E=C.is_downloading_active,x=C.is_downloading_completed,T=C.download_offset,M=C.downloaded_prefix_size,!x){t.next=45;break}return t.abrupt("return");case 45:if(!E){t.next=47;break}return t.abrupt("return");case 47:if(!(T<=U&&_>0&&_<=M)){t.next=49;break}return t.abrupt("return");case 49:return t.next=51,g.a.send({"@type":"downloadFile",file_id:w,offset:U,limit:_,priority:h.V,synchronous:!0});case 51:t.sent;case 52:case"end":return t.stop()}}),t)}))),this.moveToPrevMedia=()=>{const e=this.playlist,t=this.message,n=this.block;if(!e)return;if(!t&&!n)return;const a=e.items;if(!a)return;const i=a.findIndex(e=>Object(u.f)(e,t||n));-1!==i&&i+1<a.length&&this.openPlaylistItem(a[i+1])},this.moveToNextMedia=e=>{const t=this.playlist,n=this.message,a=this.block;if(!t)return!1;if(!n&&!a)return!1;const i=t.items;if(!i)return!1;const r=i.findIndex(e=>Object(u.f)(e,n||a));if(-1===r)return!1;let s=-1;if(e)switch(this.repeat){case b.NONE:s=this.shuffle?Object(l.n)(0,i.length):r-1;break;case b.REPEAT_ONE:s=r;break;case b.REPEAT:s=this.shuffle?Object(l.n)(0,i.length):r-1>=0?r-1:i.length-1}else s=r-1;return s>=0&&(this.openPlaylistItem(i[s]),!0)},this.getCurrentTime=e=>this.times.get(e)||{currentTime:0,duration:0},this.setCurrentTime=(e,t)=>{(t.currentTime<30||t.currentTime>t.duration-10)&&(t.currentTime=0),this.times.set(e,t)},this.clearCurrentTime=e=>{this.times.delete(e)},this.getPlaylist=function(){var t=Object(s.a)(r.a.mark((function t(n){var a,i,s,o,l,d,h,m,b;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.playlist)){t.next=5;break}if(!(i=a.items)||!i.find(e=>Object(u.f)(e,"instantViewSource"===n["@type"]?n.block:n))){t.next=5;break}return t.abrupt("return");case 5:g.a.clientUpdate({"@type":"clientUpdateMediaPlaylistLoading",source:n}),i=[],s=0,t.t0=n["@type"],t.next="message"===t.t0?11:"instantViewSource"===t.t0?24:27;break;case 11:if(o=n.chat_id,l=n.id,d=Object(c.w)(o,l)){t.next=17;break}return e.playlist={source:n,totalCount:1,items:[n]},g.a.clientUpdate({"@type":"clientUpdateMediaPlaylist",source:n,playlist:e.playlist}),t.abrupt("return");case 17:return t.next=19,g.a.send({"@type":"searchChatMessages",chat_id:o,query:"",sender_user_id:0,from_message_id:l,offset:-50,limit:100,filter:d});case 19:return h=t.sent,f.a.setItems(h.messages),i=h.messages,s=h.total_count,t.abrupt("break",27);case 24:m=n.block,b=n.instantView,i=Object(p.i)(b,"pageBlockAudio"===m["@type"]?p.l:p.n).reverse(),s=i.length;case 27:e.playlist={source:n,totalCount:s,items:i},g.a.clientUpdate({"@type":"clientUpdateMediaPlaylist",source:n,playlist:e.playlist});case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();const t=this.loadPlayerSettings(),n=t.playbackRate,i=t.audioPlaybackRate,o=t.volume;this.reset(),this.playbackRate=n,this.audioPlaybackRate=i,this.volume=o,this.addTdLibListener()}loadPlayerSettings(){const e=JSON.parse(localStorage.getItem("player"))||{};let t=e.playbackRate,n=e.audioPlaybackRate,a=e.volume;return t=+t,n=+n,a=+a,t=t>=h.S&&t<=h.Q?t:h.S,n=n>=h.S&&n<=h.Q?n:h.S,a=a>=h.bb&&a<=h.ab?a:h.cb,{playbackRate:t,audioPlaybackRate:n,volume:a}}savePlayerSettings(){const e=this.volume,t=this.playbackRate,n=this.audioPlaybackRate;localStorage.setItem("player",JSON.stringify({volume:e,playbackRate:t,audioPlaybackRate:n}))}openPlaylistItem(e){const t=this.instantView;switch(e["@type"]){case"message":Object(c.U)(e.chat_id,e.id,!1);break;case"pageBlockAudio":Object(p.o)(e.audio,e.caption,e,t,!1);break;case"pageBlockVoiceNote":Object(p.o)(e.voice_note,e.caption,e,t,!1)}}}const k=new y;window.player=k,t.b=k},function(e,t,n){"use strict";var a=n(22),i=n(29),r=n(10),s=n(2),o=n(1),c=n(9);class l extends i.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.media=new Map,this.selectedItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateNewMessage":this.set(e.message),this.addMediaMessage(e.message),this.emit("updateNewMessage",e);break;case"updateDeleteMessages":e.is_permanent&&this.removeMediaMessages(e.chat_id,e.message_ids),this.emit("updateDeleteMessages",e);break;case"updateMessageEdited":{const t=this.items.get(e.chat_id);if(t){const n=t.get(e.message_id);if(n){const t=Object(a.a)(Object(a.a)({},n),{reply_markup:e.reply_markup,edit_date:e.edit_date});this.set(t)}}this.emit("updateMessageEdited",e);break}case"updateMessageIsPinned":{const t=e.chat_id,n=e.message_id,i=e.is_pinned,r=this.items.get(t);if(r){const e=r.get(n);if(e&&i!==e.is_pinned){const t=Object(a.a)(Object(a.a)({},e),{is_pinned:i});this.set(t),this.updateMediaMessage(t)}}if(i){const e=c.a.getClientData(t);e&&c.a.setClientData(t,Object(a.a)(Object(a.a)({},e),{unpinned:!1}))}this.emit("updateMessageIsPinned",e);break}case"updateMessageInteractionInfo":{const t=e.chat_id,n=e.message_id,i=e.interaction_info,r=this.items.get(t);if(r){const e=r.get(n);if(e){const t=Object(a.a)(Object(a.a)({},e),{interaction_info:i});this.set(t)}}this.emit("updateMessageInteractionInfo",e);break}case"updateMessageContent":{const t=e.chat_id,n=e.message_id,a=e.new_content,i=this.get(t,n);if(i){switch(e.old_content=i.content,i.content=a,a["@type"]){case"messagePhoto":if("messagePhoto"===e.old_content["@type"]){const t=e.old_content.photo;if(!t)break;const n=a.photo;if(!n)break;const i=t.sizes.find(e=>"i"===e.type);if(!i)break;const o=n.sizes.find(e=>"i"===e.type);if(!o)break;if(o.photo.id===i.photo.id)break;const c=Object(r.e)(i.photo);if(!c)break;s.a.setBlob(o.photo.id,c)}}this.updateMediaMessage(i)}this.emit("updateMessageContent",e);break}case"updateMessageContentOpened":{const t=e.chat_id,n=e.message_id,a=this.get(t,n);if(a){switch(a.content["@type"]){case"messageVoiceNote":a.content.is_listened=!0;break;case"messageVideoNote":a.content.is_viewed=!0}}this.emit("updateMessageContentOpened",e);break}case"updateMessageSendSucceeded":{const t=this.items.get(e.message.chat_id);if(t){const n=t.get(e.old_message_id);n&&(n.sending_state=e.message.sending_state)}this.updateMediaMessageSend(e.message,e.old_message_id),this.set(e.message),this.emit("updateMessageSendSucceeded",e);break}case"updateMessageSendFailed":{e.message.sending_state&&(e.message.sending_state.error_code=e.error_code,e.message.sending_state.error_message=e.error_message);const t=this.items.get(e.message.chat_id);if(t){const n=t.get(e.old_message_id);n&&(n.sending_state=e.message.sending_state,n.sending_state&&(n.sending_state.error_code=e.error_code,n.sending_state.error_message=e.error_message)),e.old_message_id!==e.message.id&&this.set(e.message)}this.updateMediaMessageSend(e.message,e.old_message_id),this.emit("updateMessageSendFailed",e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateChatId":this.selectedItems.size>0&&(this.selectedItems.clear(),this.emit("clientUpdateClearSelection",{"@type":"clientUpdateClearSelection"}));break;case"clientUpdateChatMedia":this.setMedia(e.chatId,e.media),this.emit("clientUpdateChatMedia",e);break;case"clientUpdateCurrentPinnedMessage":this.emit("clientUpdateCurrentPinnedMessage",e);break;case"clientUpdateClearSelection":this.selectedItems.clear(),this.emit("clientUpdateClearSelection",e);break;case"clientUpdateClosePinned":this.emit("clientUpdateClosePinned",e);break;case"clientUpdateEditMessage":this.emit("clientUpdateEditMessage",e);break;case"clientUpdateSendText":this.emit("clientUpdateSendText",e);break;case"clientUpdateStartMessageEditing":this.emit("clientUpdateStartMessageEditing",e);break;case"clientUpdateStopMessageEditing":this.emit("clientUpdateStopMessageEditing",e);break;case"clientUpdateMessageShake":this.emit("clientUpdateMessageShake",e);break;case"clientUpdateMediaTab":this.emit("clientUpdateMediaTab",e);break;case"clientUpdateMessageHighlighted":this.emit("clientUpdateMessageHighlighted",e);break;case"clientUpdateMessageSelected":e.selected?this.selectedItems.set("chatId=".concat(e.chatId,"_messageId=").concat(e.messageId),{chatId:e.chatId,messageId:e.messageId}):this.selectedItems.delete("chatId=".concat(e.chatId,"_messageId=").concat(e.messageId)),this.emit("clientUpdateMessageSelected",e);break;case"clientUpdateMessagesInView":this.emit("clientUpdateMessagesInView",e);break;case"clientUpdateOpenPinned":this.emit("clientUpdateOpenPinned",e);break;case"clientUpdateOpenReply":this.emit("clientUpdateOpenReply",e);break;case"clientUpdateRecordStart":this.emit("clientUpdateRecordStart",e);break;case"clientUpdateRecordStop":this.emit("clientUpdateRecordStop",e);break;case"clientUpdateRecordError":this.emit("clientUpdateRecordError",e);break;case"clientUpdateReply":this.emit("clientUpdateReply",e);break;case"clientUpdateTryEditMessage":this.emit("clientUpdateTryEditMessage",e)}},this.addTdLibListener=()=>{o.a.on("update",this.onUpdate),o.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{o.a.off("update",this.onUpdate),o.a.off("clientUpdate",this.onClientUpdate)},this.insertMessage=(e,t)=>{if(!t)return null;if(!e)return t;let n=-1;for(let i=0;i<t.length;i++){if(t[i].id<e.id){n=i;break}if(t[i].id===e.id){n=-2;break}t[i].id,e.id}if(-2===n)return t;if(-1===n)return[...t,e];const a=[...t];return a.splice(n,0,e),a},this.reset(),this.addTdLibListener()}hasSelectedMessage(e,t){return this.selectedItems.has("chatId=".concat(e,"_messageId=").concat(t))}load(e,t){o.a.send({"@type":"getMessage",chat_id:e,message_id:t}).then(e=>{this.set(e),this.emit("getMessageResult",e)}).catch(n=>{const a={"@type":"deletedMessage",chat_id:e,id:t,sender:{},content:null};this.set(a),this.emit("getMessageResult",a)})}get(e,t){let n=this.items.get(e);if(!n)return null;let a=n.get(t);return a||null}set(e){if(!e)return;let t=this.items.get(e.chat_id);t||(t=new Map,this.items.set(e.chat_id,t)),t.set(e.id,e)}setItems(e){for(let t=0;t<e.length;t++)this.set(e[t])}getMedia(e){return this.media.get(e)}setMedia(e,t){const n=t.photoAndVideo,a=t.document,i=t.audio,r=t.url,s=t.voiceNote,o=t.pinned;return this.setItems(n),this.setItems(a),this.setItems(i),this.setItems(r),this.setItems(s),this.setItems(o),this.media.set(e,t)}removeMediaMessages(e,t){if(!e)return;if(!t)return;const n=this.getMedia(e);if(!n)return;const a=new Map(t.map(e=>[e,e])),i=n.audio.filter(e=>!a.has(e.id));n.audio=i.length!==n.audio.length?i:n.audio;const r=n.document.filter(e=>!a.has(e.id));n.document=r.length!==n.document.length?r:n.document;const s=n.photoAndVideo.filter(e=>!a.has(e.id));n.photoAndVideo=s.length!==n.photoAndVideo.length?s:n.photoAndVideo;const o=n.url.filter(e=>!a.has(e.id));n.url=o.length!==n.url.length?o:n.url;const c=n.voiceNote.filter(e=>!a.has(e.id));n.voiceNote=c.length!==n.voiceNote.length?c:n.voiceNote;const l=n.pinned.filter(e=>!a.has(e.id));n.pinned=l.length!==n.pinned.length?l:n.pinned}addMediaMessage(e){if(!e)return;const t=e.chat_id,n=e.content,a=this.getMedia(t);if(a){if(e.is_pinned){const t=a.pinned;t&&(a.pinned=this.insertMessage(e,t))}switch(n["@type"]){case"messageAudio":{const t=a.audio;t&&(a.audio=this.insertMessage(e,t));break}case"messageDocument":{const t=a.document;t&&(a.document=this.insertMessage(e,t));break}case"messagePhoto":{const t=a.photoAndVideo;t&&(a.photoAndVideo=this.insertMessage(e,t));break}case"messageText":{const t=n.text;let i=!1;if(n.web_page)i=!0;else if(t){const e=t.entities;if(e)for(let t=0;t<e.length&&!i;t++)switch(e[t].type["@type"]){case"textEntityTypeEmailAddress":case"textEntityTypeTextUrl":case"textEntityTypeUrl":i=!0}}if(i){const t=a.url;t&&(a.url=this.insertMessage(e,t))}break}case"messageVideo":{const t=a.photoAndVideo;t&&(a.photoAndVideo=this.insertMessage(e,t));break}case"messageVoiceNote":{const t=a.voiceNote;t&&(a.voiceNote=this.insertMessage(e,t));break}}}}updateMediaMessage(e){if(!e)return;const t=e.chat_id,n=e.id;this.removeMediaMessages(t,[n]),this.addMediaMessage(e)}updateMediaMessageSend(e,t){if(!e)return;const n=e.chat_id;this.removeMediaMessages(n,[t]),this.addMediaMessage(e)}}const u=new l;window.message=u,t.a=u},,function(e,t,n){"use strict";var a=n(29),i=n(76),r=n(1);class s extends a.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.fullInfoItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateUser":this.set(e.user),this.emit(e["@type"],e);break;case"updateUserFullInfo":this.setFullInfo(e.user_id,e.user_full_info),this.emit(e["@type"],e);break;case"updateUserStatus":{let t=this.get(e.user_id);t&&this.assign(t,{status:e.status}),this.emit(e["@type"],e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateOpenUser":this.emit(e["@type"],e)}},this.addTdLibListener=()=>{r.a.on("update",this.onUpdate),r.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{r.a.off("update",this.onUpdate),r.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}assign(e,t){Object.assign(e,t)}getMyId(){const e=i.a.get("my_id");return e&&e.value?parseInt(e.value,10):null}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getFullInfo(e){return this.fullInfoItems.get(e)}setFullInfo(e,t){this.fullInfoItems.set(e,t)}}const o=new s;window.user=o,t.a=o},function(e,t,n){"use strict";n(0);var a=n(14),i=n.n(a),r=n(51);function s(e){return Object(r.h)(e.text)}s.propTypes={text:i.a.object.isRequired},t.a=s},,,function(e,t,n){"use strict";n.d(t,"t",(function(){return E})),n.d(t,"p",(function(){return x})),n.d(t,"h",(function(){return T})),n.d(t,"D",(function(){return M})),n.d(t,"N",(function(){return P})),n.d(t,"Z",(function(){return A})),n.d(t,"P",(function(){return O})),n.d(t,"r",(function(){return N})),n.d(t,"i",(function(){return j})),n.d(t,"jb",(function(){return F})),n.d(t,"Q",(function(){return B})),n.d(t,"W",(function(){return D})),n.d(t,"a",(function(){return L})),n.d(t,"j",(function(){return R})),n.d(t,"U",(function(){return ue})),n.d(t,"y",(function(){return pe})),n.d(t,"eb",(function(){return he})),n.d(t,"q",(function(){return ge})),n.d(t,"db",(function(){return Re})),n.d(t,"z",(function(){return Ve})),n.d(t,"kb",(function(){return Ne})),n.d(t,"l",(function(){return je})),n.d(t,"m",(function(){return Fe})),n.d(t,"A",(function(){return V})),n.d(t,"mb",(function(){return G})),n.d(t,"lb",(function(){return Q})),n.d(t,"v",(function(){return $})),n.d(t,"w",(function(){return X})),n.d(t,"H",(function(){return H})),n.d(t,"K",(function(){return W})),n.d(t,"J",(function(){return z})),n.d(t,"F",(function(){return Y})),n.d(t,"G",(function(){return Z})),n.d(t,"I",(function(){return J})),n.d(t,"o",(function(){return ee})),n.d(t,"S",(function(){return ne})),n.d(t,"T",(function(){return te})),n.d(t,"Y",(function(){return K})),n.d(t,"C",(function(){return ae})),n.d(t,"s",(function(){return ie})),n.d(t,"k",(function(){return re})),n.d(t,"hb",(function(){return se})),n.d(t,"fb",(function(){return oe})),n.d(t,"V",(function(){return ce})),n.d(t,"bb",(function(){return q})),n.d(t,"X",(function(){return le})),n.d(t,"cb",(function(){return De})),n.d(t,"ab",(function(){return Le})),n.d(t,"x",(function(){return de})),n.d(t,"E",(function(){return fe})),n.d(t,"n",(function(){return ve})),n.d(t,"O",(function(){return Ce})),n.d(t,"R",(function(){return _e})),n.d(t,"ib",(function(){return Se})),n.d(t,"M",(function(){return Ue})),n.d(t,"B",(function(){return Ee})),n.d(t,"L",(function(){return xe})),n.d(t,"u",(function(){return Me})),n.d(t,"gb",(function(){return me})),n.d(t,"b",(function(){return Pe})),n.d(t,"c",(function(){return Ie})),n.d(t,"d",(function(){return Be})),n.d(t,"e",(function(){return Te})),n.d(t,"f",(function(){return Oe})),n.d(t,"g",(function(){return Ae}));var a=n(6),i=n.n(a),r=n(36),s=n(11),o=n(53),c=(n(0),n(52)),l=n(25),u=n(202),d=n(9),p=n(4);var h=n(12),m=n(33),f=n(35),g=n(87),b=n(43);var y=n(10),k=n(5),v=n(71),w=n(2),C=n(17),S=n(111),U=n(19),_=n(1);function E(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return{"@type":"messageSenderChat",chat_id:e};case"chatTypePrivate":case"chatTypeSecret":return{"@type":"messageSenderUser",user_id:Ee(e)}}return null}function x(e){const t=Ue(e);if(!t)return null;const n=b.a.getFullInfo(t);return n?n.location:null}function T(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypePrivate":case"chatTypeSecret":return!0}return!1}function M(e,t=(e=>e)){const n=d.a.get(e);if(!n)return null;if(!n.type)return null;switch(n.type["@type"]){case"chatTypeBasicGroup":return t("DeleteChat");case"chatTypeSupergroup":{const e=b.a.get(n.type.supergroup_id);return e?e.is_channel?t("LeaveChannel"):t("LeaveMegaMenu"):null}case"chatTypePrivate":case"chatTypeSecret":return t("DeleteChatUser")}return null}function P(e,t=(e=>e)){const n=d.a.get(e);if(!n)return;const a=n.type;switch(a["@type"]){case"chatTypeBasicGroup":return t("ViewGroupInfo");case"chatTypePrivate":case"chatTypeSecret":return t("ViewProfile");case"chatTypeSupergroup":return a.is_channel?t("ViewChannelInfo"):t("ViewGroupInfo")}}function I(e,t={"@type":"chatListMain"}){const n=d.a.get(e);if(!n)return null;const a=n.positions;if(!a)return null;if(!a.length)return null;switch(t["@type"]){case"chatListMain":return a.find(e=>"chatListMain"===e.list["@type"]);case"chatListArchive":return a.find(e=>"chatListArchive"===e.list["@type"]);case"chatListFilter":return a.find(e=>"chatListFilter"===e.list["@type"]&&e.list.chat_filter_id===t.chat_filter_id)}return null}function A(e,t={"@type":"chatListMain"}){const n=I(e,t);return!!n&&n.is_pinned}function O(e,t={"@type":"chatListMain"}){const n=I(e,t);return Boolean(n)}function N(e,t={"@type":"chatListMain"}){const n=I(e,t);return n?n.order:"0"}function j(e,t){if(e&&!t)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;if(e["@type"]!==t["@type"])return!1;switch(e["@type"]){case"chatListMain":case"chatListArchive":return!0;case"chatListFilter":return e.chat_filter_id===t.chat_filter_id}return!1}function F(e,t){if(e&&!t)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;return j(e.list,t.list)}function B(e){const t=C.a.getMedia(e);if(!t)return!1;const n=t.pinned;return!!n&&1===n.length}function D(e){const t=d.a.get(e);if(!t)return!1;const n=t.positions;if(!n)return!1;const a=n.find(e=>"chatListArchive"===e.list["@type"]);return!!a&&"0"!==a.order}function L(e){const t=d.a.get(e);if(!t)return!1;const n=t.is_sponsored,a=t.positions;if(n)return!1;if(!a)return!1;return!(a.find(e=>"chatListMain"===e.list["@type"])&&me(e)||k.zb.some(t=>t===e))}function R(e,t){if(!e&&!t)return!0;if(e&&!t)return!1;if(t&&!e)return!1;const n=e.input_message_text,a=e.reply_to_message_id,i=t.input_message_text;if(a!==t.reply_to_message_id)return!1;if(n["@type"]!==i["@type"])return!1;if("inputMessageText"!==n["@type"])return!0;const r=n.text,s=i.text;if(!r&&!s)return!0;if(r&&!s)return!1;if(s&&!r)return!1;const o=r.text,c=r.entities,l=s.text,u=s.entities;return o===l&&function(e,t){if(!e&&!t)return!0;if(e&&!t)return!1;if(t&&!e)return!1;if(e.length!==t.length)return!1;const n=new Map;return e.forEach(e=>{n.set("".concat(e.type["@type"],"_").concat(e.offset,"_").concat(e.length),e)}),t.every(e=>n.has("".concat(e.type["@type"],"_").concat(e.offset,"_").concat(e.length)))}(c,u)}function V(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;let n=d.a.getTypingManager(t.id);if(!n)return null;switch(t.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":{const e=function(e){if(!e)return null;if(e.actions.size>=1){switch(e.actions.values().next().value.action["@type"]){case"chatActionRecordingVideo":return"recording a video";case"chatActionRecordingVideoNote":return"recording a video message";case"chatActionRecordingVoiceNote":return"recording a voice message";case"chatActionStartPlayingGame":return"playing a game";case"chatActionUploadingDocument":return"sending a file";case"chatActionUploadingPhoto":return"sending a photo";case"chatActionUploadingVideo":return"sending a video";case"chatActionUploadingVideoNote":return"sending a video message";case"chatActionUploadingVoiceNote":return"sending a voice message";case"chatActionChoosingContact":case"chatActionChoosingLocation":case"chatActionTyping":default:return"typing"}}return null}(n);return e?e+"...":null}case"chatTypeBasicGroup":case"chatTypeSupergroup":{const e=function(e){if(!e)return null;let t=e.actions.size;if(t>2)return"".concat(t," people are typing");if(t>1){let i,r;var n,a=Object(o.a)(e.actions.keys());try{for(a.s();!(n=a.n()).done;){let e=n.value;if(i){if(!r){r=U.a.get(e);break}}else i=U.a.get(e)}}catch(s){a.e(s)}finally{a.f()}return i&&r?(i=i.first_name?i.first_name:i.second_name,r=r.first_name?r.first_name:r.second_name,i&&r?"".concat(i," and ").concat(r," are typing"):"".concat(t," people are typing")):"".concat(t," people are typing")}{let t;if(e.actions.size>=1){var i,r=Object(o.a)(e.actions.keys());try{for(r.s();!(i=r.n()).done;){let e=i.value;if(!t){t=U.a.get(e);break}}}catch(s){r.e(s)}finally{r.f()}if(!t)return"1 person is typing";if(t=t.first_name?t.first_name:t.second_name,!t)return"1 person is typing";switch(e.actions.values().next().value.action["@type"]){case"chatActionRecordingVideo":return"".concat(t," is recording a video");case"chatActionRecordingVideoNote":return"".concat(t," is recording a video message");case"chatActionRecordingVoiceNote":return"".concat(t," is recording a voice message");case"chatActionStartPlayingGame":return"".concat(t," is playing a game");case"chatActionUploadingDocument":return"".concat(t," is sending a file");case"chatActionUploadingPhoto":return"".concat(t," is sending a photo");case"chatActionUploadingVideo":return"".concat(t," is sending a video");case"chatActionUploadingVideoNote":return"".concat(t," is sending a video message");case"chatActionUploadingVoiceNote":return"".concat(t," is sending a voice message");case"chatActionChoosingContact":case"chatActionChoosingLocation":case"chatActionTyping":default:return"".concat(t," is typing")}}}return null}(n);return e?e+"...":null}}return null}function z(e,t=(e=>e)){if(!e)return null;if(Object(f.b)(e))return null;if(!e.sender)return null;switch(e.sender["@type"]){case"messageSenderUser":return Object(l.c)(e.sender.user_id,null,t)}return de(e.sender.chat_id,!1)}function W(e,t=(e=>e)){if(!e)return null;if(Object(f.b)(e))return null;const n=e.chat_id,a=e.sender,i=d.a.get(n);if(!i)return null;switch(i.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":return null;case"chatTypeBasicGroup":case"chatTypeSupergroup":if(ce(n))return null;switch(a["@type"]){case"messageSenderUser":return Object(l.j)(a.user_id)?t("FromYou"):Object(l.e)(a.user_id,t);case"messageSenderChat":return de(a.chat_id,!1)}}return null}function H(e,t=(e=>e)){return e?W(e.last_message,t):null}function Y(e,t=(e=>e)){if(!e)return null;const n=e.last_message;return n?Object(m.j)(n,t):null}function G(e){const t=d.a.get(e);if(!t)return!1;return t.unread_mention_count>0}function Q(e){const t=d.a.get(e);if(!t)return!1;const n=t.is_marked_as_unread,a=t.unread_count,i=t.unread_mention_count;return a>1||1===a&&0===i||n&&0===a&&0===i}function q(e){const t=d.a.get(e);if(!t)return!1;const n=t.is_marked_as_unread,a=t.unread_count;t.unread_mention_count;return n||a>0}function K(e){return function(e){const t=d.a.get(e);if(!t)return 0;const n=t.notification_settings;if(!n)return 0;const a=n.use_default_mute_for,i=n.mute_for;if(a){const t=function(e){const t=d.a.get(e);if(!t)return null;switch(t.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":return S.a.settings.get("notificationSettingsScopePrivateChats");case"chatTypeBasicGroup":case"chatTypeSupergroup":{let t=null;return t=ce(e)?S.a.settings.get("notificationSettingsScopeChannelChats"):S.a.settings.get("notificationSettingsScopeGroupChats"),t}}return null}(e);return!!t&&t.mute_for}return i}(e)>0}function J(e){const t=new Date(1e3*e.date),n=new Date;if(n.setHours(0,0,0,0),t>n)return Object(c.a)(t,p.a.formatterDay);const a=new Date,i=a.getDay(),r=a.getDate()-i+(0===i?-6:1);return t>new Date(a.setDate(r))?t.toLocaleString(p.a.i18n.language,{weekday:"short"}):Object(c.a)(t,p.a.formatterYear)}function Z(e){return e&&e.last_message&&e.last_message.date?Ne(e.id)?null:J(e.last_message):null}function X(e){const t=d.a.get(e);if(!t)return null;const n=t.type;if(!n)return null;switch(n["@type"]){case"chatTypeBasicGroup":{const t=v.a.get(n.basic_group_id);if(t)return function(e,t){if(!e)return null;const n=e.status,a=e.member_count;if(n){if("chatMemberStatusBanned"===n["@type"])return p.a.getString("YouWereKicked");if("chatMemberStatusLeft"===n["@type"])return p.a.getString("YouLeft");if("chatMemberStatusCreator"===n["@type"]&&!n.is_member)return p.a.getString("YouLeft")}if(a<=1)return p.a.formatPluralString("Members",a);const i=d.a.getOnlineMemberCount(t);return i>1?"".concat(p.a.formatPluralString("Members",a),", ").concat(p.a.formatPluralString("OnlineCount",i)):p.a.formatPluralString("Members",a)}(t,e);break}case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(n.user_id);if(e)return Object(l.f)(e);break}case"chatTypeSupergroup":{const t=b.a.get(n.supergroup_id);if(t)return t.is_channel?function(e,t){if(!e)return"";let n=e.is_channel,a=e.member_count,i=e.username;if(!n)return"";if(!a){const t=b.a.getFullInfo(e.id);t&&(a=t.member_count)}if(a<=0)return i?p.a.getString("ChannelPublic").toLowerCase():p.a.getString("ChannelPrivate").toLowerCase();if(a<=1)return p.a.formatPluralString("Subscribers",1);const r=d.a.getOnlineMemberCount(t);return r>1?"".concat(p.a.formatPluralString("Subscribers",a),", ").concat(p.a.formatPluralString("OnlineCount",r)):p.a.formatPluralString("Subscribers",a)}(t,e):Object(u.a)(t,e);break}}return null}function $(e,t=!1){if(me(e)&&t)return null;const n=V(e);return n||X(e)}function ee(e,t){const n=d.a.get(e);if(!n)return null;let a=n.title||t("HiddenName");if(0===a.length)return null;let i=Object(h.j)(a);return i&&i.length>0?i:n.title.charAt(0)}function te(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":return!1;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(t.type.user_id);if(e)return Object(l.k)(e);break}case"chatTypeSupergroup":return!1}return!1}function ne(e){return!V(e)&&te(e)}function ae(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;switch(t.type["@type"]){case"chatTypeBasicGroup":return null;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(t.type.user_id);if(e)return e.username;break}case"chatTypeSupergroup":{const e=b.a.get(t.type.supergroup_id);if(e)return e.username;break}}return null}function ie(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;switch(t.type["@type"]){case"chatTypeBasicGroup":return null;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(t.type.user_id);if(e)return Object(g.a)(e.phone_number);break}case"chatTypeSupergroup":return null}return null}function re(e){const t=d.a.get(e);if(!t)return null;if(!t.type)return null;switch(t.type["@type"]){case"chatTypeBasicGroup":{const e=v.a.getFullInfo(t.type.basic_group_id);if(e)return e.description;break}case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.getFullInfo(t.type.user_id);if(e)return e.bio;break}case"chatTypeSupergroup":{const e=b.a.getFullInfo(t.type.supergroup_id);if(e)return e.description;break}}return null}function se(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypePrivate":case"chatTypeSecret":return!0}return!1}function oe(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":return!0;case"chatTypeSupergroup":return!t.type.is_channel;case"chatTypePrivate":case"chatTypeSecret":return!1}return!1}function ce(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeSupergroup":return t.type.is_channel;case"chatTypeBasicGroup":case"chatTypePrivate":case"chatTypeSecret":return!1}return!1}function le(e){const t=d.a.get(e);if(!t)return!1;const n=t.type;if(!n)return!1;switch(n["@type"]){case"chatTypeSupergroup":{const e=b.a.get(n.supergroup_id);if(e&&e.status)switch(e.status["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return e.status.is_member;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return!0;case"chatMemberStatusRestricted":return e.status.is_member}break}case"chatTypeBasicGroup":{const e=v.a.get(n.basic_group_id);if(e&&e.status)switch(e.status["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return e.status.is_member;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return!0;case"chatMemberStatusRestricted":return e.status.is_member}break}case"chatTypePrivate":case"chatTypeSecret":return!0}return!1}function ue(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(t.type.user_id);return!!e&&"userTypeBot"===e.type["@type"]}}return!1}function de(e,t=!1){const n=d.a.get(e);return n?me(e)&&t?p.a.i18n.t("SavedMessages"):n.title||p.a.i18n.t("HiddenName"):null}function pe(e,t=(e=>e)){const n=d.a.get(e);if(!n)return"";switch(n.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":return me(e)?"":ue(e)?t("Bot"):function(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(t.type.user_id);return!!e&&(e.is_contact||e.is_mutual_contact)}}return!1}(e)?t("FilterContact"):t("FilterNonContact");case"chatTypeBasicGroup":return t("AccDescrGroup");case"chatTypeSupergroup":return ce(e)?t("AccDescrGroup"):t("AccDescrChannel")}return""}function he(e){const t=d.a.get(e);if(!t)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypeSecret":case"chatTypePrivate":{const e=U.a.get(t.type.user_id);return e&&"userTypeDeleted"===e.type["@type"]}}return!1}function me(e){const t=d.a.get(e);if(!t)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return!1;case"chatTypeSecret":case"chatTypePrivate":return U.a.getMyId()===t.type.user_id}return!1}function fe(e){const t=[],n=d.a.get(e);if(!n)return t;switch(n.type["@type"]){case"chatTypeBasicGroup":{const e=v.a.getFullInfo(n.type.basic_group_id);if(e)return e.members||t;break}}return t}function ge(e){return be.apply(this,arguments)}function be(){return(be=Object(s.a)(i.a.mark((function e(t){var n,a,s,o,c,l,u,p,h,m,f,g,b,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.a.get(t)){e.next=3;break}return e.abrupt("return",null);case 3:return 100,(n=[]).push(ye(t)||Promise.resolve(null)),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterPhotoAndVideo"}})),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterDocument"}})),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterAudio"}})),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterUrl"}})),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterVoiceNote"}})),n.push(_.a.send({"@type":"searchChatMessages",chat_id:t,query:"",sender_user_id:0,from_message_id:0,offset:0,limit:100,filter:{"@type":"searchMessagesFilterPinned"}})),se(t)&&!me(t)?n.push(_.a.send({"@type":"getGroupsInCommon",user_id:Ee(t),offset_chat_id:0,limit:100})):n.push(Promise.resolve(null)),Se(t)&&!ce(t)&&n.push(_.a.send({"@type":"getSupergroupMembers",supergroup_id:Ue(t),filter:{"@type":"supergroupMembersFilterRecent"},offset:0,limit:200})),e.next=16,Promise.all(n);case 16:a=e.sent,s=Object(r.a)(a,9),o=s[0],c=s[1],l=s[2],u=s[3],p=s[4],h=s[5],m=s[6],f=s[7],g=s[8],b={fullInfo:o,photoAndVideo:c.messages,document:l.messages,audio:u.messages,url:p.messages,voiceNote:h.messages,pinned:m.messages,groupsInCommon:f?f.chat_ids.map(e=>d.a.get(e)):[],supergroupMembers:g},k=w.a.getStore(),Object(y.E)(k,m.messages),_.a.clientUpdate({"@type":"clientUpdateChatMedia",chatId:t,media:b});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.a.get(t)){e.next=3;break}return e.abrupt("return",null);case 3:if(a=n.type){e.next=6;break}return e.abrupt("return",null);case 6:e.t0=a["@type"],e.next="chatTypePrivate"===e.t0||"chatTypeSecret"===e.t0?9:"chatTypeBasicGroup"===e.t0?10:"chatTypeSupergroup"===e.t0?11:12;break;case 9:return e.abrupt("return",_.a.send({"@type":"getUserFullInfo",user_id:a.user_id}));case 10:return e.abrupt("return",_.a.send({"@type":"getBasicGroupFullInfo",basic_group_id:a.basic_group_id}));case 11:return e.abrupt("return",_.a.send({"@type":"getSupergroupFullInfo",supergroup_id:a.supergroup_id}));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return we.apply(this,arguments)}function we(){return(we=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ye(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,n;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){const n=d.a.get(e);if(!n)return!1;const a=n.type;return a&&"chatTypeBasicGroup"===a["@type"]&&a.basic_group_id===t}function Se(e){const t=d.a.get(e);if(!t)return!1;const n=t.type;return n&&"chatTypeSupergroup"===n["@type"]}function Ue(e){const t=d.a.get(e);if(!t)return!1;const n=t.type;return n&&"chatTypeSupergroup"===n["@type"]?n.supergroup_id:0}function _e(e,t){const n=d.a.get(e);if(!n)return!1;const a=n.type;return Se(e)&&a.supergroup_id===t}function Ee(e){const t=d.a.get(e);if(!t)return 0;const n=t.type;return!n||"chatTypePrivate"!==n["@type"]&&"chatTypeSecret"!==n["@type"]?0:n.user_id}function xe(e){const t=d.a.get(e);if(!t)return null;if(se(e)){const t=U.a.get(Ee(e));if(t)return t.profile_photo}return t.photo}function Te(e){const t=d.a.get(e);if(!t)return!1;const n=t.type,a=t.permissions;if(!n)return!1;if(!a)return!1;const i=a.can_send_media_messages;switch(n["@type"]){case"chatTypeBasicGroup":{const e=v.a.get(n.basic_group_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,i=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return!0;case"chatMemberStatusRestricted":return a&&i&&i.can_send_media_messages}break}case"chatTypePrivate":case"chatTypeSecret":return i;case"chatTypeSupergroup":{const e=b.a.get(t.type.supergroup_id);if(!e)return!1;const n=e.status;if(!n)return!1;const a=n.is_member,r=n.permissions;switch(n["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return i&&!e.is_channel;case"chatMemberStatusRestricted":return i&&a&&r&&r.can_send_media_messages}}}return!1}function Me(e,t=!1,n=(e=>e)){if(me(e)&&t)return n("SavedMessages");const a=d.a.get(e);if(!a)return null;if(!a.type)return null;switch(a.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return a.title;case"chatTypePrivate":case"chatTypeSecret":return Object(l.e)(a.type.user_id,n)}return null}function Pe(e){const t=d.a.get(e);return!!t&&(t.can_be_deleted_only_for_self||t.can_be_deleted_for_all_users)}function Ie(e){const t=d.a.get(e);if(!t)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":return!0;case"chatTypeSupergroup":return le(e);case"chatTypePrivate":case"chatTypeSecret":return!me(e)}return!1}function Ae(e){const t=d.a.get(e);if(!t)return!1;const n=t.type,a=t.permissions;if(!n)return!1;if(!a)return!1;const i=a.can_send_polls;switch(n["@type"]){case"chatTypeBasicGroup":{const e=v.a.get(n.basic_group_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,i=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return!0;case"chatMemberStatusRestricted":return a&&i&&i.can_send_polls}break}case"chatTypePrivate":case"chatTypeSecret":return i;case"chatTypeSupergroup":{const e=b.a.get(n.supergroup_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,r=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return i&&!e.is_channel;case"chatMemberStatusRestricted":return i&&a&&r&&r.can_send_polls}}}return!1}function Oe(e){const t=d.a.get(e);if(!t)return!1;const n=t.type,a=t.permissions;if(!n)return!1;if(!a)return!1;const i=a.can_send_messages;switch(n["@type"]){case"chatTypeBasicGroup":{const e=v.a.get(n.basic_group_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,i=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return!0;case"chatMemberStatusRestricted":return a&&i&&i.can_send_messages}break}case"chatTypePrivate":case"chatTypeSecret":return i;case"chatTypeSupergroup":{const e=b.a.get(n.supergroup_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,r=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return!0;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":return!1;case"chatMemberStatusMember":return i&&!e.is_channel;case"chatMemberStatusRestricted":return i&&a&&r&&r.can_send_messages}}}return!1}function Ne(e){const t=d.a.get(e);return je(e)&&0===t.unread_count&&0===t.unread_mention_count}function je(e){const t=d.a.get(e);if(t){const e=t.draft_message;if(e){const t=e.input_message_text;if(t)return t.text}}return null}function Fe(e){let t=0;const n=d.a.get(e);if(n){const e=n.draft_message;e&&(t=e.reply_to_message_id)}return t}function Be(e){const t=d.a.get(e);if(!t)return!1;const n=t.type,a=t.permissions;if(!n)return!1;if(!a)return!1;const i=a.can_pin_messages;switch(n["@type"]){case"chatTypeBasicGroup":{const e=v.a.get(n.basic_group_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,i=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return t.can_pin_messages;case"chatMemberStatusBanned":case"chatMemberStatusCreator":case"chatMemberStatusLeft":case"chatMemberStatusMember":return!1;case"chatMemberStatusRestricted":return a&&i&&i.can_pin_messages}break}case"chatTypePrivate":case"chatTypeSecret":return i;case"chatTypeSupergroup":{const e=b.a.get(n.supergroup_id);if(!e)return!1;const t=e.status;if(!t)return!1;const a=t.is_member,r=t.permissions;switch(t["@type"]){case"chatMemberStatusAdministrator":return i||t.can_pin_messages;case"chatMemberStatusBanned":return!1;case"chatMemberStatusCreator":return a;case"chatMemberStatusLeft":case"chatMemberStatusMember":return!1;case"chatMemberStatusRestricted":return i&&a&&r&&r.can_pin_messages}}}return!1}function De(e){const t=d.a.get(e);if(!t)return!1;const n=t.type;if(!n)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":return!1;case"chatTypePrivate":case"chatTypeSecret":{const e=U.a.get(n.user_id);return e&&e.is_verified}case"chatTypeSupergroup":{const e=b.a.get(n.supergroup_id);return e&&e.is_verified}}return!1}function Le(e){const t=d.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeBasicGroup":case"chatTypePrivate":return!1;case"chatTypeSecret":return!0;case"chatTypeSupergroup":return!1}return!1}function Re(e){const t=d.a.get(e);if(!t)return!1;const n=t.type;if(!n)return!1;switch(n["@type"]){case"chatTypeBasicGroup":{const e=n.basic_group_id,t=v.a.get(e);if(!t)return!1;const a=t.status;return!a&&"chatMemberStatusCreator"===a["@type"]}case"chatTypePrivate":case"chatTypeSecret":return!1;case"chatTypeSupergroup":{const e=n.supergroup_id,t=b.a.get(e);if(!t)return!1;const a=t.status;return!!a&&"chatMemberStatusCreator"===a["@type"]}}return!1}function Ve(e){const t=d.a.get(e);if(!t)return 0;const n=t.type;if(!n)return 0;switch(n["@type"]){case"chatTypeSupergroup":return n.supergroup_id;case"chatTypeBasicGroup":return n.basic_group_id;case"chatTypePrivate":case"chatTypeSecret":return n.user_id}}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return h}));var a=n(52),i=n(12),r=n(5),s=n(4),o=n(19);function c(e){const t=o.a.get(e);return t&&"userTypeBot"===t.type["@type"]}function l(e){return o.a.getMyId()===e}function u(e){if(!e)return null;if(!e.status)return null;if(r.zb.some(t=>t===e.id))return s.a.getString("ServiceNotifications");if(e.is_support)return s.a.getString("SupportStatus");if(e.type&&"userTypeBot"===e.type["@type"])return s.a.getString("Bot").toLowerCase();switch(e.status["@type"]){case"userStatusEmpty":return s.a.getString("ALongTimeAgo");case"userStatusLastMonth":return s.a.getString("WithinAMonth");case"userStatusLastWeek":return s.a.getString("WithinAWeek");case"userStatusOffline":{let t=e.status.was_online;if(!t)return s.a.getString("Invisible");const n=new Date,i=new Date(1e3*t),r=new Date;if(r.setHours(0,0,0,0),i>r)return s.a.formatString("LastSeenFormatted",s.a.formatString("TodayAtFormatted",Object(a.a)(i,s.a.formatterDay)));let o=new Date;return o.setDate(n.getDate()-1),r.setHours(0,0,0,0),i>o?s.a.formatString("LastSeenFormatted",s.a.formatString("YesterdayAtFormatted",Object(a.a)(i,s.a.formatterDay))):s.a.formatString("LastSeenDateFormatted",s.a.formatString("formatDateAtTime",Object(a.a)(i,s.a.formatterYear),Object(a.a)(i,s.a.formatterDay)))}case"userStatusOnline":return s.a.getString("Online");case"userStatusRecently":return s.a.getString("Lately")}return null}function d(e){if(!e)return!1;const t=e.id,n=e.status,a=e.type;return!!n&&(!!a&&(!r.zb.some(e=>e===t)&&("userStatusOnline"===n["@type"]&&"userTypeBot"!==a["@type"])))}function p(e,t){if(!(t=o.a.get(e)||t))return null;const n=t,a=n.type,i=n.first_name,r=n.last_name;if(!a)return null;switch(a["@type"]){case"userTypeBot":case"userTypeRegular":if(i&&r)return"".concat(i," ").concat(r);if(i)return i;if(r)return r;case"userTypeDeleted":case"userTypeUnknown":return s.a.i18n.t("HiddenName")}return null}function h(e,t=(e=>e)){const n=o.a.get(e);if(!n)return null;const a=n.type,i=n.first_name,r=n.last_name;if(!a)return null;switch(a["@type"]){case"userTypeBot":case"userTypeRegular":if(i)return i;if(r)return r;case"userTypeDeleted":case"userTypeUnknown":return t("HiddenName")}return null}function m(e,t="",n="",a=(e=>e)){const r=o.a.get(e);if(!r&&!t&&!n)return null;const s=p(e,null)||"".concat(t," ").concat(n).trim(),c=Object(i.j)(s);if(c&&c.length>0)return c;r&&(t=r.first_name,n=r.last_name);const l=Object(i.h)(t)||t.charAt(0);if(l)return l;const u=Object(i.h)(n)||n.charAt(0);return u||""}function f(e){if(!e)return 0;if(!e.status)return 0;if("userTypeBot"===e.type["@type"])return 0;switch(e.status["@type"]){case"userStatusEmpty":return 1;case"userStatusLastMonth":return 10;case"userStatusLastWeek":return 100;case"userStatusOffline":return e.status.was_online;case"userStatusOnline":return e.status.expires;case"userStatusRecently":return 1e3}}function g(e){if(!e)return null;const t=e.id,n=e.sizes;if(!n)return null;if(!n.length)return null;return{"@type":"profilePhoto",id:t,small:Object(i.p)(n,r.wb).photo,big:Object(i.p)(n,r.vb).photo}}function b(e){if(!e)return null;const t=e.added_date;if(!t)return null;const n=new Date(1e3*t);return Object(a.a)(n,"H:mm:ss d.MM.yyyy")}function y(e){const t=o.a.get(e);return t&&"userTypeDeleted"===t.type["@type"]}},,function(e,t,n){"use strict";n.d(t,"y",(function(){return c})),n.d(t,"w",(function(){return l})),n.d(t,"z",(function(){return u})),n.d(t,"A",(function(){return d})),n.d(t,"B",(function(){return p})),n.d(t,"x",(function(){return h})),n.d(t,"C",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return v})),n.d(t,"m",(function(){return w})),n.d(t,"k",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return U})),n.d(t,"l",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"r",(function(){return x})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return M})),n.d(t,"t",(function(){return P})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return A})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return N})),n.d(t,"p",(function(){return j})),n.d(t,"o",(function(){return F}));var a=n(22),i=n(23),r=n(13),s=n(4),o=n(1);function c(e,t){o.a.clientUpdate({"@type":"clientUpdateInputPasswordAlert",state:e,onPassword:t})}function l(e){o.a.clientUpdate({"@type":"clientUpdateSendText",text:e})}function u(e,t){o.a.clientUpdate({"@type":"clientUpdateOpenGameAlert",game:e,params:t})}function d(e,t){o.a.clientUpdate({"@type":"clientUpdateOpenUrlAlert",url:e,params:t})}function p(e,t){o.a.clientUpdate({"@type":"clientUpdateRequestUrlAlert",url:e,params:t})}function h(e){o.a.clientUpdate({"@type":"clientUpdateAlert",params:e})}function m(e,t){o.a.clientUpdate({"@type":"clientUpdateSnackbar",message:e,action:t})}function f(){o.a.clientUpdate({"@type":"clientUpdateArchive",open:!0})}function g(e,t){o.a.clientUpdate({"@type":"clientUpdateEditMessage",chatId:e,messageId:t})}function b(e,t){o.a.clientUpdate({"@type":"clientUpdateDeleteMessages",chatId:e,messageIds:t})}function y(e,t){o.a.clientUpdate({"@type":"clientUpdateReply",chatId:e,messageId:t})}function k(e){o.a.clientUpdate({"@type":"clientUpdateForward",info:e})}function v(e,t){o.a.clientUpdate({"@type":"clientUpdateForward",info:{chatId:e,messageIds:t}})}function w(e,t=!1){o.a.clientUpdate({"@type":"clientUpdateOpenUser",userId:e,popup:t})}function C(e,t=null,n=!1,c=null){const l=r.a.chatSelectOptions;if(l){const t=l.switchInline,n=l.botStartMessage;let o=!1;if(t?Object(i.f)(e)||(o=!0):n&&(Object(i.f)(e)||(o=!0),Object(i.hb)(e)?Object(i.B)(e)!==n.botUserId&&(o=!0):Object(i.fb)(e)||(o=!0)),o)return void h({title:s.a.getString("AppName"),message:s.a.getString("WriteChatCant"),ok:s.a.getString("OK")});r.a.chatSelectOptions=null,c=Object(a.a)(Object(a.a)(Object(a.a)({},c),l),{closeChatSelect:!0})}o.a.clientUpdate({"@type":"clientUpdateOpenChat",chatId:e,messageId:t,popup:n,options:c})}function S(){o.a.clientUpdate({"@type":"clientUpdateOpenChat",chatId:0,messageId:null,popup:!1,options:null})}function U(){o.a.clientUpdate({"@type":"clientUpdateClearOpenChatOptions"})}function _(e,t){o.a.clientUpdate({"@type":"clientUpdateOpenReply",chatId:e,messageId:t})}function E(e,t){o.a.clientUpdate({"@type":"clientUpdateMessageHighlighted",chatId:e,messageId:t})}function x(e,t,n){o.a.clientUpdate({"@type":"clientUpdateMessageSelected",chatId:e,messageId:t,selected:n})}function T(){o.a.clientUpdate({"@type":"clientUpdateClearSelection"})}function M(){o.a.clientUpdate({"@type":"clientUpdateClosePinned"})}function P(e){o.a.clientUpdate({"@type":"clientUpdateInstantViewViewerContent",content:e})}function I(e){o.a.clientUpdate({"@type":"clientUpdateMediaViewerContent",content:e})}function A(e){o.a.clientUpdate({"@type":"clientUpdateProfileMediaViewerContent",content:e})}function O(e){o.a.clientUpdate({"@type":"clientUpdateInstantViewContent",content:e})}function N(e,t=null){o.a.clientUpdate({"@type":"clientUpdateSearchChat",chatId:e,query:t})}function j(e,t){o.a.clientUpdate({"@type":"clientUpdateUnpinMessage",chatId:e,messageId:t})}function F(e,t){o.a.clientUpdate({"@type":"clientUpdatePinMessage",chatId:e,messageId:t})}},,function(e,t,n){"use strict";t.a=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(e=>e!==t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){[].concat(this.observers[e]).forEach(e=>{e(...t)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(n=>{n.apply(n,[e,...t])})}}}},,function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var a=n(33),i=n(51),r=n(10),s=n(38),o=n(16);function c(e,t){if(!e)return!1;if(!t)return!1;if(e["@type"]!==t["@type"])return!1;switch(e["@type"]){case"message":return e.chat_id===t.chat_id&&e.id===t.id}return e===t}function l(e,t=(e=>e)){if(!e)return null;switch(e["@type"]){case"message":{const n=e.content;if(!n)return null;switch(n["@type"]){case"messageAudio":{const e=n.audio;if(e)return Object(s.c)(e);break}case"messageText":{const e=n.web_page;if(e){const t=e.audio;if(t)return Object(s.c)(t)}break}}return Object(a.h)(e,t)}case"pageBlockAudio":{const t=e.audio;return t?Object(s.c)(t):null}case"pageBlockVoiceNote":return t("AttachAudio")}return null}function u(e,t,n,a){if(!a)return!1;switch(a["@type"]){case"message":return a.chat_id===e&&a.id===t;case"instantViewSource":return a.block===n}return!1}function d(e){if(!e)return{currentTime:0,duration:0};let t=null;switch(e["@type"]){case"message":{const n=e.chat_id,i=e.id;t=Object(a.r)(n,i);break}case"instantViewSource":{const n=e.block;t=Object(i.a)(n);break}}if(!t)return{currentTime:0,duration:0};const n=t.audio;if(!n)return{currentTime:0,duration:0};const r=n.remote;if(!r)return{currentTime:0,duration:0};const s=r.unique_id;return s?o.b.getCurrentTime(s):{currentTime:0,duration:0}}function p(e){if(!e)return"";switch(e["@type"]){case"message":{const t=e.content;if(t){const e=t.audio,n=t.voice_note,a=t.video_note,i=t.web_page;if(e)return e.mime_type;if(n)return n.mime_type;if(a)return"video/mp4";if(i){if(i.audio)return i.audio.mime_type;if(i.voice_note)return i.voice_note.mime_type;if(i.video_note)return"video/mp4"}}break}case"instantViewSource":{const t=e.block;if(t){const e=t.audio,n=t.voice_note,a=t.video_note;if(e)return e.mime_type;if(n)return n.mime_type;if(a)return"video/mp4"}break}}return""}function h(e){if(!e)return"";switch(e["@type"]){case"message":{const t=e.content;if(t){const e=t.audio,n=t.voice_note,a=t.video_note,i=t.web_page;if(e){const t=e.audio;if(t){let n=Object(r.m)(t);return!n&&Object(r.R)()&&(n="/streaming/file?id=".concat(t.id,"&size=").concat(t.size,"&mime_type=").concat(e.mime_type)),n}}if(n){const e=n.voice;if(e)return Object(r.m)(e)}if(a){const e=a.video;if(e)return Object(r.m)(e)}if(i){if(i.audio){const e=i.audio.audio;if(e){let t=Object(r.m)(e);return!t&&Object(r.R)()&&(t="/streaming/file?id=".concat(e.id,"&size=").concat(e.size,"&mime_type=").concat(i.audio.mime_type)),t}}if(i.voice_note){const e=i.voice_note.voice;if(e)return Object(r.m)(e)}if(i.video_note){const e=i.video_note.video;if(e)return Object(r.m)(e)}}}break}case"instantViewSource":{const t=e.block;if(t){const e=t.audio,n=t.voice_note,a=t.video_note;if(e){const t=e.audio;if(t){let n=Object(r.m)(t);return!n&&Object(r.R)()&&(n="/streaming/file?id=".concat(t.id,"&size=").concat(t.size,"&mime_type=").concat(e.mime_type)),n}}if(n){const e=n.voice;if(e)return Object(r.m)(e)}if(a){const e=a.video;if(e)return Object(r.m)(e)}}break}}return""}},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(172),s=n(18),o=n.n(s),c=n(25),l=n(23),u=n(27),d=n(9),p=n(19),h=(n(330),n(95),n(249),n(33));class m extends i.a.Component{constructor(...e){super(...e),this.state={},this.onUpdateUser=e=>{const t=this.props,n=t.sender,a=t.t,i=e.user;if(n&&n.user_id!==i.id)return;const r=m.getFullName(n,a);this.setState({fullName:r})},this.onUpdateChatTitle=e=>{const t=this.props,n=t.sender,a=t.t,i=e.chat_id;if(n&&n.chat_id!==i)return;const r=m.getFullName(n,a);this.setState({fullName:r})},this.handleSelect=e=>{const t=this.props,n=t.sender,a=t.openUser,i=t.openChat,r=t.forwardInfo;let s=n.user_id,o=n.chat_id;if(Object(l.gb)(o)&&r)switch(r.origin["@type"]){case"messageForwardOriginHiddenUser":s=0,o=0;break;case"messageForwardOriginUser":s=r.origin.sender_user_id,o=0;break;case"messageForwardOriginChannel":o=r.origin.chat_id,s=0}e.stopPropagation(),a&&s?Object(u.m)(s,!0):i&&o&&Object(u.k)(o,null,!0)}}static getDerivedStateFromProps(e,t){const n=e.sender,a=e.t;return Object(h.V)(t.prevSender,n)?null:{prevSender:n,fullName:m.getFullName(n,a)}}shouldComponentUpdate(e,t,n){return this.state.fullName!==t.fullName}componentDidMount(){d.a.on("updateChatTitle",this.onUpdateChatTitle),p.a.on("updateUser",this.onUpdateUser)}componentWillUnmount(){d.a.off("updateChatTitle",this.onUpdateChatTitle),p.a.off("updateUser",this.onUpdateUser)}render(){const e=this.props,t=e.sender,n=e.openUser,a=e.openChat,r=e.forwardInfo,s=e.t;let c=this.state.fullName,u=t.chat_id,d=t.user_id;if(p.a.getMyId()===t.user_id&&r)switch(r.origin["@type"]){case"messageForwardOriginHiddenUser":d=0,u=0,c=r.origin.sender_name;break;case"messageForwardOriginUser":d=r.origin.sender_user_id,u=0,c=m.getFullName({"@type":"messageSenderUser",user_id:d},s);break;case"messageForwardOriginChannel":d=0,u=r.origin.chat_id,c=m.getFullName({"@type":"messageSenderChat",chat_id:u},s)}if(!d&&!u&&!c)return null;if(!u){const e=Object(l.hb)(u)?"message-author-color":"user_color_".concat(Math.abs(d||c.charCodeAt(0))%7+1),t=o()([e],"message-author");return n?i.a.createElement("a",{className:t,onClick:this.handleSelect},c):i.a.createElement(i.a.Fragment,null,c)}const h=o()("message-author-color","message-author");return a?i.a.createElement("a",{className:h,onClick:this.handleSelect},c):i.a.createElement(i.a.Fragment,null,c)}}m.getFullName=(e,t)=>{if(!e)return"";switch(e["@type"]){case"messageSenderUser":return Object(c.c)(e.user_id,null,t);case"messageSenderChat":return Object(l.x)(e.chat_id,!1,t)}return""},m.defaultProps={openUser:!1,openChat:!1},t.a=Object(r.a)()(m)},function(e,t,n){"use strict";n.d(t,"L",(function(){return D})),n.d(t,"V",(function(){return L})),n.d(t,"g",(function(){return R})),n.d(t,"Q",(function(){return V})),n.d(t,"P",(function(){return z})),n.d(t,"C",(function(){return Z})),n.d(t,"i",(function(){return ae})),n.d(t,"K",(function(){return ce})),n.d(t,"G",(function(){return de})),n.d(t,"Y",(function(){return pe})),n.d(t,"r",(function(){return he})),n.d(t,"u",(function(){return Te})),n.d(t,"v",(function(){return Me})),n.d(t,"t",(function(){return Le})),n.d(t,"n",(function(){return Re})),n.d(t,"B",(function(){return ze})),n.d(t,"A",(function(){return Ge})),n.d(t,"x",(function(){return Qe})),n.d(t,"c",(function(){return qe})),n.d(t,"W",(function(){return Ke})),n.d(t,"R",(function(){return Je})),n.d(t,"O",(function(){return Ze})),n.d(t,"e",(function(){return Xe})),n.d(t,"a",(function(){return $e})),n.d(t,"d",(function(){return et})),n.d(t,"b",(function(){return tt})),n.d(t,"s",(function(){return nt})),n.d(t,"h",(function(){return W})),n.d(t,"z",(function(){return H})),n.d(t,"y",(function(){return K})),n.d(t,"o",(function(){return q})),n.d(t,"D",(function(){return J})),n.d(t,"j",(function(){return ie})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return $})),n.d(t,"M",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"N",(function(){return re})),n.d(t,"J",(function(){return xe})),n.d(t,"S",(function(){return oe})),n.d(t,"H",(function(){return le})),n.d(t,"q",(function(){return se})),n.d(t,"I",(function(){return ue})),n.d(t,"E",(function(){return me})),n.d(t,"F",(function(){return fe})),n.d(t,"w",(function(){return ge})),n.d(t,"U",(function(){return Ee})),n.d(t,"m",(function(){return Pe})),n.d(t,"T",(function(){return Ie})),n.d(t,"X",(function(){return Y}));var a=n(6),i=n.n(a),r=n(11),s=n(0),o=n.n(s),c=(n(203),n(172)),l=n(407),u=n(422),d=n(403),p=n(404),h=n(405),m=n(406),f=n(23),g=n(73),b=n(27),y=n(1);n(280);class k extends o.a.Component{constructor(e){var t;super(e),t=this,this.handleClick=function(){var e=Object(r.a)(i.a.mark((function e(n){var a,r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),n.preventDefault(),a=t.props,r=a.userId,s=a.username,o=a.popup,!r){e.next=7;break}Object(b.m)(r,o),e.next=12;break;case 7:if(!s){e.next=12;break}return e.next=10,y.a.send({"@type":"searchPublicChat",username:s}).catch(()=>{t.setState({error:!0})});case 10:(c=e.sent)&&(Object(f.fb)(c.id)?Object(b.k)(c.id,null,!1):Object(b.k)(c.id,null,o));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleClose=()=>{this.setState({error:!1})},this.handleDialogClick=e=>{e.preventDefault(),e.stopPropagation()},this.state={}}static getDerivedStateFromProps(e,t){const n=e.userId,a=e.username;return t.prevUserId!==n||t.prevUsername!==a?{prevUserId:n,prevUsername:a,error:!1}:null}render(){const e=this.props,t=e.children,n=e.t,a=e.title,i=e.username,r=this.state.error;return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{title:a,onClick:this.handleClick},t),r&&o.a.createElement(u.a,{manager:g.a,transitionDuration:0,open:!0,onClose:this.handleClose,onClick:this.handleDialogClick,"aria-labelledby":"confirm-dialog-title"},o.a.createElement(d.a,{id:"confirm-dialog-title"},n("Error")),o.a.createElement(p.a,{classes:{root:"safe-link-content-root"}},o.a.createElement(h.a,null,"Can't find username ".concat(i,"."))),o.a.createElement(m.a,null,o.a.createElement(l.a,{onClick:this.handleClose},n("Ok")))))}}k.defaultProps={popup:!0};var v=Object(c.a)()(k),w=(n(168),n(86)),C=n(52),S=n(12),U=n(10),_=n(38),E=n(92),x=n(35),T=n(25),M=n(51),P=n(5),I=n(13),A=n(9),O=n(2),N=n(4),j=n(17),F=n(16),B=n(19);function D(e){return 1===e.length&&10===e.charCodeAt(0)||(2===e.length&&10===e.charCodeAt(0)&&10===e.charCodeAt(1)||0===e.length)}function L(e,t){if(!e&&!t)return!0;if(!e&&t)return!1;if(e&&!t)return!1;switch(e["@type"]){case"messageSenderUser":return e.user_id===t.user_id;case"messageSenderChat":return e.chat_id===t.chat_id}return!1}function R(e,t){if(!e&&!t)return!0;if(!e&&t)return!1;if(e&&!t)return!1;switch(e.origin["@type"]){case"messageForwardOriginChannel":return e.origin.chat_id===t.origin.chat_id;case"messageForwardOriginHiddenUser":return e.origin.sender_name===t.origin.sender_name;case"messageForwardOriginUser":return e.origin.sender_user_id===t.origin.sender_user_id}return!1}function V(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return!1;const i=a.caption;if(i&&i.text&&i.text.length>0)return!1;switch(a["@type"]){case"messageAnimation":return!0;case"messageInvoice":{const e=a.photo;return Boolean(e)}case"messageLocation":case"messagePhoto":case"messageSticker":case"messageVideo":case"messageVideoNote":return!0}return!1}function z(e,t){const n=A.a.get(e);if(!n)return!1;const a=n.last_read_inbox_message_id,i=n.last_read_outbox_message_id,r=j.a.get(e,t);if(!r)return!1;const s=r.id,o=r.is_outgoing,c=Object(f.gb)(e);return(!o||!c)&&(o?s>i:s>a)}function W(e,t=(e=>e)){if(!e)return null;const n=e.forward_info;if(n)switch(n["@type"]){case"messageForwardedFromUser":if(n.sender_user_id>0){if(B.a.get(n.sender_user_id))return Object(T.c)(n.sender_user_id,null,t)}break;case"messageForwardedPost":{const e=A.a.get(n.chat_id);if(e)return e.title;break}}return H(e,t)}function H(e,t=(e=>e)){if(!e)return null;const n=e.sender,a=e.chat_id;if(!n)return null;if(n.user_id){if(B.a.get(n.user_id))return Object(T.c)(n.user_id,null,t)}if(a){const e=A.a.get(a);if(e)return e.title}return null}function Y(e,t,n){return t<0&&(t=0),t>e.length-1&&(t=e.length-1),n<t&&(n=t),n>e.length&&(n=e.length),e.substring(t,n)}function G(e){e.stopPropagation()}function Q(e,t){e.stopPropagation(),e.preventDefault();const n=I.a.chatId;Object(b.q)(n,t)}function q(e,t=(e=>e),n={}){if("formattedText"!==e["@type"])return null;const a=e.text,i=e.entities;if(!a)return null;if(!i)return[a];if(!i.length)return[a];const r=n.isValidEntity||(()=>!0);let s=!1,c=[],l=0;for(let u=0;u<i.length;u++){const e=i[u],d=e.offset,p=e.length,h=e.type;if(l>d)continue;let m=Y(a,l,d);const g=m.length;m&&(s&&m.length>0&&"\n"===m[0]&&(m=m.substr(1),s=!1),m&&c.push(m));const b=d;let y=Y(a,d,d+p);if(s&&y.length>0&&"\n"===y[0]&&(y=y.substr(1),s=!1),r(e))switch(h["@type"]){case"textEntityTypeBold":c.push(o.a.createElement("strong",{key:b},y));break;case"textEntityTypeBotCommand":{let e="",t=y.length>0&&"/"===y[0]?Y(y,1):y;const a=t.split("@");if(2===a.length)t=a[0],e=a[1];else{const t=I.a.getChatId();if(!Object(f.hb)(t)){let t=0;const a=n.chatId,i=n.messageId,r=j.a.get(a,i);if(r){const n=r.sender,a=r.via_bot_user_id;if(t=n.user_id,a&&(t=a),Object(T.h)(t)){const n=B.a.get(t);n&&(e=n.username)}}}}c.push(o.a.createElement(w.a,{key:b,url:"tg://bot_command?command=".concat(t)+(e?"&bot=".concat(e):"")},y));break}case"textEntityTypeCashtag":c.push(o.a.createElement("a",{key:b,onClick:e=>Q(e,y)},y));break;case"textEntityTypeCode":c.push(o.a.createElement("code",{key:b},y));break;case"textEntityTypeEmailAddress":c.push(o.a.createElement("a",{key:b,href:"mailto:".concat(y),onClick:G,target:"_blank",rel:"noopener noreferrer"},y));break;case"textEntityTypeHashtag":c.push(o.a.createElement("a",{key:b,onClick:e=>Q(e,y)},y));break;case"textEntityTypeItalic":c.push(o.a.createElement("em",{key:b},y));break;case"textEntityTypeMentionName":c.push(o.a.createElement(v,{key:b,userId:h.user_id,title:Object(T.c)(h.user_id,null,t)},y));break;case"textEntityTypeMention":c.push(o.a.createElement(v,{key:b,username:y},y));break;case"textEntityTypePhoneNumber":c.push(o.a.createElement("a",{key:b,href:"tel:".concat(y),onClick:G},y));break;case"textEntityTypePre":c.push(o.a.createElement("pre",{key:b},y)),s=!0;break;case"textEntityTypePreCode":c.push(o.a.createElement("pre",{key:b},o.a.createElement("code",null,y))),s=!0;break;case"textEntityTypeStrikethrough":c.push(o.a.createElement("strike",{key:b},y));break;case"textEntityTypeTextUrl":{const e=h.url?h.url:y;c.push(o.a.createElement(w.a,{key:b,url:e},y));break}case"textEntityTypeUrl":c.push(o.a.createElement(w.a,{key:b,url:y},y));break;case"textEntityTypeUnderline":c.push(o.a.createElement("u",{key:b},y));break;default:c.push(y)}else c.push(y);l+=g+e.length}if(l<a.length){let e=a.substring(l);s&&e.length>0&&"\n"===e[0]&&(e=e.substr(1)),e&&c.push(e)}return c}function K(e,t,n=(e=>e),a={}){if(!e)return null;let i=[];const r=e.content;if(!r)return[t];const s=r.text,o=r.caption;if(s&&"formattedText"===s["@type"]&&s.text)i=q(s,n,a);else if(o&&"formattedText"===o["@type"]&&o.text){const e=q(o,n);e&&(i=i.concat(e))}return i&&i.length>0?[...i,t]:[]}function J(e){return e&&e.content?e.content.web_page:null}function Z(e){if(e<1e3)return e;if(e<1e6){return((e=Math.trunc(e/100))/10).toFixed(e%10<1?0:1)+"K"}return((e=Math.trunc(e/1e5))/10).toFixed(e%10<1?0:1)+"M"}function X(e){if(!e)return null;const t=new Date(1e3*e);return Object(C.a)(t,N.a.formatterDay)}function $(e){if(!e)return null;const t=new Date(1e3*e);return N.a.formatString("formatDateAtTime",Object(C.a)(t,N.a.formatterYear),Object(C.a)(t,N.a.formatterDay))}function ee(e){if(!e)return!1;const t=e.origin;if(!t)return!1;switch(t["@type"]){case"messageForwardOriginUser":return!1;case"messageForwardOriginHiddenUser":return!0;case"messageForwardOriginChannel":return!1}return!1}function te(e,t=(e=>e)){if(!e)return"";const n=e.origin;if(!n)return"";switch(n["@type"]){case"messageForwardOriginUser":{const e=n.sender_user_id;return Object(T.c)(e,null,t)}case"messageForwardOriginHiddenUser":return n.sender_name;case"messageForwardOriginChannel":{const e=n.chat_id,a=n.author_signature;return Object(f.x)(e,!1,t)+(a?" (".concat(a,")"):"")}}return""}function ne(e,t){if(0===e.messages.length)return;if(0===t.length)return;const n=t.reduce((function(e,t){return e.set(t.id,t.id),e}),new Map);e.messages=e.messages.filter(e=>!n.has(e.id))}function ae(e,t){const n=t.is_video,a=t.discard_reason,i=a&&"callDiscardReasonMissed"===a["@type"],r=a&&"callDiscardReasonDeclined"===a["@type"];return Object(T.j)(e.user_id)?i?n?N.a.getString("CallMessageVideoOutgoingMissed"):N.a.getString("CallMessageOutgoingMissed"):n?N.a.getString("CallMessageVideoOutgoing"):N.a.getString("CallMessageOutgoing"):i?n?N.a.getString("CallMessageVideoIncomingMissed"):N.a.getString("CallMessageIncomingMissed"):r?n?N.a.getString("CallMessageVideoIncomingDeclined"):N.a.getString("CallMessageIncomingDeclined"):n?N.a.getString("CallMessageVideoIncoming"):N.a.getString("CallMessageIncoming")}function ie(e,t=(e=>e)){if(!e)return null;const n=e.content,a=(e.is_outgoing,e.sender);if(!n)return null;let i="";if(n.caption&&n.caption.text&&(i=", ".concat(n.caption.text)),e.ttl>0)return Object(x.a)(e);switch(n["@type"]){case"messageAnimation":return t("AttachGif")+i;case"messageAudio":{const e=n.audio;return(Object(_.c)(e)||t("AttachMusic"))+i}case"messageBasicGroupChatCreate":return Object(x.a)(e);case"messageCall":{const e=ae(a,n),t=n.duration;return t>0?N.a.formatString("CallMessageWithDuration",e,N.a.formatCallDuration(t)):e}case"messageChatAddMembers":case"messageChatChangePhoto":case"messageChatChangeTitle":case"messageChatDeleteMember":case"messageChatDeletePhoto":case"messageChatJoinByLink":case"messageChatSetTtl":case"messageChatUpgradeFrom":case"messageChatUpgradeTo":return Object(x.a)(e);case"messageContact":return t("AttachContact")+i;case"messageContactRegistered":case"messageCustomServiceAction":return Object(x.a)(e);case"messageDocument":{const e=n.document;return e&&e.file_name?e.file_name+i:t("AttachDocument")+i}case"messageExpiredPhoto":return t("AttachPhoto")+i;case"messageExpiredVideo":return t("AttachVideo")+i;case"messageGame":return t("AttachGame")+i;case"messageGameScore":return Object(x.a)(e);case"messageInvoice":return n.title+i;case"messageLocation":return t("AttachLocation")+i;case"messagePassportDataReceived":case"messagePassportDataSent":case"messagePaymentSuccessful":case"messagePaymentSuccessfulBot":return Object(x.a)(e);case"messagePhoto":return t("AttachPhoto")+i;case"messagePoll":return"\ud83d\udcca "+(n.poll.question||t("Poll"))+i;case"messagePinMessage":case"messageScreenshotTaken":return Object(x.a)(e);case"messageSticker":{const e=n.sticker;let a="";return e&&e.emoji&&(a=e.emoji),t("AttachSticker")+(a?" ".concat(a):"")+i}case"messageSupergroupChatCreate":return Object(x.a)(e);case"messageText":return n.text.text+i;case"messageUnsupported":return Object(x.a)(e);case"messageVenue":return t("AttachLocation")+i;case"messageVideo":return t("AttachVideo")+i;case"messageVideoNote":return t("AttachRound")+i;case"messageVoiceNote":return t("AttachAudio")+i;case"messageWebsiteConnected":return Object(x.a)(e);default:return t("UnsupportedAttachment")}}function re(e){return!!e&&"messagePhoto"===e["@type"]}function se(e,t=P.s,n=P.q,a=P.t,i=P.r){if(!e)return null;const r=e.longitude,s=e.latitude;return"loc=".concat(s,",").concat(r,"&size=").concat(t,",").concat(n,"&scale=").concat(i,"&zoom=").concat(a)}function oe(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return!1;switch(a["@type"]){case"messageVideo":return!0;case"messageText":{const e=a.web_page;return Boolean(e.video)}default:return!1}}function ce(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return!1;switch(a["@type"]){case"messageText":{const e=a.web_page;if(!e)return!1;const t=e.embed_url,n=e.site_name;if(!t)return!1;if(!n)return!1;switch(n){case"Coub":case"SoundCloud":case"Spotify":case"Twitch":case"YouTube":case"Vimeo":case"\u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a":case"\u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0443\u0437\u044b\u043a\u0430":return!0}return!1}default:return!1}}function le(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return!1;switch(a["@type"]){case"messageAnimation":return!0;case"messageText":{const e=a.web_page;return Boolean(e.animation)}default:return!1}}function ue(e,t){const n=j.a.get(e,t);if(!n)return!0;const a=n.content;if(!a)return!0;switch(a["@type"]){case"messageVoiceNote":return a.is_listened;case"messageVideoNote":return a.is_viewed;default:return!0}}function de(e){if(!e)return!1;switch(e["@type"]){case"message":{const t=j.a.get(e.chat_id,e.id);if(!t)return!1;const n=t.content;if(!n)return!1;switch(n["@type"]){case"messageVoiceNote":if(n.voice_note)return!0;break;case"messageText":{const e=n.web_page;if(e){if(e.voice_note)return!0}break}}break}case"pageBlockVoiceNote":return!0}return!1}function pe(e){if(!e)return!1;let t=null;switch(e["@type"]){case"message":t=he(e.chat_id,e.id);break;case"pageBlockAudio":t=Object(M.a)(e)}return t&&t.duration>P.N}function he(e,t){const n=j.a.get(e,t);if(!n)return null;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAudio":return a.audio;case"messageText":{const e=a.web_page;if(e){return e.audio}break}}return null}function me(e){if(!e)return!1;switch(e["@type"]){case"message":return!!he(e.chat_id,e.id);case"pageBlockAudio":return!!Object(M.a)(e)}return!1}function fe(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return!1;switch(a["@type"]){case"messageVideoNote":if(a.video_note)return!0;break;case"messageText":{const e=a.web_page;if(e){if(e.video_note)return!0}break}}return!1}function ge(e,t){const n=j.a.get(e,t);if(!n)return null;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAudio":if(a.audio)return{"@type":"searchMessagesFilterAudio"};break;case"messageVoiceNote":if(a.voice_note)return{"@type":"searchMessagesFilterVoiceNote"};break;case"messageVideoNote":if(a.video_note)return null;break;case"messageText":{const e=a.web_page;if(e){const t=e.audio,n=e.voice_note,a=e.video_note;if(t)return null;if(n)return null;if(a)return null;break}}}return null}function be(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.animation;r&&(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active?O.a.cancelGetRemoteFile(r.id,t):n&&r.remote.is_uploading_active?O.a.cancelUploadFile(r.id,t):(y.a.clientUpdate({"@type":"clientUpdateActiveAnimation",chatId:a,messageId:i}),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(b.u)({chatId:a,messageId:i})))}function ye(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.audio;if(!r)return;if(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active&&!Object(U.R)())return void O.a.cancelGetRemoteFile(r.id,t);if(n&&r.remote.is_uploading_active)return void O.a.cancelUploadFile(r.id,t);Object(U.R)()||Object(U.c)(r,t,()=>O.a.updateAudioBlob(a,i,r.id)),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i});const s=r.remote.unique_id,o=F.b.getCurrentTime(s),c=o.currentTime,l=o.duration;y.a.clientUpdate({"@type":"clientUpdateMediaActive",source:j.a.get(a,i),currentTime:c,duration:l})}function ke(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.document;r&&(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active?O.a.cancelGetRemoteFile(r.id,t):n&&r.remote.is_uploading_active?O.a.cancelUploadFile(r.id,t):(y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(U.Q)(r,e.file_name,t)))}function ve(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id,r=Object(S.l)(e.sizes);if(!r)return;let s=r.photo;s&&(s=O.a.get(s.id)||s,n&&s.local.is_downloading_active?O.a.cancelGetRemoteFile(s.id,t):n&&s.remote.is_uploading_active?O.a.cancelUploadFile(s.id,t):(Object(U.c)(s,t,()=>O.a.updatePhotoBlob(a,i,s.id)),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(b.u)({chatId:a,messageId:i})))}function we(e,t,n){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(r.a)(i.a.mark((function e(t,n,a){var r,s,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n){e.next=4;break}return e.abrupt("return");case 4:if(r=n.chat_id,s=n.id,y.a.send({"@type":"openMessageContent",chat_id:r,message_id:s}),o=t.set_id){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,y.a.send({"@type":"getStickerSet",set_id:o});case 11:if(c=e.sent){e.next=14;break}return e.abrupt("return");case 14:y.a.clientUpdate({"@type":"clientUpdateStickerSet",stickerSet:c});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.video;r&&(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active&&!Object(U.R)()?O.a.cancelGetRemoteFile(r.id,t):n&&r.remote.is_uploading_active?O.a.cancelUploadFile(r.id,t):(y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(b.u)({chatId:a,messageId:i})))}function Ue(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.video;if(!r)return;if(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active)return void O.a.cancelGetRemoteFile(r.id,t);if(n&&r.remote.is_uploading_active)return void O.a.cancelUploadFile(r.id,t);Object(U.c)(r,t,()=>O.a.updateVideoNoteBlob(a,i,r.id)),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i});const s=r.remote.unique_id,o=F.b.getCurrentTime(s),c=o.currentTime,l=o.duration;y.a.clientUpdate({"@type":"clientUpdateMediaActive",source:j.a.get(a,i),currentTime:c,duration:l})}function _e(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;let r=e.voice;if(!r)return;if(r=O.a.get(r.id)||r,n&&r.local.is_downloading_active)return void O.a.cancelGetRemoteFile(r.id,t);if(n&&r.remote.is_uploading_active)return void O.a.cancelUploadFile(r.id,t);Object(U.c)(r,t,()=>O.a.updateVoiceNoteBlob(a,i,r.id)),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i});const s=r.remote.unique_id,o=F.b.getCurrentTime(s),c=o.currentTime,l=o.duration;y.a.clientUpdate({"@type":"clientUpdateMediaActive",source:j.a.get(a,i),currentTime:c,duration:l})}function Ee(e,t,n=!0){const a=j.a.get(e,t);if(!a)return;const i=a.content;if(!i)return null;switch(i["@type"]){case"messageAnimation":{const e=i.animation;e&&be(e,a,n);break}case"messageAudio":{const e=i.audio;e&&ye(e,a,n);break}case"messageChatChangePhoto":{const e=i.photo;e&&function(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id,r=Object(S.l)(e.sizes);if(!r)return;let s=r.photo;s&&(s=O.a.get(s.id)||s,n&&s.local.is_downloading_active?O.a.cancelGetRemoteFile(s.id,t):n&&s.remote.is_uploading_active?O.a.cancelUploadFile(s.id,t):(Object(U.c)(s,t,()=>O.a.updatePhotoBlob(a,i,s.id)),y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(b.u)({chatId:a,messageId:i})))}(e,a,n);break}case"messageContact":{const e=i.contact;e&&function(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id;y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),Object(b.m)(e.user_id,!0)}(e,a);break}case"messageDocument":{const e=i.document;e&&ke(e,a,n);break}case"messageGame":{const e=i.game;e&&function(e,t,n){if(!e)return;if(!t)return;const a=t.chat_id,i=t.id,r=e.animation;if(r){let e=r.animation;if(!e)return;if(e=O.a.get(e.id)||e,n&&e.local.is_downloading_active)return void O.a.cancelGetRemoteFile(e.id,t);if(n&&e.remote.is_uploading_active)return void O.a.cancelUploadFile(e.id,t);Object(U.c)(e,t,()=>O.a.updateAnimationBlob(a,i,e.id))}y.a.send({"@type":"openMessageContent",chat_id:a,message_id:i}),y.a.clientUpdate({"@type":"clientUpdateActiveAnimation",chatId:a,messageId:i})}(e,a,n);break}case"messageInvoice":case"messagePhoto":{const e=i.photo;e&&ve(e,a,n);break}case"messageSticker":{const e=i.sticker;e&&we(e,a,n);break}case"messageText":{const e=i.web_page;if(e){const t=e.animation,i=e.audio,r=e.document,s=e.photo,o=e.sticker,c=e.video,l=e.video_note,u=e.voice_note;if(t){be(t,a,n);break}if(i){ye(i,a,n);break}if(r){ke(r,a,n);break}if(o){we(o,a,n);break}if(c){Se(c,a,n);break}if(l){Ue(l,a,n);break}if(u){_e(u,a,n);break}if(s){ve(s,a,n);break}}break}case"messageVideo":{const e=i.video;e&&Se(e,a,n);break}case"messageVideoNote":{const e=i.video_note;e&&Ue(e,a,n);break}case"messageVoiceNote":{const e=i.voice_note;e&&_e(e,a,n);break}}}function xe(e){return e&&"deletedMessage"===e["@type"]}function Te(e,t){const n=j.a.get(e,t);if(!n)return;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAnimation":{const e=a.animation;if(!e)return null;return e.minithumbnail||null}case"messageAudio":return null;case"messageChatChangePhoto":{const e=a.photo;return e&&e.minithumbnail||null}case"messageDocument":{const e=a.document;if(!e)return null;return e.minithumbnail||null}case"messageGame":{const e=a.game;if(!e)return null;const t=e.animation,n=e.photo;if(t){const e=t.minithumbnail;if(e)return e}return n&&n.minithumbnail||null}case"messagePhoto":{const e=a.photo;return e&&e.minithumbnail||null}case"messageSticker":return null;case"messageText":{const e=a.web_page;if(e){const t=e.animation,n=e.audio,a=e.document,i=e.photo,r=e.sticker,s=e.video,o=e.video_note;if(i)return i.minithumbnail||null;if(t){return t.minithumbnail||null}if(n)return null;if(a){return a.minithumbnail||null}if(r)return null;if(s){return s.minithumbnail||null}if(o){return o.minithumbnail||null}}break}case"messageVideo":{const e=a.video;if(!e)return null;return e.minithumbnail||null}case"messageVideoNote":{const e=a.video_note;if(!e)return null;return e.minithumbnail||null}}return null}function Me(e,t){const n=j.a.get(e,t);if(!n)return;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAnimation":{const e=a.animation;if(!e)return null;return e.thumbnail||null}case"messageAudio":{const e=a.audio;if(!e)return null;return e.album_cover_thumbnail||null}case"messageChatChangePhoto":{const e=a.photo;return e?Object(S.l)(e.sizes,P.L):null}case"messageDocument":{const e=a.document;if(!e)return null;return e.thumbnail||null}case"messageGame":{const e=a.game;if(!e)return null;const t=e.animation,n=e.photo;if(t){const e=t.thumbnail;if(e)return e}return n?Object(S.l)(n.sizes,P.L):null}case"messagePhoto":{const e=a.photo;return e?Object(S.l)(e.sizes,P.L):null}case"messageSticker":{const e=a.sticker;if(!e)return null;return e.thumbnail||null}case"messageText":{const e=a.web_page;if(e){const t=e.animation,n=e.audio,a=e.document,i=e.photo,r=e.sticker,s=e.video,o=e.video_note;if(i)return Object(S.l)(i.sizes,P.L);if(t){return t.thumbnail||null}if(n){return n.album_cover_thumbnail||null}if(a){return a.thumbnail||null}if(r){return r.thumbnail||null}if(s){return s.thumbnail||null}if(o){return o.thumbnail||null}}break}case"messageVideo":{const e=a.video;if(!e)return null;return e.thumbnail||null}case"messageVideoNote":{const e=a.video_note;if(!e)return null;return e.thumbnail||null}}return null}function Pe(e,t){return 0}function Ie(e,t){return e.id-t.id}function Ae(e,t){if(!t)return!1;if(!t.length)return!1;for(let n=0;n<t.length;n++)if(e>=t[n].offset&&e<t[n].offset+t[n].length)return!0;return!1}function Oe(e,t,n){if(!n)return!1;if(!n.length)return!1;for(let a=0;a<n.length;a++)if(e<=n[a].offset&&n[a].offset+n[a].length-1<=t)return!0;return!1}function Ne(e,t,n){return!Ae(e,n)&&!Ae(t,n)&&!Oe(e,t,n)}function je(e,t,n){n&&n.length&&n.forEach(n=>{n.offset>e&&(n.offset-=t)})}function Fe(e,t,n){n&&n.length&&n.forEach(n=>{n.offset>e&&(n.offset+=t)})}function Be(e,t,n){if(n&&n.length)for(let a=0;a<n.length;a++){const i=n[a],r=i.offset,s=i.offset+i.length-1;(e<=r&&r<=t||e<=s&&s<=t||r<e&&t>s)&&n.splice(a--,1)}}function De(e,t,n,a){const i=document.createTextNode(n.substr(e,t));a.push(i)}function Le(e,t,n=(e=>e)){if(!e)return[];t=(t||[]).sort((e,t)=>e.offset-t.offset!==0?e.offset-t.offset:t.length-e.length);let a=[],i=0,r=null;return t.forEach(t=>{if(t.offset-i>0&&(De(i,t.offset-i,e,a),i=t.offset),!r||!Ae(t.offset,[r])){switch(t.type["@type"]){case"textEntityTypeBold":{const n=document.createElement("b");n.innerText=e.substr(t.offset,t.length),a.push(n);break}case"textEntityTypeBotCommand":case"textEntityTypeCashtag":De(t.offset,t.length,e,a);break;case"textEntityTypeCode":{const n=document.createTextNode("`"+e.substr(t.offset,t.length)+"`");a.push(n);break}case"textEntityTypeEmailAddress":case"textEntityTypeHashtag":De(t.offset,t.length,e,a);break;case"textEntityTypeItalic":{const n=document.createElement("i");n.innerText=e.substr(t.offset,t.length),a.push(n);break}case"textEntityTypeMention":De(t.offset,t.length,e,a);break;case"textEntityTypeMentionName":try{const i=t.type.user_id;if(B.a.get(i)){const r=document.createElement("a");r.title=Object(T.c)(i,null,n),r.dataset.userId=i,r.innerText=e.substr(t.offset,t.length),a.push(r)}else De(t.offset,t.length,e,a)}catch(s){De(t.offset,t.length,e,a)}break;case"textEntityTypePhoneNumber":De(t.offset,t.length,e,a);break;case"textEntityTypePre":{const n=document.createTextNode("```"+e.substr(t.offset,t.length)+"```");a.push(n);break}case"textEntityTypePreCode":{const n=document.createTextNode("```"+e.substr(t.offset,t.length)+"```");a.push(n);break}case"textEntityTypeStrikethrough":{const n=document.createElement("strike");n.innerText=e.substr(t.offset,t.length),a.push(n);break}case"textEntityTypeTextUrl":try{const n=t.type.url,i=document.createElement("a");i.href=Object(E.a)(n,!1),i.title=Object(E.a)(n,!1),i.target="_blank",i.rel="noopener noreferrer",i.innerText=e.substr(t.offset,t.length),a.push(i)}catch(o){De(t.offset,t.length,e,a)}break;case"textEntityTypeUrl":De(t.offset,t.length,e,a);break;case"textEntityTypeUnderline":{const n=document.createElement("u");n.innerText=e.substr(t.offset,t.length),a.push(n);break}default:De(t.offset,t.length,e,a)}r=t,i+=t.length}}),i<e.length&&De(i,e.length-i,e,a),a}function Re(e){const t=[];return e?{text:e=Qe(e=function(e,t){let n=!1,a=-1,i=0,r=-1,s=0,o=0;for(;-1!==(a=e.indexOf(n?"```":"`",i));)if(-1===r)n=e.length-a>2&&"`"===e[a+1]&&"`"===e[a+2],r=a,i=a+(n?3:1);else{for(let t=a+(n?3:1);t<e.length&&"`"===e[t];t++)a++;if(i=a+(n?3:1),n){let n=e.substring(0,r),c=e.substring(r+3,a),l=e.substring(a+3,e.length);if(c.length>0){s=r,o=a-r-3;const u={"@type":"textEntity",offset:s,length:o,language:"",type:{"@type":"textEntityTypePre"},textContent:(e=n+c+l).substring(s,s+o)};if(Be(s,s+o-1+6),je(s+o,6,t),t.push(u),i-=6,n.length>0){const a=n[n.length-1];"\n"!==a&&(" "===a||"\xa0"===a?(n=n.substr(0,n.length-1)+"\n",e=n+c+l):(n+="\n",e=n+c+l,Fe(s-1,1,t),i+=1))}if(l.length>0){const a=l[0];"\n"!==a&&(" "===a||"\xa0"===a?(l="\n"+l.substr(1),e=n+c+l):(l="\n"+l,e=n+c+l,Fe(s+o-1,1,t),i+=1))}c.length>2&&"\n"===c[0]&&(c=c.substring(1),e=n+c+l,u.length-=1,u.textContent=c,je(u.offset+u.length-1,1,t),i-=1),c.length>2&&"\n"===c[c.length-1]&&(c=c.substring(0,c.length-1),e=n+c+l,u.length-=1,u.textContent=c,je(u.offset+u.length-1,1,t),i-=1)}}else if(r+1!==a){s=r,o=a-r-1,e=e.substring(0,r)+e.substring(r+1,a)+e.substring(a+1,e.length);const n={"@type":"textEntity",offset:s,length:o,type:{"@type":"textEntityTypeCode"},textContent:e.substring(s,s+o)};Be(s,s+o-1+2),je(s+o,2,t),t.push(n),i-=2}r=-1,n=!1}if(-1!==r&&n&&(s=r,o=1,Ne(s,s+o+2-1,t))){e=e.substring(0,r)+e.substring(r+2,e.length);const n={"@type":"textEntity",offset:s,length:o,type:{"@type":"textEntityTypeCode"},textContent:e.substring(s,s+o)};Be(s,s+o-1+2),je(s+o,2,t),t.push(n)}return e}(e=function(e,t){const n=(new DOMParser).parseFromString(e,"text/html");let a=0,i=0,r="";return n.body.childNodes.forEach(e=>{const n=e.textContent,s=e.nodeName;if(i=n.length,r+=n,Ne(a,a+i-1,t))switch(s){case"#text":a+=i;break;case"A":e.dataset.userId?t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeMentionName",user_id:e.dataset.userId},textContent:r.substring(a,a+i)}):e.href&&t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeTextUrl",url:e.href},textContent:r.substring(a,a+i)}),a+=i;break;case"B":case"STRONG":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeBold"},textContent:r.substring(a,a+i)}),a+=i;break;case"BR":break;case"CODE":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeCode"},textContent:r.substring(a,a+i)}),a+=i;break;case"I":case"EM":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeItalic"},textContent:r.substring(a,a+i)}),a+=i;break;case"PRE":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypePre"},textContent:r.substring(a,a+i)}),a+=i;break;case"DEL":case"S":case"STRIKE":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeStrikethrough"},textContent:r.substring(a,a+i)}),a+=i;break;case"INS":case"U":t.push({"@type":"textEntity",offset:a,length:i,type:{"@type":"textEntityTypeUnderline"},textContent:r.substring(a,a+i)}),a+=i;break;default:a+=i}}),e=r}(e=(e=(e=(e=e.replace(/<div><br><\/div>/gi,"<br>")).replace(/<div>/gi,"<br>")).replace(/<\/div>/gi,"")).split("<br>").join("\n"),t),t),t),entities:t}:{text:e,entities:t}}function Ve(e,t){const n=e.offset,a=t.offset;return n<a?-1:n>a?1:0}function ze(e,t){const n=function(e,t){let n=[];const a=We;let i=a.exec(e);for(;i;){const t=i.index,r=i[0].length;n.push({"@type":"textEntity",type:{"@type":"textEntityTypeUrl"},length:r,offset:t}),i=a.exec(e)}return{text:e,entities:[...t,...n].sort(Ve)}}(e,t),a=function(e,t){let n=[];const a=Ye;let i=a.exec(e);for(;i;){let t=i.index,r=1,s=e[t];"#"!==s&&"@"!==s&&(t++,r++,s=e[t]);const o=i[0].length-r+1;"@"===s?n.push({"@type":"textEntity",type:{"@type":"textEntityTypeMention"},length:o,offset:t}):"#"===s&&n.push({"@type":"textEntity",type:{"@type":"textEntityTypeHashtag"},length:o,offset:t}),i=a.exec(e)}return{text:e,entities:[...t,...n].sort(Ve)}}(n.text,n.entities);return{text:a.text,entities:a.entities}}window.getViews=Z;const We=/((ftp|http|https):\/\/)?([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?/g;const He=new Map,Ye=/(^|\s|\()@[a-zA-Z\d_.]{1,32}|(^|\s|\()#[\w]+/g;function Ge(e,t,n){const a="".concat(e,"_").concat(t);let i=[];if(He.has(a))i=He.get(a);else{let n=Ye.exec(t);for(;n;){let a=n.index,r=1,s=t[a];"@"!==s&&"#"!==s&&(a++,r++,s=t[a]);const o=n[0].length-r+1,c=n[0].substr(r);let l=null;1===e?"@"===s?l="https://instagram.com/"+c:"#"===s&&(l="https://instagram.com/explore/tags/"+c):2===e&&("@"===s?l="https://twitter.com/"+c:"#"===s&&(l="https://twitter.com/hashtag/"+c)),l&&i.push({"@type":"textEntity",type:{"@type":"textEntityTypeTextUrl",url:l},length:o,offset:a}),n=Ye.exec(t)}He.set(a,i)}return{text:t,entities:[...n,...i].sort(Ve)}}function Qe(e,t){let n=-1,a=0,i=-1,r=0,s=0;return Object.entries({"*":"textEntityTypeBold",_:"textEntityTypeItalic","~":"textEntityTypeStrikethrough"}).forEach(([o,c])=>{const l=o+o;for(a=0,i=-1;-1!==(n=e.indexOf(l,a));)if(-1===i){const r=0===n?" ":e[n-1];Ae(n,t)||" "!==r&&"\xa0"!==r&&"\n"!==r||(i=n),a=n+2}else{for(let t=n+2;t<e.length&&e[t]===o;t++)n++;if(a=n+2,Ae(n,t)||Oe(i,n,t)){i=-1;continue}if(i+2!==n){r=i,s=n-i-2,e=e.substring(0,i)+e.substring(i+2,n)+e.substring(n+2,e.length);const o={"@type":"textEntity",offset:r,length:s,language:"",type:{"@type":c},textContent:e.substring(r,r+s)};je(r+s,4,t),t.push(o),a-=4}i=-1}}),e}function qe(e,t){const n=j.a.get(e,t);if(!n)return!1;return n.can_be_edited}function Ke(e,t){const n=j.a.get(e,t);if(!n)return!1;if(Object(f.gb)(e))return!1;const a=n.forward_info,i=n.content;return a&&i&&"messageSticker"!==i["@type"]&&"messageAudio"!==i["@type"]}function Je(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;return a&&"messageText"===a["@type"]}function Ze(e,t){const n=j.a.get(e,t);return n&&n.is_pinned}function Xe(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content;if(!a)return;if("messagePoll"!==a["@type"])return;const i=a.poll;if(!i)return!1;const r=i.type,s=i.is_closed,o=i.options;return!!r&&("pollTypeRegular"===r["@type"]&&(!s&&o.some(e=>e.is_chosen||e.is_being_chosen)))}function $e(e,t){const n=j.a.get(e,t);if(!n)return!1;const a=n.content,i=n.can_be_edited;return a&&"messagePoll"===a["@type"]?i:void 0}function et(e,t){const n=j.a.get(e,t);return n&&n.can_be_forwarded}function tt(e,t){const n=j.a.get(e,t);return n&&(n.can_be_deleted_only_for_self||n.can_be_deleted_for_all_users)}function nt(e,t){const n=j.a.get(e,t);if(!n)return null;const a=n.content;if(!a)return null;switch(a["@type"]){case"messageAnimation":{const e=a.animation,t=a.caption;if(t&&t.text)return{maxWidth:P.I};if(!e)return null;const n=e.width,i=e.height,r=e.thumbnail||{width:n,height:i};if(!r)return null;const s=Object(S.i)(r,P.I,!0);return s?{width:s.width}:null}case"messageGame":return{maxWidth:P.I+10+18};case"messageInvoice":{const e=a.photo;if(!e)return null;const t=Object(S.p)(e.sizes,P.K);if(!t)return null;const n=Object(S.i)(t,P.I,!0);return n?{width:n.width}:null}case"messagePhoto":{const e=a.photo,t=a.caption;if(t&&t.text)return{maxWidth:P.I};if(!e)return null;const n=Object(S.p)(e.sizes,P.K);if(!n)return null;const i=Object(S.i)(n,P.I,!0);return i?{width:i.width}:null}case"messageText":return a.web_page?{maxWidth:P.I+10+18}:null;case"messageVideo":{const e=a.video,t=a.caption;if(t&&t.text)return{maxWidth:P.I};if(!e)return null;const n=e.thumbnail,i=e.width,r=e.height,s=n||{width:i,height:r};if(!s)return null;const o=Object(S.i)(s,P.I,!0);return o?{width:o.width}:null}}return null}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var a=n(0),i=n.n(a);var r=new class{constructor(){this.list=new Map([["AED","\u062f.\u0625"],["AFN","\u060b"],["ARS","$"],["AUD","$"],["AZN","\u20bc"],["BND","B$"],["BRL","R$"],["CAD","$"],["CHF","Fr"],["CLP","$"],["CNY","\xa5"],["COP","$"],["EGP","E\xa3"],["EUR","\u20ac"],["GBP","\xa3"],["HKD","$"],["IDR","Rp"],["ILS","\u20aa"],["INR","\u20b9"],["ISK","kr"],["JPY","\xa5"],["KRW","\u20a9"],["KZT","\u20b8"],["MXN","$"],["MYR","RM"],["NOK","kr"],["NZD","$"],["PHP","\u20b1"],["RUB","\u20bd"],["SAR","SR"],["SEK","kr"],["SGD","$"],["TRY","\u20ba"],["TTD","$"],["TWD","$"],["TZS","TSh"],["UAH","\u20b4"],["UGX","USh"],["USD","$"],["UYU","$"],["VND","\u20ab"],["YER","\ufdfc"],["ZAR","R"],["IRR","\ufdfc"],["IQD","\u0639.\u062f"],["VEF","Bs.F."]])}get(e){return this.list.get(e)}set(e,t){this.list.set(e,t)}getPow(e){return"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF"].includes(e)?0:"MRO"===e?1:2}getString(e,t){const n=(e/Math.pow(10,this.getPow(t))).toFixed(2);return"".concat(n," ").concat(this.get(t))}},s=n(32),o=n(23),c=n(25),l=n(9),u=n(4),d=n(17);const p=new Map;function h(e){return!!e&&(!!e.content&&(p.has(e.content["@type"])&&p.get(e.content["@type"])||e.ttl>0))}function m(e,t=!1){if(!e)return null;if(!e.content)return null;const n=e.chat_id,a=e.ttl,p=e.sender,h=e.content,m=e.is_outgoing,f=Object(o.V)(n);if(a>0)switch(h["@type"]){case"messagePhoto":return m?u.a.getString("ActionYouSendTTLPhoto"):u.a.replace(u.a.getString("ActionSendTTLPhoto"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageVideo":return m?u.a.getString("ActionYouSendTTLVideo"):u.a.replace(u.a.getString("ActionSendTTLVideo"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}))}switch(h["@type"]){case"messageExpiredPhoto":return u.a.getString("AttachPhotoExpired");case"messageExpiredVideo":return u.a.getString("AttachVideoExpired");case"messageBasicGroupChatCreate":return m?u.a.getString("ActionYouCreateGroup"):u.a.replace(u.a.getString("ActionCreateGroup"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageSupergroupChatCreate":return f?u.a.getString("ActionCreateChannel"):u.a.getString("ActionCreateMega");case"messageChatChangeTitle":{const e=h.title;return f?u.a.getString("ActionChannelChangedTitle").replace("un2",e):m?u.a.getString("ActionYouChangedTitle").replace("un2",e):u.a.replace(u.a.getString("ActionChangedTitle").replace("un2",e),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}))}case"messageChatChangePhoto":return f?u.a.getString("ActionChannelChangedPhoto"):m?u.a.getString("ActionYouChangedPhoto"):u.a.replace(u.a.getString("ActionChangedPhoto"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageChatDeletePhoto":return f?u.a.getString("ActionChannelRemovedPhoto"):m?u.a.getString("ActionYouRemovedPhoto"):u.a.replace(u.a.getString("ActionRemovedPhoto"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageChatAddMembers":{if(1===h.member_user_ids.length){const e=h.member_user_ids[0];return p.user_id===e?Object(o.ib)(n)&&f?u.a.getString("ChannelJoined"):Object(o.ib)(n)&&!f?Object(c.j)(e)?u.a.getString("ChannelMegaJoined"):u.a.replace(u.a.getString("ActionAddUserSelfMega"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):m?u.a.getString("ActionAddUserSelfYou"):u.a.replace(u.a.getString("ActionAddUserSelf"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):m?u.a.replace(u.a.getString("ActionYouAddUser"),"un2",i.a.createElement(s.a,{key:"un2",sender:{"@type":"messageSenderUser",user_id:e},openUser:t})):Object(c.j)(e)?Object(o.ib)(n)?f?u.a.replace(u.a.getString("ChannelAddedBy"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):u.a.replace(u.a.getString("MegaAddedBy"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):u.a.replace(u.a.getString("ActionAddUserYou"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):u.a.replaceTwo(u.a.getString("ActionAddUser"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}),"un2",i.a.createElement(s.a,{key:"un2",sender:{"@type":"messageSenderUser",user_id:e},openUser:t}))}const e=h.member_user_ids.map(e=>i.a.createElement(s.a,{key:e,sender:{"@type":"messageSenderUser",user_id:e},openUser:t})).reduce((e,t,n,a)=>null===e?[t]:[...e,", ",t],null);return m?u.a.replace(u.a.getString("ActionYouAddUser"),"un2",e):u.a.replaceTwo(u.a.getString("ActionAddUser"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}),"un2",e)}case"messageChatJoinByLink":return m?u.a.getString("ActionInviteYou"):u.a.replace(u.a.getString("ActionInviteUser"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageChatDeleteMember":return h.user_id===p.user_id?m?u.a.getString("ActionYouLeftUser"):u.a.replace(u.a.getString("ActionLeftUser"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):m?u.a.replace(u.a.getString("ActionYouKickUser"),"un2",i.a.createElement(s.a,{key:"un2",sender:{"@type":"messageSenderUser",user_id:h.user_id},openUser:t})):Object(c.j)(h.user_id)?u.a.replace(u.a.getString("ActionKickUserYou"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t})):u.a.replaceTwo(u.a.getString("ActionKickUser"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}),"un2",i.a.createElement(s.a,{key:"un2",sender:{"@type":"messageSenderUser",user_id:h.user_id},openUser:t}));case"messageChatUpgradeTo":case"messageChatUpgradeFrom":return u.a.getString("ActionMigrateFromGroup");case"messagePinMessage":{const n=function(e,t,n){if(!t)return null;const a=t.chat_id,r=t.sender;if(r)return i.a.createElement(s.a,{key:e,sender:r,openUser:n});const o=l.a.get(a);return o?o.title:null}("un1",e,t),a=d.a.get(e.chat_id,h.message_id);if(!a||!a.content)return u.a.replace(u.a.getString("ActionPinnedNoText"),"un1",n);switch(a.content["@type"]){case"messageAnimation":return u.a.replace(u.a.getString("ActionPinnedGif"),"un1",n);case"messageAudio":return u.a.replace(u.a.getString("ActionPinnedMusic"),"un1",n);case"messageContact":return u.a.replace(u.a.getString("ActionPinnedContact"),"un1",n);case"messageDocument":return u.a.replace(u.a.getString("ActionPinnedFile"),"un1",n);case"messageExpiredPhoto":return u.a.replace(u.a.getString("ActionPinnedPhoto"),"un1",n);case"messageExpiredVideo":return u.a.replace(u.a.getString("ActionPinnedVideo"),"un1",n);case"messageGame":return u.a.replace(u.a.formatString("ActionPinnedGame","\ud83c\udfae "+a.content.game.title),"un1",n);case"messageLocation":return a.content.live_period>0?u.a.replace(u.a.getString("ActionPinnedGeoLive"),"un1",n):u.a.replace(u.a.getString("ActionPinnedGeo"),"un1",n);case"messagePhoto":return u.a.replace(u.a.getString("ActionPinnedPhoto"),"un1",n);case"messagePoll":return"pollTypeQuiz"===a.content.poll.type["@type"]?u.a.replace(u.a.getString("ActionPinnedQuiz"),"un1",n):u.a.replace(u.a.getString("ActionPinnedPoll"),"un1",n);case"messageSticker":return u.a.replace(u.a.getString("ActionPinnedSticker"),"un1",n);case"messageText":{const e=20;let t=a.content.text.text;return t.length>=e&&(t=t.substring(0,e)),u.a.replace(u.a.formatString("ActionPinnedText",t),"un1",n)}case"messageVenue":return u.a.replace(u.a.getString("ActionPinnedGeo"),"un1",n);case"messageVideo":return u.a.replace(u.a.getString("ActionPinnedVideo"),"un1",n);case"messageVideoNote":return u.a.replace(u.a.getString("ActionPinnedRound"),"un1",n);case"messageVoiceNote":return u.a.replace(u.a.getString("ActionPinnedVoice"),"un1",n)}return u.a.replace(u.a.getString("ActionPinnedNoText"),"un1",n)}case"messageScreenshotTaken":return m?u.a.getString("ActionTakeScreenshootYou"):u.a.replace(u.a.getString("ActionTakeScreenshoot"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageChatSetTtl":{const e=h.ttl,t=function(e){if(e<60)return u.a.formatPluralString("Seconds",Math.floor(e));if(e<3600)return u.a.formatPluralString("Minutes",Math.floor(e/60));if(e<86400)return u.a.formatPluralString("Hours",Math.floor(e/60/60));const t=e/60/60/24;return e%7===0?u.a.formatPluralString("Weeks",Math.floor(t/7)):"".concat(u.a.formatPluralString("Weeks",Math.floor(t/7))," ").concat(u.a.formatPluralString("Days",Math.floor(t%7)))}(e);return e<=0?m?u.a.getString("MessageLifetimeYouRemoved"):u.a.formatString("MessageLifetimeRemoved",Object(c.e)(p.user_id,u.a.i18n.t)):m?u.a.formatString("MessageLifetimeChangedOutgoing",t):u.a.formatString("MessageLifetimeChanged",Object(c.e)(p.user_id,u.a.i18n.t),t)}case"messageCustomServiceAction":return h.text;case"messageGameScore":{const n=h.score,a=h.game_message_id,r=d.a.get(e.chat_id,a);if(r){const e=r.content;if(e&&"messageGame"===e["@type"]){const a=e.game;if(a){if(m)return u.a.formatString("ActionYouScoredInGame",u.a.formatPluralString("Points",n)).replace("un2",a.title);const e=u.a.formatString("ActionUserScoredInGame",u.a.formatPluralString("Points",n)).replace("un2",a.title);return u.a.replace(e,"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}))}}}if(m)return u.a.formatString("ActionYouScored",u.a.formatPluralString("Points",n));const o=u.a.formatString("ActionUserScored",u.a.formatPluralString("Points",n));return u.a.replace(o,"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}))}case"messagePaymentSuccessful":{const t=l.a.get(e.chat_id),n=d.a.get(e.chat_id,h.invoice_message_id);if(n){const e=n.content;if(e&&"messageInvoice"===e["@type"]){const n=e.invoice,a=e.total_amount,i=e.currency;return n?u.a.formatString("PaymentSuccessfullyPaid",r.getString(a,i),Object(c.e)(t.type.user_id,u.a.i18n.t),n.title):u.a.formatString("PaymentSuccessfullyPaidNoItem",r.getString(a,i),Object(c.e)(t.type.user_id,u.a.i18n.t))}}break}case"messagePaymentSuccessfulBot":break;case"messageContactRegistered":return u.a.replace(u.a.formatString("NotificationContactJoined","un1"),"un1",i.a.createElement(s.a,{key:"un1",sender:p,openUser:t}));case"messageWebsiteConnected":return u.a.formatString("ActionBotAllowed",h.domain_name);case"messagePassportDataSent":{const t=l.a.get(e.chat_id),n=h.types.map(e=>function(e){switch(e["@type"]){case"passportElementTypeAddress":return u.a.getString("ActionBotDocumentAddress");case"passportElementTypeBankStatement":return u.a.getString("ActionBotDocumentBankStatement");case"passportElementTypeDriverLicense":return u.a.getString("ActionBotDocumentDriverLicence");case"passportElementTypeEmailAddress":return u.a.getString("ActionBotDocumentEmail");case"passportElementTypeIdentityCard":return u.a.getString("ActionBotDocumentIdentityCard");case"passportElementTypeInternalPassport":return u.a.getString("ActionBotDocumentInternalPassport");case"passportElementTypePassport":return u.a.getString("ActionBotDocumentPassport");case"passportElementTypePassportRegistration":return u.a.getString("ActionBotDocumentPassportRegistration");case"passportElementTypePersonalDetails":return u.a.getString("ActionBotDocumentIdentity");case"passportElementTypePhoneNumber":return u.a.getString("ActionBotDocumentPhone");case"passportElementTypeRentalAgreement":return u.a.getString("ActionBotDocumentRentalAgreement");case"passportElementTypeTemporaryRegistration":return u.a.getString("ActionBotDocumentTemporaryRegistration");case"passportElementTypeUtilityBill":return u.a.getString("ActionBotDocumentUtilityBill")}return""}(e)).reduce((e,t)=>null===e?t:e+", "+t,null);return u.a.formatString("ActionBotDocuments",Object(c.e)(t.type.user_id,u.a.i18n.t),n)}case"messagePassportDataReceived":break;case"messageLiveLocationApproached":{const e=h.approacher,n=h.observer,a=h.distance;return Object(c.j)(n.user_id)?u.a.replace(u.a.formatString("ActionUserWithinRadius",u.a.formatDistance(a,2)),"un1",i.a.createElement(s.a,{key:"un1",sender:e,openUser:t})):Object(c.j)(e.user_id)?u.a.replace(u.a.formatString("ActionUserWithinYouRadius",u.a.formatDistance(a,2)),"un1",i.a.createElement(s.a,{key:"un1",sender:n,openUser:t})):u.a.replaceTwo(u.a.formatString("ActionUserWithinOtherRadius",u.a.formatDistance(a,2)),"un1",i.a.createElement(s.a,{key:"un1",sender:e,openUser:t}),"un2",i.a.createElement(s.a,{key:"un2",sender:n,openUser:t}))}case"messageUnsupported":return u.a.getString("UnsupportedMedia")}return u.a.getString("UnsupportedMedia")}p.set("messageText",!1),p.set("messageAnimation",!1),p.set("messageAudio",!1),p.set("messageDocument",!1),p.set("messagePhoto",!1),p.set("messageExpiredPhoto",!0),p.set("messageSticker",!1),p.set("messageVideo",!1),p.set("messageExpiredVideo",!0),p.set("messageVideoNote",!1),p.set("messageVoiceNote",!1),p.set("messageLocation",!1),p.set("messageVenue",!1),p.set("messageContact",!1),p.set("messageDice",!1),p.set("messageGame",!1),p.set("messagePoll",!1),p.set("messageInvoice",!1),p.set("messageCall",!1),p.set("messageBasicGroupChatCreate",!0),p.set("messageSupergroupChatCreate",!0),p.set("messageChatChangeTitle",!0),p.set("messageChatChangePhoto",!0),p.set("messageChatDeletePhoto",!0),p.set("messageChatAddMembers",!0),p.set("messageChatJoinByLink",!0),p.set("messageChatDeleteMember",!0),p.set("messageChatUpgradeTo",!0),p.set("messageChatUpgradeFrom",!0),p.set("messagePinMessage",!0),p.set("messageScreenshotTaken",!0),p.set("messageChatSetTtl",!0),p.set("messageCustomServiceAction",!0),p.set("messageGameScore",!0),p.set("messagePaymentSuccessful",!0),p.set("messagePaymentSuccessfulBot",!0),p.set("messageContactRegistered",!0),p.set("messageWebsiteConnected",!0),p.set("messagePassportDataSent",!0),p.set("messagePassportDataReceived",!0),p.set("messageLiveLocationApproached",!0),p.set("messageUnsupported",!0)},,,function(e,t,n){"use strict";n.d(t,"i",(function(){return me})),n.d(t,"k",(function(){return fe})),n.d(t,"m",(function(){return ge})),n.d(t,"n",(function(){return be})),n.d(t,"l",(function(){return ye})),n.d(t,"c",(function(){return ke})),n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return we})),n.d(t,"j",(function(){return Ce})),n.d(t,"h",(function(){return Se})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return Te})),n.d(t,"f",(function(){return Ie})),n.d(t,"g",(function(){return Oe}));var a=n(6),i=n.n(a),r=n(11),s=n(36),o=n(0),c=n.n(o),l=n(107),u=n(131),d=n(172),p=n(18),h=n.n(p),m=n(369),f=n(217),g=n.n(f),b=n(33),y=n(4),k=n(17);n(321);class v extends c.a.Component{render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.call,i=(e.openMedia,e.title),r=e.meta,s=k.a.get(t,n);if(!s)return null;const o=s.sender,l=s.content,u=Object(b.i)(o,l),d=a.duration>0?y.a.formatCallDuration(Math.floor(a.duration||0)):null;return c.a.createElement("div",{className:h()("call","document",{"media-title":i})},c.a.createElement(m.a,{className:"call-button",color:"primary","aria-label":"Call"},c.a.createElement(g.a,{fontSize:"large"})),c.a.createElement("div",{className:"document-content"},c.a.createElement("div",{className:"document-title"},u),d&&c.a.createElement("div",{className:"document-action"},d,r)))}}var w=Object(d.a)()(v),C=n(95),S=n(87),U=n(25),_=n(19);n(322);class E extends c.a.Component{render(){const e=this.props,t=e.contact,n=e.title,a=e.openMedia,i=e.meta,r=e.caption,s=e.t;if(!t)return null;const o=t.user_id,l=t.first_name,u=t.last_name,d=t.phone_number,p=_.a.get(o)||{"@type":"user",type:{"@type":"userTypeRegular"},id:o,first_name:l,last_name:u},m=Object(U.c)(o,p,s),f=Object(S.a)(d);return c.a.createElement("div",{className:h()("contact",{"media-title":n})},c.a.createElement("div",{className:"contact-tile"},c.a.createElement(C.a,{userId:o,firstName:l,lastName:u})),c.a.createElement("div",{className:"contact-content"},c.a.createElement("div",{className:"contact-name"},o>0?c.a.createElement("a",{onClick:a},m):c.a.createElement("span",null,m)),c.a.createElement("div",{className:"contact-phone"},f,!r&&i)))}}var x=Object(d.a)()(E),T=n(190),M=n(79),P=n(12),I=n(10),A=n(5);n(325);class O extends c.a.Component{constructor(...e){super(...e),this.getContent=()=>{const e=this.props,t=e.chatId,n=e.messageId,a=e.game,i=e.size,r=e.displaySize,s=e.openMedia;if(!a)return null;const o=a.photo,u=a.animation;if(u){if(Object(I.m)(u.animation)||u.thumbnail)return c.a.createElement(l.a,{stretch:!0,chatId:t,messageId:n,animation:u,openMedia:s})}if(o){let e={width:0,height:0};const a=Object(P.p)(o.sizes,i);if(a){const t=Object(P.i)(a,r);t&&(e.width=t.width,e.height=t.height)}return c.a.createElement(M.a,{chatId:t,messageId:n,photo:o,style:e,openMedia:s})}return null}}render(){const e=this.props,t=e.game,n=e.meta,a=e.t;if(!t)return null;const i=t.title,r=t.text,s=t.description,o=Object(b.o)(r,a);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"border"}),c.a.createElement("div",{className:"game-wrapper"},i&&c.a.createElement("div",{className:"game-title"},i),o&&c.a.createElement("div",{className:"game-text"},o),s&&c.a.createElement("div",{className:"game-description"},s),this.getContent())),n)}}O.defaultProps={size:A.K,displaySize:A.I};var N=Object(d.a)()(O),j=n(116),F=n(168),B=n(156);n(327);class D extends c.a.Component{render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.venue,i=e.openMedia,r=e.meta,s=e.title,o=e.caption;if(!a)return null;const l=a.title,u=a.address,d=a.location;if(!d)return null;const p=d.longitude,h=d.latitude,m="https://maps.google.com/?q=".concat(h,",").concat(p);return c.a.createElement("div",{className:"venue"},c.a.createElement(j.a,{type:"venue",chatId:t,messageId:n,location:d,openMedia:i,title:s,caption:o}),c.a.createElement("div",{className:"venue-content"},c.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("div",{className:"venue-title"},l)),c.a.createElement("div",{className:"venue-subtitle"},u,!o&&r)))}}var L=D,R=n(135),V=n(218),z=n(136);const W=(e,t,n)=>0!==(e[t]&1<<n);function H(e,t){if(255===e[0]&&254===e[1]&&254===e[2]&&255===e[3]&&(e=e.slice(2)),"utf16le"===t||"utf16"===t)return function(e){let t=2,n="utf-16";return 254===e[0]&&255===e[1]?(t=2,n="utf-16be"):255===e[0]&&254===e[1]&&(t=2,n="utf-16le"),new TextDecoder(n).decode(e.slice(t))}(e);if("utf8"===t)return function(e){return new TextDecoder("utf-8").decode(e)}(e);if("iso-8859-1"===t)return function(e){return new TextDecoder("iso-8859-1").decode(e)}(e);throw Error(t+" encoding is not supported!")}const Y=(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,G=(e,t)=>e[t],Q=(e,t)=>e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,q=(e,t)=>e[t+2]|e[t+1]<<8|e[t]<<16,K=(e,t)=>e[t+1]|e[t]<<8,J=(e,t,n)=>new TextDecoder("ascii").decode(e.slice(t,t+n)),Z=(e,t,n)=>{let a=new TextDecoder("ascii").decode(e.slice(t,t+n));return a=function(e){const t=e.indexOf("\0");return-1===t?e:e.substr(0,t)}(a),a=a.trim(),a.length>0?a:void 0},X=128,$=(e,t)=>{const n=Z(e,t,3);return"TAG"===n?{header:n,title:Z(e,t+3,30),artist:Z(e,t+33,30),album:Z(e,t+63,30),year:Z(e,t+93,4),comment:Z(e,t+97,28),zeroByte:G(e,t+127),track:G(e,t+126),genre:G(e,t+127)}:null};class ee{parse(e){return e.length<128?(console.log("[ID3v1Parser] Skip checking for ID3v1 because the file-size is less than 128 bytes"),null):$(e,e.length-X)}}function te(e){if(e.length>=128){return"TAG"===Z(e,e.length-128,3)}return!1}const ne=(e,t)=>({fileIdentifier:J(e,t,3),version:{major:e[t+3],revision:e[t+4]},flags:{raw:e[t+5],unsynchronisation:W(e,t+5,7),isExtendedHeader:W(e,t+5,6),expIndicator:W(e,t+5,5),footer:W(e,t+5,4)},size:Y(e,t+6)}),ae=10,ie=(e,t)=>{const n=Q(e,t),a=K(e,t+4),i=Q(e,t+6),r=W(e,t+4,31);return{size:n,extendedFlags:a,sizeOfPadding:i,crcDataPresent:r,crcData:r?Q(e,t+10):null}},re=(e,t)=>{switch(e[t]){case 0:return{encoding:"iso-8859-1"};case 1:return{encoding:"utf16",bom:!0};case 2:return{encoding:"utf16",bom:!1};case 3:default:return{encoding:"utf8",bom:!1}}};class se{constructor(e){this.major=e}readData(e,t){if(0===e.length)return void console.log("id3v2.".concat(this.major," header has empty tag type=").concat(t));const n=re(e,0),a=n.encoding,i=n.bom;let r=[];switch(console.debug("Parsing tag type=".concat(t,", encoding=").concat(a,", bom=").concat(i)),t){case"TPE1":case"TIT2":{const n=H(e.slice(1),a).replace(/\x00+$/,"");r=this.major>=4?this.splitValue(t,n):[n]}}return r}splitValue(e,t){let n;return this.major<4?(n=t.split(/\x00/g),n.length>1?console.log("ID3v2.".concat(this.major," ").concat(e," uses non standard null-separator.")):n=t.split(/\//g)):n=t.split(/\x00/g),se.trimArray(n)}static trimArray(e){return e.map(e=>e.replace(/\x00+$/,"").trim())}}class oe{static removeUnsyncBytes(e){let t=0,n=0;for(;t<e.length-1;)t!==n&&(e[n]=e[t]),t+=255===e[t]&&0===e[t+1]?2:1,n++;return t<e.length&&(e[n++]=e[t]),e.slice(0,n)}static readFrameData(e,t,n,a,i){const r=new se(n,i);switch(n){case 2:return r.readData(e,t.id,a);case 3:case 4:return t.flags.format.unsynchronisation&&(e=oe.removeUnsyncBytes(e)),t.flags.format.data_length_indicator&&(e=e.slice(4,e.length)),r.readData(e,t.id,a);default:throw new Error("Unexpected majorVer: "+n)}}static readFrameFlags(e){return{status:{tag_alter_preservation:W(e,0,6),file_alter_preservation:W(e,0,5),read_only:W(e,0,4)},format:{grouping_identity:W(e,1,7),compression:W(e,1,3),encryption:W(e,1,2),unsynchronisation:W(e,1,1),data_length_indicator:W(e,1,0)}}}static readFrameHeader(e,t){let n;switch(t){case 2:n={id:J(e,0,3),length:q(e,3)};break;case 3:n={id:J(e,0,4),length:Q(e,4),flags:oe.readFrameFlags(e.slice(8,10))};break;case 4:n={id:J(e,0,4),length:Y(e,4),flags:oe.readFrameFlags(e.slice(8,10))};break;default:throw new Error("Unexpected majorVer: "+t)}return n}static getFrameHeaderLength(e){switch(e){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}parseMetadata(e){let t=0;const n=[];for(;t!==e.length;){const a=oe.getFrameHeaderLength(this.id3Header.version.major);if(t+a>e.length){console.log("Illegal ID3v2 tag length");break}const i=e.slice(t,t+=a),r=oe.readFrameHeader(i,this.id3Header.version.major);if(""===r.id||"\0\0\0\0"===r.id||-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r.id[0])){console.log("Illegal ID3v2 tag header",i,r.id);break}const s=e.slice(t,t+=r.length),o=oe.readFrameData(s,r,this.id3Header.version.major,!0,[]);console.log("[ID3v2Parser] parseMetadata",t,r.length,r.id,o),n.push({id:r.id,value:o})}return n}parseExtendedHeader(e){const t=ie(e,10);return this.parseId3Data(e,this.id3Header.size+t.size+4,this.id3Header.size)}parseId3Data(e,t,n){const a=e.slice(t,t+n);return this.parseMetadata(a)}parse(e){const t=ne(e,0);if(this.id3Header=t,"ID3"!==t.fileIdentifier)throw new Error("expected ID3-header file-identifier 'ID3' was not found");return t.flags.isExtendedHeader?this.parseExtendedHeader(e):this.parseId3Data(e,ae,t.size)}}function ce(e){if(e.length>10){return"ID3"===J(e,0,3)}return!1}class le{parse(e){return Object(r.a)(i.a.mark((function t(){var n,a,r,s,o,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={tags:n={artist:"",title:""}},e){t.next=4;break}return t.abrupt("return",a);case 4:return t.next=6,Object(I.d)(e);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return",a);case 9:if(s=new Uint8Array(r)){t.next=12;break}return t.abrupt("return",a);case 12:return ce(s)?(o=(new oe).parse(s))&&((c=o.find(e=>"TPE1"===e.id))&&c.value.length>0&&(n.artist=c.value[0]),(l=o.find(e=>"TIT2"===e.id))&&l.value.length>0&&(n.title=l.value[0])):te(s)&&(o=(new ee).parse(s))&&(n.artist=o.artist,n.title=o.title),t.abrupt("return",a);case 14:case"end":return t.stop()}}),t)})))()}}var ue=n(2);n(329);class de extends c.a.Component{render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.invoice,i=e.openMedia,r=e.meta,s=e.t;if(!a)return null;const o=a.title,l=a.description,u=a.photo,d=a.is_test;a.total_amount,a.currency;return c.a.createElement("div",{className:"invoice"},o&&c.a.createElement("div",{className:"web-page-site-name"},o),l&&c.a.createElement("div",{className:"invoice-description"},l,!Boolean(u)&&r),u&&c.a.createElement("div",{className:"invoice-photo"},c.a.createElement(M.a,{chatId:t,messageId:n,photo:u,openMedia:i,meta:r}),c.a.createElement("div",{className:"media-top-meta"},s(d?"PaymentTestInvoice":"PaymentInvoice"))))}}var pe=Object(d.a)()(de);const he=new Map;function me(e){if(he.has(e))return he.get(e);const t=Array.from(atob(e)).map(e=>255&e.charCodeAt(0)),n=[],a=Math.floor(8*t.length/5);for(let i=0;i<a;i++){const e=Math.floor(5*i/8),a=5*i%8,r=t[e]|(e+1<t.length?t[e+1]:0)<<8;n.push((r>>>a&31)/31)}for(let i=0;i<100-a;i++)n.push(0);return he.set(e,n),n}function fe(e,t,n,a){const i=t?"data:image/jpeg;base64, "+t.data:null,r=Object(I.m)(e?e.file:null),s=r?ye({width:e.width,height:e.height}):Boolean(i);let o;if(r)switch(e.format["@type"]){case"thumbnailFormatJpeg":case"thumbnailFormatPng":case"thumbnailFormatWebp":case"thumbnailFormatGif":o=c.a.createElement("img",{className:h()("media-viewer-content-video-thumbnail",{"media-blurred":s}),src:r,alt:"",width:n,height:a});break;case"thumbnailFormatTgs":o=c.a.createElement("div",{className:"media-viewer-content-video-thumbnail",style:{width:n,height:a}});break;case"thumbnailFormatMpeg4":o=c.a.createElement("video",{className:h()("media-viewer-content-video-thumbnail",{"media-blurred":s}),src:r,autoPlay:!1,loop:!0,playsInline:!0,width:n,height:a},c.a.createElement("source",{src:r,type:"video/mp4"}));break;default:o=c.a.createElement("div",{className:"media-viewer-content-video-thumbnail",style:{width:n,height:a}})}else o=i?c.a.createElement("img",{className:h()("media-viewer-content-video-thumbnail",{"media-blurred":s}),src:i,alt:"",width:n,height:a}):c.a.createElement("div",{className:"media-viewer-content-video-thumbnail",style:{width:n,height:a}});return o}function ge(e,t){const n=k.a.get(e,t);if(!n)return;switch(n.content["@type"]){case"messageAnimation":case"messageAudio":case"messageDocument":case"messagePhoto":case"messageVideo":return!0}return!1}function be(e,t,n){if(!e)return!1;if(!e.is_animated)return!1;const a=k.a.get(t,n);if(a){if(a.sending_state&&!e.set_id)return!1}return!0}function ye(e,t=A.I,n=A.Gb){return!!e&&Math.max(e.width,e.height)<=n}function ke(e){if(!e)return null;const t=e.file_name,n=e.title,a=e.performer,i=n?n.trim():"",r=a?a.trim():"";return i||r?"".concat(r||"Unknown Artist"," \u2014 ").concat(i||"Unknown Track"):t}function ve(e){if(!e)return null;const t=e.file_name,n=e.title,a=e.performer,i=n?n.trim():"",r=a?a.trim():"";return i||r?"".concat(r||"Unknown Artist"):t}function we(e){if(!e)return null;const t=e.title;return(t?t.trim():"")||"Unknown Track"}function Ce(e){return e.reduce((e,t)=>e.concat(t.stickers),[])}function Se(e,t,n){const a=[],i=function(e,t,n){const a=t.findIndex(t=>t.id===e.set_id);if(-1===a)return[-1,-1];const i=t[a].stickers.findIndex(t=>t.sticker.id===e.sticker.id);if(-1===i)return[-1,-1];let r=0;for(let s=0;s<a;s++)r+=Math.ceil(t[s].stickers.length/n);return[r+Math.floor(i/n),i%n]}(e,t,n),r=Object(s.a)(i,2),o=r[0],c=r[1];if(-1===o)return[];if(-1===c)return[];const l=o-2,u=o-1,d=o+1,p=o+2,h=c-1,m=c+1;let f=u<0,g=l<0;if(!f){if(h>=0){let e=Ue(u,h,t,n);-1===e&&(f=!0,e=g?-1:Ue(l,h,t,n),g=-1===e),-1!==e&&a.push(e)}let e=f?-1:Ue(u,c,t,n);if(-1===e&&(f=!0,e=g?-1:Ue(l,c,t,n),g=-1===e),-1!==e&&a.push(e),m<n){let e=f?-1:Ue(u,m,t,n);-1===e&&(e=g?-1:Ue(l,m,t,n)),-1!==e&&a.push(e)}}if(h>=0){const e=Ue(o,h,t,n);-1!==e&&a.push(e)}if(m<n){const e=Ue(o,m,t,n);-1!==e&&a.push(e)}let b=t.reduce((e,t)=>e+Math.ceil(t.stickers.length/n),0),y=d>=b,k=d>=b;if(!y){if(h>=0){let e=Ue(d,h,t,n);-1===e&&(y=!0,e=k?-1:Ue(p,h,t,n),k=-1===e),-1!==e&&a.push(e)}let e=y?-1:Ue(d,c,t,n);if(-1===e&&(y=!0,e=k?-1:Ue(p,c,t,n),k=-1===e),-1!==e&&a.push(e),m<n){let e=y?-1:Ue(d,m,t,n);-1===e&&(e=k?-1:Ue(p,m,t,n)),-1!==e&&a.push(e)}}const v=Ce(t);return a.map(e=>v[e])}function Ue(e,t,n,a){let i=-1,r=0,s=-1;for(let l=0;l<n.length;l++){if(r+=Math.ceil(n[l].stickers.length/a),r>e){s=l;break}}if(-1===s)return i;let o=e,c=t;for(let l=0;l<s;l++){o-=Math.ceil(n[l].stickers.length/a)}if(i=a*o+c,i>=n[s].stickers.length)return-1;for(let l=0;l<s;l++)i+=n[l].stickers.length;return i}function _e(e){if(!e)return null;const t=e.file,n=e.width,a=e.height;return t?{"@type":"inputThumbnail",thumbnail:{"@type":"inputFileId",id:t.id},width:n,height:a}:null}function Ee(e){return e?{"@type":"formattedText",text:e,entities:null}:null}function xe(e,t){if(!e)return null;switch(e["@type"]){case"animation":{const n=e.animation,a=e.thumbnail,i=e.width,r=e.height,s=e.duration;return{"@type":"inputMessageAnimation",animation:{"@type":"inputFileId",id:n.id},thumbnail:_e(a),duration:s,width:i,height:r,caption:Ee(t)}}case"audio":{const n=e.audio,a=e.album_cover_thumbnail,i=e.title,r=e.performer,s=e.duration;return{"@type":"inputMessageAudio",audio:{"@type":"inputFileId",id:n.id},album_cover_thumbnail:_e(a),duration:s,title:i,performer:r,caption:Ee(t)}}case"contact":return{"@type":"inputMessageContact",contact:e};case"document":{const n=e.document,a=e.thumbnail;return{"@type":"inputMessageDocument",document:{"@type":"inputFileId",id:n.id},thumbnail:_e(a),caption:Ee(t)}}case"game":case"invoice":return null;case"location":return{"@type":"inputMessageLocation",location:e,live_period:0};case"photo":{const n=e.sizes;if(!n.length)return null;const a=n[0],i=n[n.length-1];if(!i)return null;const r=i.photo,s=i.width,o=i.height;return{"@type":"inputMessagePhoto",photo:{"@type":"inputFileId",id:r.id},thumbnail:_e(a),added_sticker_file_ids:[],width:s,height:o,caption:Ee(t),ttl:0}}case"poll":return null;case"sticker":{const n=e.sticker,a=e.thumbnail,i=e.width,r=e.height;return{"@type":"inputMessageSticker",sticker:{"@type":"inputFileId",id:n.id},thumbnail:_e(a),width:i,height:r,caption:Ee(t)}}case"venue":return{"@type":"inputMessageVenue",venue:e};case"video":{const n=e.video,a=e.thumbnail,i=e.width,r=e.height,s=e.duration,o=e.supports_streaming;return{"@type":"inputMessageVideo",video:{"@type":"inputFileId",id:n.id},thumbnail:_e(a),added_sticker_file_ids:[],duration:s,width:i,height:r,supports_streaming:o,caption:Ee(t),ttl:0}}case"videoNote":{const t=e.video,n=e.thumbnail,a=e.duration,i=e.length;return{"@type":"inputMessageVideoNote",video:{"@type":"inputFileId",id:t.id},thumbnail:_e(n),duration:a,length:i,ttl:0}}case"voiceNote":{const t=e.voice,n=e.duration,a=e.waveform;return{"@type":"inputMessageVideoNote",voice_note:{"@type":"inputFileId",id:t.id},duration:n,waveform:a}}}return null}function Te(e,t,n={}){if(!e)return null;const a=n.hasTitle,i=void 0!==a&&a,r=n.hasCaption,s=void 0!==r&&r,o=n.inlineMeta,d=void 0===o?null:o,p=n.meta,h=void 0===p?null:p,m=n.date,f=void 0===m?null:m,g=e.chat_id,b=e.id,y=e.content;if(!y)return null;switch(y["@type"]){case"messageAnimation":return c.a.createElement(l.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,animation:y.animation,openMedia:t,stretch:!0});case"messageAudio":return c.a.createElement(u.a,{title:i,caption:s,chatId:g,messageId:b,audio:y.audio,openMedia:t,meta:d,date:f});case"messageCall":return c.a.createElement(w,{title:i,caption:s,chatId:g,messageId:b,call:y,openMedia:t,meta:d});case"messageContact":return c.a.createElement(x,{title:i,caption:s,chatId:g,messageId:b,contact:y.contact,openMedia:t,meta:d});case"messageDocument":return c.a.createElement(T.a,{title:i,caption:s,chatId:g,messageId:b,document:y.document,openMedia:t,meta:d,date:f});case"messageGame":return c.a.createElement(N,{title:i,caption:s,chatId:g,messageId:b,game:y.game,openMedia:t,meta:d});case"messageInvoice":return c.a.createElement(pe,{title:i,caption:s,chatId:g,messageId:b,invoice:y,openMedia:t,meta:d});case"messageLocation":return c.a.createElement(j.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,location:y.location,openMedia:t});case"messagePhoto":return c.a.createElement(M.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,photo:y.photo,openMedia:t,stretch:!0});case"messagePoll":return c.a.createElement(F.a,{chatId:g,messageId:b,poll:y.poll,openMedia:t,meta:d});case"messageSticker":return c.a.createElement(B.b,{chatId:g,messageId:b,sticker:y.sticker,openMedia:t,source:B.a.MESSAGE,meta:h});case"messageText":return null;case"messageVenue":return c.a.createElement(L,{type:"message",title:i,caption:s,chatId:g,messageId:b,venue:y.venue,openMedia:t,meta:d});case"messageVideo":return c.a.createElement(R.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,video:y.video,openMedia:t,stretch:!0});case"messageVideoNote":return c.a.createElement(V.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,videoNote:y.video_note,openMedia:t,meta:h});case"messageVoiceNote":return c.a.createElement(z.a,{type:"message",title:i,caption:s,chatId:g,messageId:b,voiceNote:y.voice_note,openMedia:t,meta:d});default:return["[".concat(y["@type"],"]"),d]}}function Me(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(r.a)(i.a.mark((function e(n){var a,r,s,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new le).parse(t);case 2:a=e.sent,r=a.tags,s=r.artist,o=r.title,c=document.createElement("audio"),l=URL.createObjectURL(t),c.src=l,c.addEventListener("loadedmetadata",(function(){URL.revokeObjectURL(l);const e=c.duration;c.src=null,n({title:o,performer:s,duration:Math.trunc(e)})}),!1),c.addEventListener("error",(function(){n(null)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(r.a)(i.a.mark((function e(t){var n,a,r,s,o,c,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(n=-Object(P.n)(1,1e6),ue.a.setBlob(n,t),a=t.name,r=t.type,s=t.size,"audio/mp3"!==r){e.next=12;break}return e.next=8,Me(t);case 8:if(!(o=e.sent)){e.next=12;break}return c=o.title,l=o.performer,u=o.duration,e.abrupt("return",{"@type":"messageAudio",audio:{"@type":"audio",duration:u,title:c,performer:l,file_name:a,mime_type:r,album_cover_minithumbnail:null,album_cover_thumbnail:null,audio:{"@type":"file",id:n,size:s,expected_size:s,local:{is_downloading_completed:!0}}}});case 12:return e.abrupt("return",{"@type":"messageDocument",document:{"@type":"document",file_name:a,mime_type:r,minithumbnail:null,thumbnail:null,document:{"@type":"file",id:n,size:s,expected_size:s,local:{is_downloading_completed:!0}}}});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(r.a)(i.a.mark((function e(t){var n,a,r,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!t.type.startsWith("image")){e.next=15;break}return e.next=5,Object(P.A)(t);case 5:return n=e.sent,a=Object(s.a)(n,2),r=a[0],o=a[1],c=-Object(P.n)(1,1e6),ue.a.setBlob(c,t),l={"@type":"photoSize",photo:{"@type":"file",id:c,size:t.size,expected_size:t.expected_size,local:{is_downloading_completed:!0}},width:r,height:o},e.abrupt("return",{"@type":"messagePhoto",photo:{"@type":"photo",has_stickers:!1,minithumbnail:null,sizes:[l]}});case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,function(e,t,n){"use strict";var a=n(22),i=n(29),r=n(1);class s extends i.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.fullInfoItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateSupergroup":{const t=this.get(e.supergroup.id);this.set(e.supergroup),this.emit(e["@type"],Object(a.a)(Object(a.a)({},e),{},{prevSupergroup:t}));break}case"updateSupergroupFullInfo":this.setFullInfo(e.supergroup_id,e.supergroup_full_info),this.emit(e["@type"],e)}},this.onClientUpdate=e=>{},this.addTdLibListener=()=>{r.a.on("update",this.onUpdate),r.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{r.a.off("update",this.onUpdate),r.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getFullInfo(e){return this.fullInfoItems.get(e)}setFullInfo(e,t){this.fullInfoItems.set(e,t)}}const o=new s;window.supergroup=o,t.a=o},function(e,t,n){"use strict";var a=n(29),i=n(1);class r extends a.a{constructor(){super(),this.reset=()=>{this.items=[]},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateBlocksInView":this.emit("clientUpdateBlocksInView",e);break;case"clientUpdateInstantViewContent":{const t=e.content;t?this.items.push(t.instantView):this.items=[],this.emit("clientUpdateInstantViewContent",e);break}case"clientUpdateInstantViewUrl":this.emit("clientUpdateInstantViewUrl",e);break;case"clientUpdateInstantViewViewerContent":{const t=e.content;this.viewerContent=t,this.emit("clientUpdateInstantViewViewerContent",e);break}case"clientUpdatePrevInstantView":{if(this.items.length<=1)return;this.items.pop();const e=this.items.pop();i.a.clientUpdate({"@type":"clientUpdateInstantViewContent",content:{instantView:e}});break}}},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}hasPrev(){return this.items.length>1}getCurrent(){return this.items.length>0?this.items[this.items.length-1]:null}}const s=new r;window.instantView=s,t.a=s},,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(20),s=n(51);t.a=function(e){const t=e.text,n=e.credit,a=!Object(s.k)(t),o=!Object(s.k)(n);return a||o?i.a.createElement("figcaption",null,a&&i.a.createElement(r.a,{text:t}),o&&i.a.createElement("cite",null,i.a.createElement(r.a,{text:n}))):null}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Me})),n.d(t,"o",(function(){return Pe})),n.d(t,"g",(function(){return Ie})),n.d(t,"h",(function(){return Ae})),n.d(t,"k",(function(){return Oe})),n.d(t,"e",(function(){return Ne})),n.d(t,"j",(function(){return je})),n.d(t,"f",(function(){return Fe})),n.d(t,"c",(function(){return Be})),n.d(t,"b",(function(){return De})),n.d(t,"d",(function(){return Le})),n.d(t,"m",(function(){return Re})),n.d(t,"l",(function(){return Ve})),n.d(t,"n",(function(){return ze})),n.d(t,"i",(function(){return We}));var a=n(0),i=n.n(a),r=n(20);var s=function(e){return i.a.createElement("a",{id:e.name})},o=n(46),c=n(107),l=n(5);var u=function(e){const t=e.animation,n=e.block,a=e.caption,r=(e.need_autoplay,e.openMedia);return i.a.createElement("figure",null,i.a.createElement(c.a,{type:"iv",pageBlock:n,animation:t,displaySize:l.m,openMedia:r}),i.a.createElement(o.a,{text:a.text,credit:a.credit}))},d=n(52);var p=function(e){const t=e.author,n=e.publishDate,a=!Oe(t),s=n>0;if(!a&&!s)return null;const o=n>0?new Date(1e3*n):null;return i.a.createElement("address",null,a&&i.a.createElement("a",{rel:"author"},i.a.createElement(r.a,{text:t})),a&&s&&" \u2022 ",s&&i.a.createElement("time",{dateTime:o.toISOString()},Object(d.a)(o,"dd MMM, yyyy")))};var h=function(e){const t=e.text,n=e.credit;return i.a.createElement("blockquote",null,i.a.createElement(r.a,{text:t}),n&&i.a.createElement("cite",null,i.a.createElement(r.a,{text:n})))},m=n(56);var f=Object(m.b)((function(e){const t=e.pageBlocks,n=e.caption,a=e.iv;return i.a.createElement("div",{className:"collage"},t.map((e,t)=>Ie(e,a,t)),i.a.createElement(o.a,{text:n.text,credit:n.credit}))})),g=n(14),b=n.n(g);function y(e){return Ie(e.cover,e.iv)}y.propTypes={cover:b.a.object.isRequired};var k=Object(m.b)(y);var v=Object(m.b)((function(e){const t=e.header,n=e.pageBlocks,a=e.isOpen,s=e.iv;return i.a.createElement("details",{open:a},i.a.createElement("summary",null,i.a.createElement(r.a,{text:t})),n.map((e,t)=>Ie(e,s,t)))}));var w=function(){return i.a.createElement("hr",null)},C=n(34),S=n.n(C),U=n(236);class _ extends i.a.Component{constructor(e){super(e),this.updateIframe=e=>{if(e.src)return;const t=e.content||e.children;if(!t)return;const n=this.frameRef.current;if(!n)return;const a=n.contentDocument;a&&("string"===typeof t?(a.open(),a.write(t),a.close()):(a.open(),a.write('<div id="iframe-root"></div>'),a.close(),S.a.render(t,a.getElementById("iframe-root"))))},this.injectIframeResizerUrl=()=>{if(!this.props.iframeResizerUrl)return;const e=this.frameRef.current;if(!e)return;const t=e.contentDocument;if(!t)return;let n=null;if(["head","HEAD","body","BODY","div","DIV"].forEach(e=>{if(n)return;const a=t.getElementsByTagName(e);a&&a.length&&(n=a[0])}),!n)return void console.error("Unable to inject iframe resizer script");const a=document.createElement("script");a.type="text/javascript",a.src=this.props.iframeResizerUrl,n.appendChild(a)},this.onLoad=()=>{this.injectIframeResizerUrl()},this.resizeIframe=e=>{const t=this.frameRef.current;t&&e.iframeResizerEnable&&Object(U.iframeResizer)(e.iframeResizerOptions,t)},this.frameRef=i.a.createRef()}componentDidMount(){this.updateIframe(this.props),this.resizeIframe(this.props)}componentWillUnmount(){const e=this.frameRef.current;if(!e)return;const t=e.iframeResizer;t&&t.removeListeners()}componentWillReceiveProps(e){this.updateIframe(e),this.resizeIframe(e)}render(){const e=this.props,t=e.src,n=e.id,a=e.frameBorder,r=e.className,s=e.style;return i.a.createElement("iframe",{ref:this.frameRef,src:t,id:n,frameBorder:a,className:r,style:s,onLoad:this.onLoad})}}_.defaultProps={iframeResizerEnable:!0,iframeResizerOptions:{},iframeResizerUrl:"https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.8/iframeResizer.contentWindow.min.js",frameBorder:0,style:{width:"100%",minHeight:20}};var E=_;class x extends i.a.Component{constructor(...e){super(...e),this.state={}}static getDerivedStateFromProps(e,t){return e.url!==t.prevUrl||e.html!==t.prevHtml?{url:null,html:null,prevUrl:e.url,prevHtml:e.html}:null}componentDidMount(){this.setIframeSource()}componentDidUpdate(e,t,n){const a=this.props,i=a.url,r=a.html;i===e.url&&r===e.html||this.setIframeSource()}setIframeSource(){const e=this.props,t=e.url,n=e.html;this.setState({url:t,html:n})}render(){const e=this.state,t=e.url,n=e.html,a=this.props,r=a.width,s=a.height,c=a.caption,l=a.isFullWidth,u=a.allowScrolling,d={scrolling:u},p=r>0&&s>0,h=Boolean(t)||Boolean(n);return i.a.createElement("figure",null,h&&i.a.createElement(i.a.Fragment,null,p?i.a.createElement("iframe",{src:t||null,srcDoc:t?null:n,width:r>0?r:null,height:s>0?s:null,allowFullScreen:l,scrolling:u?"auto":"no",frameBorder:0}):i.a.createElement(E,{content:n,src:t,iframeResizerOptions:d,style:{width:"100%"}})),i.a.createElement(o.a,{text:c.text,credit:c.credit}))}}var T=x;var M=Object(m.b)((function(e){e.url;const t=e.author,n=(e.authorPhoto,e.date),a=e.pageBlocks,r=e.caption,s=e.iv;return i.a.createElement("blockquote",null,i.a.createElement("figure",null,Boolean(t)&&i.a.createElement("h3",null,t),i.a.createElement(p,{author:null,publishDate:n}),a.map((e,t)=>Ie(e,s,t)),i.a.createElement(o.a,{text:r.text,credit:r.credit})))}));n(308);class P extends i.a.Component{constructor(...e){super(...e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const e=this.props.children,t=this.state,n=t.error,a=t.errorInfo;return n||a?i.a.createElement("div",{className:"error-handler"},i.a.createElement("span",null,i.a.createElement("pre",null,"".concat(n.name,": ").concat(n.message),a.componentStack))):e}}var I=P;var A=function(e){return i.a.createElement("footer",null,i.a.createElement(r.a,{text:e.footer}))};var O=function(e){return i.a.createElement("h3",null,i.a.createElement(r.a,{text:e.header}))};var N=function(e){const t=e.kicker;return i.a.createElement("h6",{className:"kicker"},i.a.createElement(r.a,{text:t}))};var j=Object(m.b)((function(e){return i.a.createElement("li",{"data-before":e.label},e.pageBlocks.map((t,n)=>Ie(t,e.iv,n)))}));var F=function(e){return i.a.createElement("ul",null,e.items.map((e,t)=>i.a.createElement(j,{key:t,label:e.label,pageBlocks:e.page_blocks})))};var B=function(e){return i.a.createElement("p",null,i.a.createElement(r.a,{text:e.text}))},D=n(79);var L=function(e){const t=e.photo,n=e.caption,a=(e.url,e.openMedia);return i.a.createElement("figure",null,i.a.createElement(D.a,{photo:t,size:l.n,displaySize:l.m,openMedia:a}),i.a.createElement(o.a,{text:n.text,credit:n.credit}))};var R=function(e){return i.a.createElement("pre",null,i.a.createElement(r.a,{text:e.text}))};var V=function(e){const t=e.text,n=e.credit;return i.a.createElement("aside",null,i.a.createElement(r.a,{text:t}),n&&i.a.createElement("cite",null,i.a.createElement(r.a,{text:n})))},z=n(86),W=n(1);class H extends i.a.Component{constructor(...e){super(...e),this.handleClick=e=>{e.preventDefault(),e.stopPropagation();const t=this.props.url;W.a.clientUpdate({"@type":"clientUpdateInstantViewUrl",url:t})}}render(){const e=this.props,t=e.author,n=(e.description,e.publishDate),a=e.title,r=e.url,s=n>0?new Date(1e3*n):null,o=t&&s,c=s||t;return i.a.createElement("li",null,i.a.createElement(z.a,{url:r,onClick:this.handleClick},a),c&&i.a.createElement("address",null,t,o&&" \u2022 ",s&&i.a.createElement("time",{dateTime:s.toISOString()},Object(d.a)(s,"dd MMM, yyyy"))))}}var Y=H;var G=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",null,i.a.createElement(r.a,{text:e.header})),i.a.createElement("ul",{className:"related-articles"},e.articles.map(e=>i.a.createElement(Y,{key:e.url,url:e.url,title:e.title,description:e.description,photo:e.photo,author:e.author,publishDate:e.publish_date}))))};var Q=Object(m.b)((function(e){const t=e.pageBlocks,n=e.caption,a=e.iv;return i.a.createElement("div",{className:"slideshow"},t.map((e,t)=>Ie(e,a,t)),i.a.createElement(o.a,{text:n.text,credit:n.credit}))}));var q=function(e){return i.a.createElement("h4",null,i.a.createElement(r.a,{text:e.subheader}))};var K=function(e){return i.a.createElement("h2",null,i.a.createElement(r.a,{text:e.subtitle}))};var J=function(e){return i.a.createElement("h1",null,i.a.createElement(r.a,{text:e.title}))};var Z=function(e){return i.a.createElement("b",null,i.a.createElement(r.a,{text:e.text}))};var X=function(e){return i.a.createElement("a",{href:"mailto:".concat(e.emailAddress)},i.a.createElement(r.a,{text:e.text}))};var $=function(e){return i.a.createElement("code",null,i.a.createElement(r.a,{text:e.text}))},ee=n(10),te=n(2);class ne extends i.a.Component{constructor(...e){super(...e),this.onClientUpdateDocumentThumbnailBlob=e=>{const t=this.props.document;if(!t)return;const n=t.thumbnail;if(!n)return;const a=n.file;if(!a)return;const i=e.fileId;a.id===i&&this.forceUpdate()},this.onClientUpdateDocumentBlob=e=>{const t=this.props.document;if(!t)return;const n=t.document;if(!n)return;const a=e.fileId;n.id===a&&this.forceUpdate()}}componentDidMount(){te.a.on("clientUpdateDocumentThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob),te.a.on("clientUpdateDocumentBlob",this.onClientUpdateDocumentBlob)}componentWillUnmount(){te.a.off("clientUpdateDocumentThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob),te.a.off("clientUpdateDocumentBlob",this.onClientUpdateDocumentBlob)}emptyPlaceholderSrc(e,t){return'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(e," ").concat(t,'"%3E%3C/svg%3E')}render(){const e=this.props,t=e.document,n=e.height,a=e.width;if(!t)return null;const r=t.thumbnail,s=t.document,o=Object(ee.m)(r?r.file:null),c=Object(ee.m)(s);return i.a.createElement("img",{src:c||o||this.emptyPlaceholderSrc(1,1),width:a>0?a:null,height:n>0?n:null,draggable:!1,alt:""})}}var ae=ne;var ie=function(e){return i.a.createElement("i",null,i.a.createElement(r.a,{text:e.text}))};var re=function(e){return i.a.createElement("mark",null,i.a.createElement(r.a,{text:e.text}))};var se=function(e){return i.a.createElement("a",{href:"tel:".concat(e.phoneNumber)},i.a.createElement(r.a,{text:e.text}))};function oe(e){return e.text}oe.propTypes={text:b.a.string.isRequired};var ce=oe;var le=function(e){return i.a.createElement("del",null,i.a.createElement(r.a,{text:e.text}))};var ue=function(e){return i.a.createElement("sub",null,i.a.createElement(r.a,{text:e.text}))};var de=function(e){return i.a.createElement("sup",null,i.a.createElement(r.a,{text:e.text}))};var pe=function(e){const t=e.name,n=e.text;return i.a.createElement("a",{id:t},n&&i.a.createElement(r.a,{text:n}))};var he=function(e){return i.a.createElement(i.a.Fragment,null,e.texts.map((e,t)=>i.a.createElement(r.a,{key:t,text:e})))};var me=function(e){return i.a.createElement("ins",null,i.a.createElement(r.a,{text:e.text}))};class fe extends i.a.Component{constructor(...e){super(...e),this.handleClick=e=>{e.preventDefault(),e.stopPropagation();const t=this.props.url;W.a.clientUpdate({"@type":"clientUpdateInstantViewUrl",url:t})}}render(){const e=this.props,t=e.text,n=e.url;return i.a.createElement(z.a,{url:n,onClick:this.handleClick},i.a.createElement(r.a,{text:t}))}}var ge=fe;var be=Object(m.b)((function(e){const t=e.caption,n=e.cells,a=e.isBordered,s=e.isStriped,o=e.iv;return i.a.createElement("table",{striped:s?"":null,border:a?1:0},!Oe(t)&&i.a.createElement("caption",null,i.a.createElement(r.a,{text:t})),i.a.createElement("tbody",null,n.map((e,t)=>i.a.createElement("tr",{key:t},e.map((e,t)=>Ie(e,o,t))))))}));var ye=function(e){const t=e.text,n=e.isHeader,a=e.colspan,s=e.rowspan,o=e.align,c=e.valign;if(Oe(t))return null;const l={colSpan:a,rowSpan:s,align:Ne(o),valign:je(c)},u=i.a.createElement(r.a,{text:t});return n?i.a.createElement("th",l,u):i.a.createElement("td",l,u)},ke=n(116);var ve=function(e){const t=e.location,n=e.caption;return i.a.createElement("figure",null,i.a.createElement(ke.a,{width:l.l,height:l.k,location:t}),i.a.createElement(o.a,{text:n.text,credit:n.credit}))},we=n(131);var Ce=function(e){const t=e.audio,n=e.block,a=e.caption,r=e.openMedia;return i.a.createElement("figure",null,i.a.createElement(we.a,{block:n,audio:t,openMedia:r}),i.a.createElement(o.a,{text:a.text,credit:a.credit}))};var Se=function(e){return i.a.createElement("div",null)},Ue=n(135);var _e=function(e){const t=e.video,n=e.caption,a=(e.needAutoplay,e.isLooped,e.openMedia);return i.a.createElement("figure",null,i.a.createElement(Ue.a,{video:t,displaySize:l.m,openMedia:a}),i.a.createElement(o.a,{text:n.text,credit:n.credit}))},Ee=n(136);var xe=function(e){const t=e.voiceNote,n=e.block,a=e.caption,r=e.openMedia;return i.a.createElement("figure",null,i.a.createElement(Ee.a,{block:n,voiceNote:t,openMedia:r}),i.a.createElement(o.a,{text:a.text,credit:a.credit}))},Te=n(27);function Me(e){return e?"pageBlockAudio"!==e["@type"]?null:e.audio:null}function Pe(e,t,n,a,i){if(!e)return;switch(e["@type"]){case"animation":{let r=e.animation;if(!r)return;if(r=te.a.get(r.id)||r,i&&r.local.is_downloading_active)return void te.a.cancelGetRemoteFile(r.id,e);if(i&&r.remote.is_uploading_active)return void te.a.cancelUploadFile(r.id,e);Object(ee.c)(r,e,()=>te.a.updateAnimationBlob(0,0,r.id)),Object(Te.t)({media:e,caption:t,block:n,instantView:a});break}case"audio":{let t=e.audio;if(!t)return;if(t=te.a.get(t.id)||t,i&&t.local.is_downloading_active&&!Object(ee.R)())return void te.a.cancelGetRemoteFile(t.id,e);if(i&&t.remote.is_uploading_active)return void te.a.cancelUploadFile(t.id,e);Object(ee.R)()||Object(ee.c)(t,e,()=>te.a.updateAudioBlob(0,0,t.id)),W.a.clientUpdate({"@type":"clientUpdateMediaActive",source:{"@type":"instantViewSource",instantView:a,block:n}});break}case"photo":Object(Te.t)({media:e,caption:t,block:n,instantView:a});break;case"video":{let r=e.video;if(!r)return;if(r=te.a.get(r.id)||r,i&&r.local.is_downloading_active)return void te.a.cancelGetRemoteFile(r.id,e);if(i&&r.remote.is_uploading_active)return void te.a.cancelUploadFile(r.id,e);Object(ee.c)(r,e,()=>te.a.updateVideoBlob(0,0,r.id)),Object(Te.t)({media:e,caption:t,block:n,instantView:a});break}case"voiceNote":{let t=e.voice;if(!t)return;if(t=te.a.get(t.id)||t,i&&t.local.is_downloading_active)return void te.a.cancelGetRemoteFile(t.id,e);if(i&&t.remote.is_uploading_active)return void te.a.cancelUploadFile(t.id,e);Object(ee.c)(t,e,()=>te.a.updateVoiceNoteBlob(0,0,t.id)),W.a.clientUpdate({"@type":"clientUpdateMediaActive",source:{"@type":"instantViewSource",instantView:a,block:n}});break}}}function Ie(e,t,n,a=null){if(!e)return null;let r=null;switch(e["@type"]){case"pageBlockAnchor":r=i.a.createElement(s,{name:e.name});break;case"pageBlockAnimation":r=i.a.createElement(u,{block:e,caption:e.caption,animation:e.animation,needAutoplay:e.need_autoplay,openMedia:()=>Pe(e.animation,e.caption,e,t,!0)});break;case"pageBlockAudio":r=i.a.createElement(Ce,{block:e,caption:e.caption,audio:e.audio,openMedia:()=>Pe(e.audio,e.caption,e,t,!0)});break;case"pageBlockAuthorDate":r=i.a.createElement(p,{author:e.author,publishDate:e.publish_date});break;case"pageBlockBlockQuote":r=i.a.createElement(h,{credit:e.credit,text:e.text});break;case"pageBlockCollage":r=i.a.createElement(f,{pageBlocks:e.page_blocks,caption:e.caption});break;case"pageBlockChatLink":r=i.a.createElement(Se,{title:e.title,photo:e.photo,username:e.username});break;case"pageBlockCover":r=i.a.createElement(k,{cover:e.cover});break;case"pageBlockDetails":r=i.a.createElement(v,{header:e.header,pageBlocks:e.page_blocks,isOpen:e.is_open});break;case"pageBlockDivider":r=i.a.createElement(w,null);break;case"pageBlockEmbedded":r=i.a.createElement(T,{url:e.url,html:e.html,posterPhoto:e.poster_photo,width:e.width,height:e.height,caption:e.caption,isFullWidth:e.is_full_width,allowScrolling:e.allow_scrolling});break;case"pageBlockEmbeddedPost":r=i.a.createElement(M,{url:e.url,author:e.author,authorPhoto:e.author_photo,date:e.date,pageBlocks:e.page_blocks,caption:e.caption});break;case"pageBlockFooter":r=i.a.createElement(A,{footer:e.footer});break;case"pageBlockHeader":r=i.a.createElement(O,{header:e.header});break;case"pageBlockKicker":r=i.a.createElement(N,{kicker:e.kicker});break;case"pageBlockList":r=i.a.createElement(F,{items:e.items});break;case"pageBlockListItem":r=i.a.createElement(j,{label:e.label,pageBlocks:e.page_blocks});break;case"pageBlockMap":r=i.a.createElement(ve,{location:e.location,zoom:e.zoom,width:e.width,height:e.height,caption:e.caption});break;case"pageBlockParagraph":r=i.a.createElement(B,{text:e.text});break;case"pageBlockPhoto":r=i.a.createElement(L,{caption:e.caption,photo:e.photo,url:e.url,openMedia:()=>Pe(e.photo,e.caption,e,t,!0)});break;case"pageBlockPreformatted":r=i.a.createElement(R,{text:e.text,language:e.language});break;case"pageBlockPullQuote":r=i.a.createElement(V,{credit:e.credit,text:e.text});break;case"pageBlockRelatedArticle":r=i.a.createElement(Y,{url:e.url,title:e.title,description:e.description,photo:e.photo,author:e.author,publishDate:e.publish_date});break;case"pageBlockRelatedArticles":r=i.a.createElement(G,{header:e.header,articles:e.articles});break;case"pageBlockSlideshow":r=i.a.createElement(Q,{pageBlocks:e.page_blocks,caption:e.caption});break;case"pageBlockSubheader":r=i.a.createElement(q,{subheader:e.subheader});break;case"pageBlockSubtitle":r=i.a.createElement(K,{subtitle:e.subtitle});break;case"pageBlockTable":r=i.a.createElement(be,{caption:e.caption,cells:e.cells,isBordered:e.is_bordered,isStriped:e.is_striped});break;case"pageBlockTableCell":r=i.a.createElement(ye,{text:e.text,isHeader:e.is_header,colspan:e.colspan,rowspan:e.rowspan,align:e.align,valign:e.valign});break;case"pageBlockTitle":r=i.a.createElement(J,{title:e.title});break;case"pageBlockVideo":r=i.a.createElement(_e,{block:e,caption:e.caption,video:e.video,needAutoplay:e.need_autoplay,isLooped:e.is_looped,openMedia:()=>Pe(e.video,e.caption,e,t,!0)});break;case"pageBlockVoiceNote":r=i.a.createElement(xe,{block:e,caption:e.caption,voiceNote:e.voice_note,openMedia:()=>Pe(e.voice_note,e.caption,e,t,!0)});break;default:r=i.a.createElement("div",null,"[".concat(e["@type"],"]"))}return i.a.createElement(I,{key:n,ref:a},r)}function Ae(e){if(!e)return null;if(e instanceof String)return e;switch(e["@type"]){case"richTextAnchor":{const t=e.name,n=e.text;return i.a.createElement(pe,{text:n,name:t})}case"richTextBold":{const t=e.text;return i.a.createElement(Z,{text:t})}case"richTextEmailAddress":{const t=e.email_address,n=e.text;return i.a.createElement(X,{emailAddress:t,text:n})}case"richTextFixed":{const t=e.text;return i.a.createElement($,{text:t})}case"richTextIcon":{const t=e.document,n=e.height,a=e.width;return i.a.createElement(ae,{document:t,height:n,width:a})}case"richTextItalic":{const t=e.text;return i.a.createElement(ie,{text:t})}case"richTextMarked":{const t=e.text;return i.a.createElement(re,{text:t})}case"richTextPhoneNumber":{const t=e.phone_number,n=e.text;return i.a.createElement(se,{phoneNumber:t,text:n})}case"richTextPlain":{const t=e.text;return i.a.createElement(ce,{text:t})}case"richTextStrikethrough":{const t=e.text;return i.a.createElement(le,{text:t})}case"richTextSubscript":{const t=e.text;return i.a.createElement(ue,{text:t})}case"richTextSuperscript":{const t=e.text;return i.a.createElement(de,{text:t})}case"richTexts":{const t=e.texts;return i.a.createElement(he,{texts:t})}case"richTextUnderline":{const t=e.text;return i.a.createElement(me,{text:t})}case"richTextUrl":{const t=e.text,n=e.url;return i.a.createElement(ge,{text:t,url:n})}}return"[".concat(e["@type"],"]")}function Oe(e){if(!e)return!0;switch(e["@type"]){case"richTextAnchor":return Oe(e.text);case"richTextBold":return Oe(e.text);case"richTextEmailAddress":return Oe(e.text);case"richTextFixed":return Oe(e.text);case"richTextIcon":return!1;case"richTextItalic":return Oe(e.text);case"richTextMarked":return Oe(e.text);case"richTextPhoneNumber":return Oe(e.text);case"richTextPlain":return Oe(e.text);case"richTextStrikethrough":return Oe(e.text);case"richTextSubscript":return Oe(e.text);case"richTextSuperscript":return Oe(e.text);case"richTexts":return e.texts.every(Oe);case"richTextUnderline":return Oe(e.text);case"richTextUrl":return Oe(e.text)}return!1}function Ne(e){if(!e)return null;switch(e["@type"]){case"pageBlockHorizontalAlignmentCenter":return"center";case"pageBlockHorizontalAlignmentLeft":return"left";case"pageBlockHorizontalAlignmentRight":return"right"}return null}function je(e){if(!e)return null;switch(e["@type"]){case"pageBlockVerticalAlignmentBottom":return"bottom";case"pageBlockVerticalAlignmentMiddle":return"middle";case"pageBlockVerticalAlignmentTop":return"top"}return null}function Fe(e){if(!e)return[];switch(e["@type"]){case"pageBlockAnchor":return[];case"pageBlockAnimation":case"pageBlockAudio":return[e.caption];case"pageBlockAuthorDate":case"pageBlockBlockQuote":case"pageBlockChatLink":return[];case"pageBlockCollage":{const t=e.page_blocks.map(e=>[e,...Fe(e)]);return[].concat.apply([],t)}case"pageBlockCover":return[e.cover];case"pageBlockDetails":{const t=e.page_blocks.map(e=>[e,...Fe(e)]);return[].concat.apply([],t)}case"pageBlockDivider":return[];case"pageBlockEmbedded":return[e.caption];case"pageBlockEmbeddedPost":{const t=e.page_blocks.map(e=>[e,...Fe(e)]);return[].concat.apply([e.caption],t)}case"pageBlockFooter":case"pageBlockHeader":case"pageBlockKicker":return[];case"pageBlockList":{const t=e.items.map(e=>[e,...Fe(e)]);return[].concat.apply([],t)}case"pageBlockListItem":{const t=e.page_blocks.map(e=>[e,...Fe(e)]);return[].concat.apply([],t)}case"pageBlockMap":return[e.caption];case"pageBlockParagraph":return[];case"pageBlockPhoto":return[e.caption];case"pageBlockPreformatted":case"pageBlockPullQuote":case"pageBlockRelatedArticle":return[];case"pageBlockRelatedArticles":return[...e.articles];case"pageBlockSlideshow":{const t=e.page_blocks.map(e=>[e,...Fe(e)]);return[].concat.apply([e.caption],t)}case"pageBlockSubheader":case"pageBlockSubtitle":return[];case"pageBlockTable":return[...e.cells];case"pageBlockTableCell":case"pageBlockTitle":return[];case"pageBlockVideo":return[e.caption]}return[]}function Be(e){if(!e)return null;switch(e["@type"]){case"pageBlockAnimation":return e.animation;case"pageBlockPhoto":return e.photo;case"pageBlockVideo":return e.video}return null}function De(e){if(!e)return null;switch(e["@type"]){case"pageBlockAnimation":case"pageBlockPhoto":case"pageBlockVideo":return e.caption}return null}function Le(e){if(!e)return null;switch(e["@type"]){case"pageBlockPhoto":return e.url}return null}function Re(e){if(!e)return!1;switch(e["@type"]){case"pageBlockAnimation":case"pageBlockPhoto":case"pageBlockVideo":return!0}return!1}function Ve(e){return!!e&&"pageBlockAudio"===e["@type"]}function ze(e){return!!e&&"pageBlockVoiceNote"===e["@type"]}function We(e,t){if(!e)return[];const n=e.page_blocks,a=[];return n.forEach(e=>{a.push(e);Fe(e).forEach(e=>{a.push(e)})}),a.filter(t)}},function(e,t,n){"use strict";const a=function(){const e=/d{1,4}|M{1,4}|yy(?:yy)?|([HhmsAa])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(c,l,u,d){if(1!==arguments.length||"string"!==o(c)||/\d/.test(c)||(l=c,c=void 0),(c=c||new Date)instanceof Date||(c=new Date(c)),isNaN(c))throw TypeError("Invalid date");var p=(l=String(a.masks[l]||l||a.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(l=l.slice(4),u=!0,"GMT:"===p&&(d=!0));var h=u?"getUTC":"get",m=c[h+"Date"](),f=c[h+"Day"](),g=c[h+"Month"](),b=c[h+"FullYear"](),y=c[h+"Hours"](),k=c[h+"Minutes"](),v=c[h+"Seconds"](),w=c[h+"Milliseconds"](),C=u?0:c.getTimezoneOffset(),S=r(c),U=s(c),_={d:m,dd:i(m),ddd:a.i18n.dayNames[f],dddd:a.i18n.dayNames[f+7],M:g+1,MM:i(g+1),MMM:a.i18n.monthNames[g],MMMM:a.i18n.monthNames[g+12],yy:String(b).slice(2),yyyy:b,h:y%12||12,hh:i(y%12||12),H:y,HH:i(y),m:k,mm:i(k),s:v,ss:i(v),l:i(w,3),L:i(Math.round(w/10)),a:y<12?a.i18n.timeNames[0]:a.i18n.timeNames[1],aa:y<12?a.i18n.timeNames[2]:a.i18n.timeNames[3],A:y<12?a.i18n.timeNames[4]:a.i18n.timeNames[5],AA:y<12?a.i18n.timeNames[6]:a.i18n.timeNames[7],Z:d?"GMT":u?"UTC":(String(c).match(t)||[""]).pop().replace(n,""),o:(C>0?"-":"+")+i(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10],W:S,N:U};return l.replace(e,(function(e){return e in _?_[e]:e.slice(1,e.length-1)}))}}();function i(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function r(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var a=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-a);var i=(t-n)/6048e5;return 1+Math.floor(i)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function o(e){return null===e?"null":void 0===e?"undefined":"object"!==typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}a.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/d/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"h:mm AA",mediumTime:"h:mm:ss AA",longTime:"h:mm:ss AA Z",isoDate:"yyyy-MM-dd",isoTime:"HH:mm:ss",isoDateTime:"yyyy-MM-dd'T'HH:mm:sso",isoUtcDateTime:"UTC:yyyy-MM-dd'T'HH:mm:ss'Z'",expiresHeaderFormat:"ddd, dd MMM yyyy HH:mm:ss Z"},a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["AM","PM","AM","PM","AM","PM","AM","PM"]},t.a=a},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(0),i=n.n(a),r=n(61);const s=i.a.createContext(null);function o(e){class t extends i.a.Component{render(){return i.a.createElement(s.Consumer,null,t=>i.a.createElement(e,Object.assign({iv:t},this.props)))}}return t.displayName="WithIV(".concat(Object(r.b)(e),")"),t}t.a=s},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(244),i=n(0),r=n.n(i);function s(...e){return e.reduce((e,t)=>(...n)=>e(t(...n)),e=>e)}function o(){return e=>r.a.forwardRef((t,n)=>r.a.createElement(e,Object.assign({},t,{forwardedRef:n})))}function c(){return e=>class extends r.a.Component{render(){const t=this.props,n=t.forwardedRef,i=Object(a.a)(t,["forwardedRef"]);return r.a.createElement(e,Object.assign({},i,{ref:n}))}}}function l(e){return e.displayName||e.name||"Component"}},,,,,,,,,,function(e,t,n){"use strict";var a=n(29),i=n(1);class r extends a.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.fullInfoItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateBasicGroup":this.set(e.basic_group),this.emit(e["@type"],e);break;case"updateBasicGroupFullInfo":this.setFullInfo(e.basic_group_id,e.basic_group_full_info),this.emit(e["@type"],e)}},this.onClientUpdate=e=>{},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getFullInfo(e){return this.fullInfoItems.get(e)}setFullInfo(e,t){this.fullInfoItems.set(e,t)}}const s=new r;window.basicgroup=s,t.a=s},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(230);const i=new(n.n(a).a)},,,function(e,t,n){"use strict";var a=n(29),i=n(5),r=n(1);class s extends a.a{constructor(){super(),this.reset=()=>{this.items=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateOption":const t=e.name,n=e.value;this.set(t,n),t===i.p&&localStorage.setItem(t,n.value),this.emit("updateOption",e)}},this.onClientUpdate=e=>{},this.addTdLibListener=()=>{r.a.on("update",this.onUpdate),r.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{r.a.off("update",this.onUpdate),r.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}get(e){return this.items.get(e)}set(e,t){this.items.set(e,t)}}const o=new s;window.option=o,t.a=o},function(e,t,n){"use strict";var a=n(36),i=n(0),r=n.n(i),s=n(18),o=n.n(s),c=n(246),l=n(125),u=n(5),d=n(2);n(302);class p extends r.a.Component{constructor(e){super(e),this.onUpdateFile=e=>{const t=this.state.file,n=e.file;t&&t.id===n.id&&(this.fileEquals(n,t)||this.setState({file:n,prevFile:t}))},this.isDownloading=(e,t)=>{if(!this.props.download)return!1;const n=t&&t.local&&t.local.is_downloading_active,a=e&&e.local&&e.local.is_downloading_active;return n||a},this.isUploading=(e,t)=>{if(!this.props.upload)return!1;const n=t&&t.remote&&t.remote.is_uploading_active,a=e&&e.remote&&e.remote.is_uploading_active;return n||a},this.getProgressParams=(e,t)=>{const n=e.local,a=e.remote;let i=!1,r=!1,s=!1,o=0,c=0;return this.isDownloading(e,t)?(i=t&&t.local&&t.local.is_downloading_active,r=n.is_downloading_active,s=n.is_downloading_completed,o=n.downloaded_size,c=e.size):this.isUploading(e,t)&&(i=t&&t.remote&&t.remote.is_uploading_active,r=a.is_uploading_active,s=a.is_uploading_completed,o=a.uploaded_size,c=e.size),[i,r,s,o,c]},this.completeAnimation=!1;const t=this.props.file;this.state={prevPropsFile:t,prevFile:null,file:d.a.get(t.id)||t}}static getDerivedStateFromProps(e,t){const n=e.file,a=t.prevPropsFile;return n&&a&&n.id!==a.id?{prevPropsFile:n,prevFile:null,file:d.a.get(n.id)||n}:null}shouldComponentUpdate(e,t){const n=this.props,a=n.download,i=n.upload,r=n.icon,s=n.thumbnailSrc;if(e.thumbnailSrc!==s)return!0;if(e.icon!==r)return!0;if(this.isDownloading(t.file,t.prevFile)&&!a)return!1;if(this.isUploading(t.file,t.prevFile)&&!i)return!1;const o=t.file?t.file.local:null,c=t.file?t.file.idb_key:null,l=this.state.prevFile?this.state.prevFile.local:null,u=this.state.prevFile?this.state.prevFile.idb_key:null,d=l&&o&&!l.is_downloading_completed&&o.is_downloading_completed,p=c&&!u;return(t.file.id!==this.state.file.id||!d||!p)&&(t.file!==this.state.file||t.prevFile!==this.state.prevFile)}componentDidMount(){this.mount=!0,d.a.on("updateFile",this.onUpdateFile)}componentWillUnmount(){this.mount=!1,d.a.off("updateFile",this.onUpdateFile)}fileEquals(e,t){if(e===t&&null===e)return!0;if(null!==e&&null===t)return!1;if(null===e&&null!==t)return!1;const n=e.local,a=e.remote,i=t.local,r=t.remote;return n.can_be_deleted===i.can_be_deleted&&(n.can_be_downloaded===i.can_be_downloaded&&(n.download_offset===i.download_offset&&(n.downloaded_prefix_size===i.downloaded_prefix_size&&(n.downloaded_size===i.downloaded_size&&(n.is_downloading_active===i.is_downloading_active&&(n.is_downloading_completed===i.is_downloading_completed&&(n.path===i.path&&(a.id===r.id&&(a.is_uploading_active===r.is_uploading_active&&(a.is_uploading_completed===r.is_uploading_completed&&a.uploaded_size===r.uploaded_size))))))))))}render(){let e=this.props,t=e.thumbnailSrc,n=e.cancelButton,i=e.zIndex,s=e.icon,d=e.completeIcon;const p=this.state,h=p.file,m=p.prevFile;if(!h)return null;const f=this.getProgressParams(h,m),g=Object(a.a)(f,5),b=g[0],y=g[1],k=g[2],v=g[3],w=g[4];let C=y,S=0;y&&(S=v&&w?100-(w-v)/w*100:1);b&&!y&&(this.completeAnimation=!0,S=k?100:0,C=!0,setTimeout(()=>{this.completeAnimation=!1,this.mount&&this.setState({prevFile:null})},u.c));const U={zIndex:i,background:t||"undefined"===typeof t?"rgba(0, 0, 0, 0.25)":null};return h&&h.local&&(h.local.is_downloading_completed||h.idb_key||h.local.is_uploading_completed)&&!this.completeAnimation&&!y?d?r.a.createElement("div",{className:o()("file-progress","file-progress-complete"),style:U},d):null:C||this.completeAnimation?r.a.createElement("div",{className:"file-progress",style:U},r.a.createElement(c.a,{className:"file-progress-indicator",classes:{circle:"file-progress-circle"},variant:"static",value:S,size:48,thickness:2}),n&&r.a.createElement(l.a,null)):s?r.a.createElement("div",{className:"file-progress",style:U},s):null}}p.defaultProps={cancelButton:!1,download:!0,upload:!1},t.a=p},,function(e,t,n){"use strict";var a=n(22),i=n(0),r=n.n(i),s=n(18),o=n.n(s),c=n(77),l=n(12),u=n(10),d=n(38),p=n(5),h=n(2);n(309);class m extends r.a.Component{constructor(...e){super(...e),this.state={},this.onClientUpdatePhotoBlob=e=>{const t=this.state,n=t.photoSize,a=t.thumbSize,i=e.fileId;(n&&n.photo&&n.photo.id===i||a&&a.photo&&a.photo.id===i)&&this.forceUpdate()}}static getDerivedStateFromProps(e,t){const n=e.photo,a=e.size,i=e.thumbnailSize;return n!==t.prevPhoto?{prevPhoto:n,photoSize:Object(l.p)(n.sizes,a),thumbSize:Object(l.p)(n.sizes,i),minithumbnail:n?n.minithumbnail:null}:null}componentDidMount(){h.a.on("clientUpdatePhotoBlob",this.onClientUpdatePhotoBlob)}componentWillUnmount(){h.a.off("clientUpdatePhotoBlob",this.onClientUpdatePhotoBlob)}render(){const e=this.props,t=e.className,n=e.displaySize,i=e.stretch,s=e.openMedia,p=e.showProgress,h=e.title,m=e.caption,f=e.type,g=e.style,b=this.state,y=b.thumbSize,k=b.photoSize,v=b.minithumbnail;if(!k)return null;const w=v?"data:image/jpeg;base64, "+v.data:null,C=Object(u.m)(y?y.photo:null),S=Object(u.m)(k.photo),U=Object(d.l)(y,n),_=Object(l.i)(k,n,i);if(!_)return null;const E=Object(a.a)({minWidth:i?_.width:null,width:i?null:_.width,height:_.height},g),x=Boolean(S||C);return r.a.createElement("div",{className:o()(t,"photo",{"photo-big":"message"===f,"photo-title":h,"photo-caption":m,pointer:s}),style:E,onClick:s},w&&r.a.createElement("img",{className:o()("photo-preview","media-mini-blurred"),src:w,alt:""}),x&&r.a.createElement("img",{className:o()("photo-thumbnail",{"media-blurred":!S&&C&&U}),draggable:!1,src:S||C,alt:""}),p&&r.a.createElement(c.a,{file:k.photo,download:!0,upload:!0,cancelButton:!0}))}}m.defaultProps={size:p.K,thumbnailSize:p.L,displaySize:p.I,stretch:!1,showProgress:!0},t.a=m},,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{d:"M5,19 L19,19 C19.5522847,19 20,19.4477153 20,20 C20,20.5128358 19.6139598,20.9355072 19.1166211,20.9932723 L19,21 L5,21 C4.44771525,21 4,20.5522847 4,20 C4,19.4871642 4.38604019,19.0644928 4.88337887,19.0067277 L5,19 L19,19 L5,19 Z M11.8833789,3.00672773 L12,3 C12.5128358,3 12.9355072,3.38604019 12.9932723,3.88337887 L13,4 L13,13.585 L16.2928932,10.2928932 C16.6533772,9.93240926 17.2206082,9.90467972 17.6128994,10.2097046 L17.7071068,10.2928932 C18.0675907,10.6533772 18.0953203,11.2206082 17.7902954,11.6128994 L17.7071068,11.7071068 L12.7071068,16.7071068 C12.3466228,17.0675907 11.7793918,17.0953203 11.3871006,16.7902954 L11.2928932,16.7071068 L6.29289322,11.7071068 C5.90236893,11.3165825 5.90236893,10.6834175 6.29289322,10.2928932 C6.65337718,9.93240926 7.22060824,9.90467972 7.61289944,10.2097046 L7.70710678,10.2928932 L11,13.585 L11,4 C11,3.48716416 11.3860402,3.06449284 11.8833789,3.00672773 L12,3 L11.8833789,3.00672773 Z"}),"Download")},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{transform:"translate(-12.000000, -12.000000)",d:"M19.3717789,13.8876217 L33.8466511,23.2537154 C34.2588127,23.5204082 34.3767385,24.0707284 34.1100457,24.48289 C34.0418356,24.5883056 33.9520666,24.6780745 33.8466511,24.7462846 L19.3717789,34.1123783 C18.9596173,34.3790711 18.4092971,34.2611454 18.1426043,33.8489838 C18.0495218,33.705129 18,33.5374371 18,33.3660938 L18,14.6339062 C18,14.1429865 18.3979691,13.7450173 18.8888889,13.7450173 C19.0602323,13.7450173 19.2279241,13.7945391 19.3717789,13.8876217 Z"}),"PlayArrow")},,,function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(0),o=n.n(s),c=n(27),l=n(92),u=n(175),d=n(23),p=n(13),h=n(4),m=n(1);n(301);class f extends o.a.Component{constructor(...e){var t;super(...e),t=this,this.state={},this.handleClick=e=>{e.preventDefault(),e.stopPropagation();const t=this.props.onClick,n=this.state.decodedUrl;Object(c.A)(n,{onClick:t,punycode:!1,ask:!0,tryTelegraph:!1})},this.handleSafeClick=function(){var e=Object(r.a)(i.a.mark((function e(n){var a,r,s,o,c,u,d,p,h,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),a=t.props,r=a.onClick,s=(s=a.url).startsWith("http")||s.startsWith("tg://")?s:"https://"+s,o=!1,!Object(l.c)(s)){e.next=179;break}n.preventDefault(),e.prev=6,c=new URL(s),console.log("[SafeLink] url",c),e.t0=c.protocol,e.next="http:"===e.t0||"https:"===e.t0?12:"tg:"===e.t0?73:173;break;case 12:if(!c.pathname.startsWith("/bg/")){e.next=15;break}e.next=72;break;case 15:if(!c.pathname.startsWith("/login/")){e.next=18;break}e.next=72;break;case 18:if(!c.pathname.startsWith("/joinchat/")){e.next=21;break}e.next=72;break;case 21:if(!c.pathname.startsWith("/addstickers/")){e.next=28;break}return u=c.pathname.replace("/addstickers/",""),e.next=25,t.handleAddStickersLink(u);case 25:o=!0,e.next=72;break;case 28:if(!c.pathname.startsWith("/mgs/")&&!c.pathname.startsWith("/share/")){e.next=31;break}e.next=72;break;case 31:if(!c.pathname.startsWith("/confirmphone/")){e.next=34;break}e.next=72;break;case 34:if(!c.pathname.startsWith("/setlanguage/")){e.next=37;break}e.next=72;break;case 37:if(!c.pathname.startsWith("/addtheme/")){e.next=40;break}e.next=72;break;case 40:if(!c.pathname.startsWith("/c/")){e.next=46;break}return e.next=43,t.handlePrivatePost(c);case 43:o=!0,e.next=72;break;case 46:if(!(c.pathname.length>1)){e.next=72;break}if(!(d="/"===c.pathname[0]?c.pathname.substr(1):c.pathname)){e.next=72;break}if(!c.searchParams.has("start")){e.next=55;break}return e.next=52,t.handleBotStart(d,c.searchParams.get("start"),!1);case 52:o=!0,e.next=68;break;case 55:if(!c.searchParams.has("startgroup")){e.next=61;break}return e.next=58,t.handleBotStart(d,c.searchParams.get("startgroup"),!0);case 58:o=!0,e.next=68;break;case 61:if(!c.searchParams.has("game")){e.next=67;break}return e.next=64,t.handleOpenUsername(d);case 64:o=!0,e.next=68;break;case 67:c.searchParams.has("post")||c.searchParams.has("thread")||c.searchParams.has("comment");case 68:if(o){e.next=72;break}return e.next=71,t.handleOpenMessageLinkInfo(s);case 71:o=!0;case 72:return e.abrupt("break",173);case 73:if(!s.startsWith("tg:resolve")&&!s.startsWith("tg://resolve")){e.next=104;break}if(!(d=c.searchParams("domain"))){e.next=102;break}if("telegrampassport"!==d){e.next=79;break}e.next=102;break;case 79:if(!c.searchParams.has("start")){e.next=85;break}return e.next=82,t.handleBotStart(d,c.searchParams.get("start"),!1);case 82:o=!0,e.next=98;break;case 85:if(!c.searchParams.has("startgroup")){e.next=91;break}return e.next=88,t.handleBotStart(d,c.searchParams.get("startgroup"),!0);case 88:o=!0,e.next=98;break;case 91:if(!c.searchParams.has("game")){e.next=97;break}return e.next=94,t.handleOpenUsername(d);case 94:o=!0,e.next=98;break;case 97:c.searchParams.has("post")||c.searchParams.has("thread")||c.searchParams.has("comment");case 98:if(o){e.next=102;break}return e.next=101,t.handleOpenMessageLinkInfo(s);case 101:o=!0;case 102:e.next=172;break;case 104:if(!s.startsWith("tg:privatepost")&&!s.startsWith("tg://privatepost")){e.next=110;break}return e.next=107,t.handlePrivatePost(c);case 107:o=!0,e.next=172;break;case 110:if(!s.startsWith("tg:bg")&&!s.startsWith("tg://bg")){e.next=113;break}e.next=172;break;case 113:if(!s.startsWith("tg:join")&&!s.startsWith("tg://join")){e.next=116;break}e.next=172;break;case 116:if(!s.startsWith("tg:addstickers")&&!s.startsWith("tg://addstickers")){e.next=123;break}return u=c.searchParams.get("set"),e.next=120,t.handleAddStickersLink(u);case 120:o=!0,e.next=172;break;case 123:if(!(s.startsWith("tg:msg")||s.startsWith("tg://msg")||s.startsWith("tg:share")||s.startsWith("tg://share"))){e.next=126;break}e.next=172;break;case 126:if(!s.startsWith("tg:confirmphone")&&!s.startsWith("tg://confirmphone")){e.next=129;break}e.next=172;break;case 129:if(!s.startsWith("tg:login")&&!s.startsWith("tg://login")){e.next=132;break}e.next=172;break;case 132:if(!s.startsWith("tg:openmessage")&&!s.startsWith("tg://openmessage")){e.next=135;break}e.next=172;break;case 135:if(!(s.startsWith("tg:passport")||s.startsWith("tg://passport")||s.startsWith("tg:secureid")||s.startsWith("tg://secureid"))){e.next=138;break}e.next=172;break;case 138:if(!s.startsWith("tg:setlanguage")&&!s.startsWith("tg://setlanguage")){e.next=141;break}e.next=172;break;case 141:if(!s.startsWith("tg:addtheme")&&!s.startsWith("tg://addtheme")){e.next=144;break}e.next=172;break;case 144:if(!s.startsWith("tg:settings")&&!s.startsWith("tg://settings")){e.next=147;break}e.next=172;break;case 147:if(!s.startsWith("tg:search")&&!s.startsWith("tg://search")){e.next=150;break}e.next=172;break;case 150:if(!s.startsWith("tg:calllog")&&!s.startsWith("tg://calllog")){e.next=153;break}e.next=172;break;case 153:if(!s.startsWith("tg:call")&&!s.startsWith("tg://call")){e.next=156;break}e.next=172;break;case 156:if(!s.startsWith("tg:scanqr")&&!s.startsWith("tg://scanqr")){e.next=159;break}e.next=172;break;case 159:if(!s.startsWith("tg:addcontact")&&!s.startsWith("tg://addcontact")){e.next=162;break}e.next=172;break;case 162:if(!s.startsWith("tg:bot_command")&&!s.startsWith("tg://bot_command")){e.next=169;break}p=c.searchParams.get("command"),h=c.searchParams.get("bot"),t.handleBotCommand("/".concat(p)+(h?"@".concat(h):"")),o=!0,e.next=172;break;case 169:return e.next=171,t.handleUnknownDeepLink(s);case 171:o=!0;case 172:return e.abrupt("break",173);case 173:e.next=179;break;case 175:e.prev=175,e.t1=e.catch(6),console.log("[safeLink] handleSafeLink error",e.t1),o=!1;case 179:if(!o){e.next=181;break}return e.abrupt("return");case 181:r?r(n):((m=window.open()).opener=null,m.location=s);case 182:case"end":return e.stop()}}),e,null,[[6,175]])})));return function(t){return e.apply(this,arguments)}}()}static getDerivedStateFromProps(e,t){const n=e.displayText,a=e.mail,i=e.url;return t.prevUrl!==i||t.prevDisplayText!==n?{prevUrl:i,prevDisplayText:n,safe:Object(l.d)(n,i),decodedUrl:Object(l.a)(i,a),href:Object(l.b)(i,a)}:null}handleAddStickersLink(e){return Object(r.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.send({"@type":"searchStickerSet",name:e}).catch(()=>{Object(c.x)({title:h.a.getString("AppName"),message:h.a.getString("ChooseStickerSetNotFound"),ok:h.a.getString("OK")})});case 2:n=t.sent,m.a.clientUpdate({"@type":"clientUpdateStickerSet",stickerSet:n});case 4:case"end":return t.stop()}}),t)})))()}handleBotCommand(e){e&&m.a.send({"@type":"sendMessage",chat_id:p.a.getChatId(),message_thread_id:0,reply_to_message_id:0,options:null,reply_markup:null,input_message_content:{"@type":"inputMessageText",text:{"@type":"formattedText",text:e,entities:[]},disable_web_page_preview:!0,clear_draft:!1}})}handleOpenUsername(e){return Object(r.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.send({"@type":"searchPublicChat",username:e}).catch(()=>{Object(c.x)({title:h.a.getString("AppName"),message:h.a.getString("NoUsernameFound"),ok:h.a.getString("OK")})});case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:Object(c.k)(n.id);case 6:case"end":return t.stop()}}),t)})))()}handleBotStart(e,t,n){return Object(r.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.send({"@type":"searchPublicChat",username:e}).catch(()=>{Object(c.x)({title:h.a.getString("AppName"),message:h.a.getString("NoUsernameFound"),ok:h.a.getString("OK")})});case 2:if(r=a.sent){a.next=5;break}return a.abrupt("return");case 5:if(Object(d.U)(r.id)){a.next=7;break}return a.abrupt("return");case 7:n?Object(u.c)({botStartMessage:{botUserId:r.type.user_id,parameter:t}}):Object(c.k)(r.id,null,!1,{botStartMessage:{botUserId:r.type.user_id,parameter:t}});case 8:case"end":return a.stop()}}),a)})))()}handleOpenMessageLinkInfo(e){return Object(r.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.send({"@type":"getMessageLinkInfo",url:e}).catch(t=>{throw console.log("[SafeLink] getMessageLinkInfo error",e,t),t});case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(n.is_public,a=n.chat_id,r=n.message,n.for_album,n.for_comment,a){t.next=8;break}return t.abrupt("return");case 8:Object(c.k)(a,r?r.id:null,!1);case 9:case"end":return t.stop()}}),t)})))()}handlePrivatePost(e){var t=this;return Object(r.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.searchParams.has("channel"),e.searchParams.has("post"),e.searchParams.has("thread"),e.searchParams.has("comment"),n.next=6,t.handleOpenMessageLinkInfo(e.href);case 6:case"end":return n.stop()}}),n)})))()}handleUnknownDeepLink(e){return Object(r.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.send({"@type":"getDeepLinkInfo",link:e});case 2:n=t.sent,a=n.text,n.need_update_application,Object(c.x)({title:h.a.getString("AppName"),message:a,ok:h.a.getString("OK")});case 5:case"end":return t.stop()}}),t)})))()}render(){const e=this.props,t=e.className,n=e.children,a=e.url,i=this.state,r=i.decodedUrl,s=i.href,c=i.safe;return a&&r?o.a.createElement(o.a.Fragment,null,c?o.a.createElement("a",{className:t,href:s,title:r,target:"_blank",rel:"noopener noreferrer",onClick:this.handleSafeClick},n||a):o.a.createElement("a",{className:t,title:r,onClick:this.handleClick},n||a)):null}}t.a=f},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d}));var a=n(6),i=n.n(a),r=n(11);let s=null;function o(){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("data/countries.txt");case 5:return t=e.sent,e.next=8,t.text();case 8:return n=e.sent,a=n.split("\n"),r=[],a.forEach(e=>{const t=e.split(";"),n={prefix:t[0],code:t[1],name:t[2],pattern:t[3],count:Number(t[4]),emoji:t[5]};r.push(n)}),r.forEach(e=>{e.phone="+"+e.prefix}),s=r.filter(e=>e.emoji),e.abrupt("return",s);case 17:e.prev=17,e.t0=e.catch(2),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}function l(e){return e?e.replace(/ /g,"").replace("+","").toLowerCase():e}function u(e,t){if(!t)return null;const n=t.findIndex(t=>function(e,t){if(!e)return!1;if(!t)return!1;e=l(e);const n=l(t.phone);return e.startsWith(n)&&t.pattern}(e,t));return-1!==n?t[n]:null}function d(e){if(!e)return e;if(!s)return e.startsWith("+")?e:"+"+e;const t=u(e,s);return t?function(e,t){e=l(e);let n="",a=0;for(let i=0;i<t.length&&a<e.length;i++)t[i]>="0"&&t[i]<="9"?(n+=t[i],e[a]===t[i]&&a++):" "===t[i]?n+=t[i]:"X"===t[i]&&(n+=e[a++]);return n+=" "+e.substring(a),"+"+n}(e,t.pattern):e.startsWith("+")?e:"+"+e}},function(e,t,n){"use strict";var a=n(0),i=n.n(a);n(346);class r extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"header-progress"},"."),i.a.createElement("span",{className:"header-progress"},"."),i.a.createElement("span",{className:"header-progress"},"."))}}t.a=r},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f}));var a=n(209),i=n(76);let r=null;const s=["t.me/","telegram.org/","telegram.dog/",r];function o(e){if(!e)return!1;const t=e.toLowerCase().replace("https://","").replace("http://","");return!!t.startsWith("tg://")||function(){if(!r&&(r=i.a.get("t_me_url"),r)){const e=r.value.toLowerCase().replace("https://","").replace("http://","");s.push(e)}return s}().some(e=>t.startsWith(e))}function c(e,t){return e?t?e.startsWith("mailto:")?e:"mailto:"+e:e.startsWith("tg:")||e.startsWith("http")?e:"http://"+e:null}function l(e,t){return(!e||e===t)&&!function(e){return!!e&&d.test(e)}(t)}function u(e,t){if(!e)return null;const n=c(e,t);try{let e=decodeURI(n);const t=e.match(/^(https?|tg):\/\/([^\/:?#]+)(?:[\/:?#]|$)/i)[1];return e=e.replace(t,a.a.ToUnicode(t)),e}catch(i){console.log("SafeLink.getDecodedUrl error ",e,i)}return null}const d=/\u202e/;const p=new RegExp("(?:([a-zA-Z]+):\\/\\/)((?:[A-Za-z\xd0\x90-\xd0\xaf\xd0\x81\xd0\xb0-\xd1\x8f\xd1\x910-9\\-\\_]+\\.){0,10}([A-Za-z\xd1\x80\xd1\x84\\-\\d]{2,22})(\\:\\d+)?)"),h=new RegExp("(?:([a-zA-Z]+):\\/\\/)?((?:[A-Za-z\xd0\x90-\xd0\xaf\xd0\x81\xd0\xb0-\xd1\x8f\xd1\x910-9\\-\\_]+\\.){1,10}([A-Za-z\xd1\x80\xd1\x84\\-\\d]{2,22})(\\:\\d+)?)"),m=new RegExp("^([a-zA-Z]+):\\/\\/");function f(e){const t=e.trim();if(!t)return null;const n=t.match(p);if(!n){const e=t.match(h);return e&&0===e.index?"http://"+t:null}if(0!==n.index)return null;const a=t.match(m);return a&&function(e){return["http","https","tg"].some(t=>0===e.toLowerCase().indexOf(t))}(a[0])?t:null}},,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(172),c=n(150),l=n(25),u=n(10),d=n(2),p=n(19);n(292);class h extends a.Component{constructor(...e){super(...e),this.state={},this.onClientUpdateUserBlob=e=>{const t=this.props.userId,n=this.state,a=n.fileId,i=n.loaded;if(t===e.userId&&a===e.fileId&&!i){const e=p.a.get(t);if(!e)return null;const n=e&&e.profile_photo?e.profile_photo.small:null,a=Object(u.m)(n);this.setState({src:a})}},this.onUpdateUser=e=>{const t=this.props,n=t.userId,a=t.firstName,i=t.lastName,r=t.t,s=e.user;if(!s)return;if(n!==s.id)return;const o=s&&s.profile_photo?s.profile_photo.small:null,c=o?o.id:-1,p=Object(u.m)(o),h=this.state.src===p&&""!==p||-1===c,m=Object(l.d)(n,a,i,r);if(this.setState({src:p,fileId:c,loaded:h,letters:m}),o){const e=d.a.getStore();Object(u.J)(e,n)}},this.handleSelect=e=>{const t=this.props,n=t.userId,a=t.onSelect;a&&(e.stopPropagation(),a(n))},this.handleLoad=()=>{this.setState({loaded:!0})}}static getDerivedStateFromProps(e,t){const n=e.userId,a=e.firstName,i=e.lastName,r=e.t;if(t.prevUserId!==n||t.prevFirstName!==a||t.prevLastName!==i){const e=p.a.get(n),s=e&&e.profile_photo?e.profile_photo.small:null,o=s?s.id:-1,c=Object(u.m)(s);return{prevUserId:n,prevFirstName:a,prevLastName:i,fileId:o,src:c,loaded:t.src===c&&""!==c||-1===o,letters:Object(l.d)(n,a,i,r)}}return null}shouldComponentUpdate(e,t){const n=this.props.userId,a=this.state,i=a.fileId,r=a.src,s=a.loaded,o=a.letters;return e.userId!==n||(t.fileId!==i||(t.src!==r||(t.loaded!==s||t.letters!==o)))}componentDidMount(){p.a.on("updateUser",this.onUpdateUser),d.a.on("clientUpdateUserBlob",this.onClientUpdateUserBlob)}componentWillUnmount(){p.a.off("updateUser",this.onUpdateUser),d.a.off("clientUpdateUserBlob",this.onClientUpdateUserBlob)}render(){const e=this.props,t=e.className,n=e.userId,a=e.firstName,r=e.lastName,o=e.onSelect,u=e.small,d=e.dialog,h=e.poll,m=this.state,f=(m.fileId,m.src),g=m.loaded,b=m.letters;if(!p.a.get(n)&&!a&&!r)return null;if(Object(l.i)(n))return i.a.createElement("div",{className:s()(t,"user-tile","tile_color_0",{pointer:o},{"tile-dialog":d},{"tile-small":u},{"tile-poll":h}),onClick:this.handleSelect},i.a.createElement("div",{className:"tile-photo"},i.a.createElement("div",{className:"tile-saved-messages"},i.a.createElement(c.a,{fontSize:"default"}))));const y=f&&g,k="tile_color_".concat(Math.abs(n||b.charCodeAt(0))%7+1);return i.a.createElement("div",{className:s()(t,"user-tile",{[k]:!y},{pointer:o},{"tile-dialog":d},{"tile-small":u},{"tile-poll":h}),onClick:this.handleSelect},!y&&i.a.createElement("div",{className:"tile-photo"},i.a.createElement("span",{className:"tile-text"},b)),f&&i.a.createElement("img",{className:"tile-photo",src:f,onLoad:this.handleLoad,draggable:!1,alt:""}))}}t.a=Object(o.a)()(h)},,function(e,t,n){"use strict";var a=n(29),i=n(1);class r extends a.a{constructor(){super(),this.reset=()=>{this.stickerSet=null,this.hint=null,this.animationData=new WeakMap},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateInstalledStickerSets":{const t=e.sticker_set_ids;if(this.stickerSet){const e=this.stickerSet,n=e.id,a=e.is_installed;a!==t.some(e=>e===n)&&(this.stickerSet=Object.assign({},this.stickerSet,{is_installed:!a}))}this.emit("updateInstalledStickerSets",e);break}case"updateRecentStickers":this.emit("updateRecentStickers",e)}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateStickerSend":this.emit("clientUpdateStickerSend",e);break;case"clientUpdateLocalStickersHint":{const t=e.hint;this.hint=t,this.emit("clientUpdateLocalStickersHint",e);break}case"clientUpdateRemoteStickersHint":{const t=e.hint;this.hint&&this.hint.timestamp===t.timestamp&&(this.hint=Object.assign({},this.hint,{foundStickers:t.stickers})),this.emit("clientUpdateRemoteStickersHint",e);break}case"clientUpdateStickerSet":{const t=e.stickerSet;this.stickerSet=t,this.emit("clientUpdateStickerSet",e);break}case"clientUpdateStickerSetPosition":this.emit("clientUpdateStickerSetPosition",e);break;case"clientUpdateStickerPreview":this.emit("clientUpdateStickerPreview",e)}},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}getAnimationData(e){return this.animationData.get(e)}setAnimationData(e,t){this.animationData.set(e,t)}}const s=new r;window.sticker=s,t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b}));var a=n(6),i=n.n(a),r=n(11),s=n(12),o=n(5),c=n(13),l=n(2),u=n(111),d=n(1);const p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[SW] Register"),o.E&&localStorage.setItem("register","true"),!("serviceWorker"in navigator)){e.next=16;break}if(new URL("/tgxkat",window.location).origin===window.location.origin){e.next=6;break}return e.abrupt("return");case 6:if("service-worker.js",t="".concat("/tgxkat","/").concat("service-worker.js"),console.log("[SW] Service worker url: ".concat(t)),p){e.next=14;break}return e.next=12,f(t);case 12:e.next=16;break;case 14:return e.next=16,k(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[SW] register"),e.prev=1,e.next=4,navigator.serviceWorker.register(t);case 4:(n=e.sent).onupdatefound=()=>{const e=n.installing;e.onstatechange=()=>{"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("[SW] New content is available; please refresh."),d.a.clientUpdate({"@type":"clientUpdateNewContentAvailable"})):console.log("[SW] Content is cached for offline use."))}},e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("[SW] Error during service worker registration: ",e.t0);case 11:console.log("[SW] register complete",navigator.serviceWorker,navigator.serviceWorker.controller);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(i.a.mark((function e(){var t,n,a,r,o,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.ready;case 3:return t=e.sent,e.next=6,t.pushManager.getSubscription();case 6:if(!(n=e.sent)){e.next=10;break}return e.next=10,n.unsubscribe();case 10:return e.next=12,t.pushManager.subscribe({userVisibleOnly:!0});case 12:if(n=e.sent,console.log("[SW] Received push subscription: ",JSON.stringify(n)),a=n.endpoint,r=Object(s.b)(n.getKey("p256dh")),o=Object(s.b)(n.getKey("auth")),!(a&&r&&o)){e.next=26;break}if(l=c.a.authorizationState,!Object(s.t)(l)){e.next=26;break}return p={"@type":"deviceTokenWebPush",endpoint:a,p256dh_base64url:r,auth_base64url:o},console.log("[SW] registerDevice",p),e.next=24,d.a.send({"@type":"registerDevice",device_token:p,other_user_ids:[]});case 24:h=e.sent,console.log("[SW] registerDevice result",h);case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.error("[SW] Error during service worker push subscription: ",e.t0),u.a.enableSound=!0;case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function k(e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[SW] checkValid"),e.prev=1,e.next=4,fetch(t);case 4:if(404!==(n=e.sent).status&&-1!==n.headers.get("content-type").indexOf("javascript")){e.next=15;break}return console.log("[SW] unregister"),e.next=9,navigator.serviceWorker.ready;case 9:return a=e.sent,e.next=12,a.unregister();case 12:window.location.reload(),e.next=17;break;case 15:return e.next=17,f(t);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log("[SW] No internet connection found. App is running in offline mode.");case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}const w=[];function C(e){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(i.a.mark((function e(t){var n,a,r,s,c,u,p,h,m,f,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileId,a=t.offset,r=t.limit,s=t.resolve,c=t.reject,u=l.a.get(n),e.prev=2,p=null,e.prev=4,!u){e.next=13;break}if(!(h=u.local)){e.next=13;break}if(m=h.download_offset,f=h.downloaded_prefix_size,!(m<=a&&a+r<=m+f)){e.next=13;break}return e.next=12,d.a.send({"@type":"readFilePart",file_id:n,offset:a,count:r});case 12:p=e.sent;case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(4);case 17:if(p){e.next=23;break}return e.next=20,d.a.send({"@type":"downloadFile",file_id:n,priority:o.Z,offset:a,limit:r,synchronous:!0});case 20:return e.next=22,d.a.send({"@type":"readFilePart",file_id:n,offset:a,count:r});case 22:p=e.sent;case 23:g=p.data,s(g),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(2),c(e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,27],[4,15]])})))).apply(this,arguments)}function U(e,t,n){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(i.a.mark((function e(t,n,a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Promise(function(){var e=Object(r.a)(i.a.mark((function e(r,s){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.push({fileId:t,offset:n,limit:a,resolve:r,reject:s}),!(w.length>1)){e.next=3;break}return e.abrupt("return");case 3:if(!(w.length>0)){e.next=11;break}return o=w[w.length-1],e.next=7,C(o);case 7:c=w.indexOf(o),w.splice(c,1),e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,s;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.requests=w,"serviceWorker"in navigator&&(navigator.serviceWorker.onmessage=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.data["@type"],e.next="getFile"===e.t0?3:15;break;case 3:return n=t.data,a=n.fileId,r=n.offset,s=n.limit,n.start,n.end,e.prev=4,e.next=7,U(a,r,s);case 7:o=e.sent,navigator.serviceWorker.controller.postMessage({"@type":"getFileResult",fileId:a,offset:r,limit:s,data:o}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(4),navigator.serviceWorker.controller.postMessage({"@type":"getFileError",fileId:a,offset:r,limit:s,error:e.t1});case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}())},,,,,function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(12),o=n(2),c=n(1);let l=null;function u(e,t,n){return l=l||document.createElement("canvas"),new Promise(a=>{const i=new ImageData(n,e,t);l.width=e,l.height=t;l.getContext("2d").putImageData(i,0,0),l.toBlob(e=>{a(e)},"image/png",1)})}const d=new class{constructor(){var e=this;this.decode=function(){var t=Object(r.a)(i.a.mark((function t(n,a=!1){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.v)();case 2:if(e.isSupported=t.sent,!e.isSupported){t.next=5;break}return t.abrupt("return");case 5:if(r=o.a.getBlob(n)){t.next=8;break}return t.abrupt("return");case 8:e.init(),e.decodeInternal(n,r,a);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.init=Object(r.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.v)();case 2:if(e.isSupported=t.sent,!e.isSupported){t.next=5;break}return t.abrupt("return");case 5:e.worker||((n=new Worker("libwebp/webp_wasm.worker.js")).wasmReady=!1,n.wasmRequests=[],n.onmessage=e.onLibWebpMessage,e.worker=n);case 7:case"end":return t.stop()}}),t)}))),this.onLibWebpMessage=e=>{const t=this.worker,n=e.data.id;switch(e.data["@type"]){case"ready":t.wasmRequests&&(t.wasmReady=!0,t.wasmRequests.forEach(e=>{this.decodeInternal(e.fileId,e.blob,e.thumbnail)}),t.wasmRequests=[]);break;case"result":if(t.requests.has(n)){const a=t.requests.get(n);t.requests.delete(n),a(e.data)}}},this.getDecodePromise=(e,t)=>{const n=this.worker;return new Promise(a=>{const i=e;n.requests=n.requests||new Map,n.requests.set(i,a),n.postMessage({id:i,blob:t})})},this.decodeInternal=function(){var t=Object(r.a)(i.a.mark((function t(n,a,r){var s,o,l,d,p,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=e.worker).wasmReady){t.next=4;break}return s.wasmRequests.push({fileId:n,blob:a,thumbnail:r}),t.abrupt("return");case 4:return t.next=6,e.getDecodePromise(n,a);case 6:if(o=t.sent,l=o.result,d=o.width,p=o.height,d&&p){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,u(d,p,l);case 14:h=t.sent,c.a.clientUpdate({"@type":r?"clientUpdateStickerThumbnailPngBlob":"clientUpdateStickerPngBlob",fileId:n,blob:h});case 16:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),this.worker=null,this.isSupported=!1}isWebpSupported(){return this.isSupported}};window.webpManager=d,t.a=d},,,,function(e,t,n){"use strict";var a=n(22),i=n(0),r=n.n(i),s=n(18),o=n.n(s),c=n(172),l=n(61),u=n(77),d=n(12),p=n(38),h=n(10),m=n(5),f=n(158),g=n(13),b=n(2),y=n(44),k=n(17);n(303);class v extends r.a.Component{constructor(e){super(e),this.startStopPlayer=()=>{const e=this.videoRef.current;e&&(this.windowFocused&&(this.inView&&!this.openMediaViewer&&!this.openProfileMediaViewer&&!this.openIV||this.ivInView&&!this.openIVMedia||this.pickerInView)?e.play():e.pause())},this.onClientUpdateInstantViewContent=e=>{this.openIV=Boolean(y.a.getCurrent()),this.startStopPlayer()},this.onClientUpdateProfileMediaViewerContent=e=>{this.openProfileMediaViewer=Boolean(g.a.profileMediaViewerContent),this.startStopPlayer()},this.onClientUpdateMediaViewerContent=e=>{this.openMediaViewer=Boolean(g.a.mediaViewerContent),this.startStopPlayer()},this.onClientUpdateInstantViewViewerContent=e=>{this.openIVMedia=Boolean(y.a.viewerContent),this.startStopPlayer()},this.onClientUpdateFocusWindow=e=>{this.windowFocused=e.focused,this.startStopPlayer()},this.onClientUpdateMessagesInView=e=>{const t=this.props,n=t.chatId,a=t.messageId,i="".concat(n,"_").concat(a);this.inView=e.messages.has(i),this.startStopPlayer()},this.onClientUpdateBlocksInView=e=>{const t=this.props.pageBlock;t&&(this.ivInView=e.blocks.has(t),this.startStopPlayer())},this.onClientUpdateAnimationsInView=e=>{const t=this.props.animation;t&&(this.pickerInView=e.animations.has(t),this.startStopPlayer())},this.onClientUpdateAnimationBlob=e=>{const t=this.props.animation.animation,n=e.fileId;t&&t.id===n&&this.forceUpdate(()=>{this.startStopPlayer()})},this.onClientUpdateAnimationThumbnailBlob=e=>{const t=this.props.animation.thumbnail;if(!t)return;const n=e.fileId,a=t.file;a&&a.id===n&&this.forceUpdate()},this.handlePlay=()=>{},this.handleTimeUpdate=()=>{this.playing||(this.playing=!0,this.forceUpdate())},this.state={},this.videoRef=r.a.createRef(),this.setPlayerParams()}setPlayerParams(){this.windowFocused=window.hasFocus,this.inView=!1,this.openMediaViewer=Boolean(g.a.mediaViewerContent),this.openProfileMediaViewer=Boolean(g.a.profileMediaViewerContent),this.openIV=Boolean(y.a.getCurrent()),this.ivInView=!1,this.openIVMedia=Boolean(y.a.viewerContent),this.playing=!1;const e=this.videoRef.current;e&&e.load()}componentDidUpdate(e,t,n){e.animation!==this.props.animation&&this.setPlayerParams()}componentDidMount(){f.a.on("clientUpdateAnimationsInView",this.onClientUpdateAnimationsInView),g.a.on("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),g.a.on("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),g.a.on("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),b.a.on("clientUpdateAnimationThumbnailBlob",this.onClientUpdateAnimationThumbnailBlob),b.a.on("clientUpdateAnimationBlob",this.onClientUpdateAnimationBlob),k.a.on("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),y.a.on("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),y.a.on("clientUpdateInstantViewViewerContent",this.onClientUpdateInstantViewViewerContent),y.a.on("clientUpdateBlocksInView",this.onClientUpdateBlocksInView)}componentWillUnmount(){f.a.on("clientUpdateAnimationsInView",this.onClientUpdateAnimationsInView),g.a.off("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),g.a.off("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),g.a.off("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),b.a.off("clientUpdateAnimationThumbnailBlob",this.onClientUpdateAnimationThumbnailBlob),b.a.off("clientUpdateAnimationBlob",this.onClientUpdateAnimationBlob),k.a.off("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),y.a.off("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),y.a.off("clientUpdateInstantViewViewerContent",this.onClientUpdateInstantViewViewerContent),y.a.off("clientUpdateBlocksInView",this.onClientUpdateBlocksInView)}render(){const e=this.props,t=e.displaySize,n=e.stretch,i=e.openMedia,s=e.t,c=e.title,l=e.caption,m=e.type,f=e.style,g=e.showProgress,b=this.props.animation,y=b.minithumbnail,k=b.thumbnail,v=b.animation,w=b.mime_type,C=b.width,S=b.height,U=this.playing,_=[...k?[k]:[],{width:C,height:S}],E=Object(d.l)(_,t),x=Object(d.i)(E,t,n);if(!x)return null;const T=Object(a.a)({minWidth:n?x.width:null,width:n?null:x.width,height:x.height},f),M=y?"data:image/jpeg;base64, "+y.data:null,P=Object(h.m)(k?k.file:null),I=k&&"thumbnailFormatMpeg4"===k.format["@type"],A=Object(p.l)(k,t),O=Object(h.m)(v),N=Object(h.r)(w),j=O?r.a.createElement("source",{src:O,type:w}):null;return r.a.createElement("div",{className:o()("animation",{"animation-message":"message"===m,"animation-picker":"picker"===m,"animation-iv":"iv"===m,"animation-title":c,"media-title":c,"animation-caption":l,pointer:i}),style:T,onClick:i},M&&r.a.createElement("img",{className:o()("video-preview","media-mini-blurred"),src:M,alt:""}),O&&(N?r.a.createElement("img",{className:"animation-preview",src:O,alt:""}):r.a.createElement("video",{ref:this.videoRef,className:"animation-player",muted:!0,autoPlay:"picker"!==m,loop:!0,playsInline:!0,width:T.width,height:T.height,onPlay:this.handlePlay,onTimeUpdate:this.handleTimeUpdate},j)),!U&&r.a.createElement(r.a.Fragment,null,P&&r.a.createElement(r.a.Fragment,null,I?r.a.createElement("video",{className:o()("animation-thumbnail",{"media-blurred":A}),autoPlay:!1},r.a.createElement("source",{src:P,type:"video/mp4"})):r.a.createElement("img",{className:o()("animation-thumbnail",{"media-blurred":A}),src:P,alt:""})),"picker"!==m&&"preview"!==m&&r.a.createElement("div",{className:"animation-meta"},Object(h.h)(v))),g&&r.a.createElement(u.a,{file:v,download:!0,upload:!0,cancelButton:!0,icon:r.a.createElement("div",{className:"animation-play"},s("AttachGif"))}))}}v.defaultProps={displaySize:m.I,stretch:!1,showProgress:!0};const w=Object(l.a)(Object(l.d)(),Object(c.a)(),Object(l.c)());t.a=w(v)},,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{transform:"translate(-15.000000, -15.000000)",d:"M23,16 C23.5522847,16 24,16.4477153 24,17 L24,37 C24,37.5522847 23.5522847,38 23,38 L18,38 C17.4477153,38 17,37.5522847 17,37 L17,17 C17,16.4477153 17.4477153,16 18,16 L23,16 Z M36,16 C36.5522847,16 37,16.4477153 37,17 L37,37 C37,37.5522847 36.5522847,38 36,38 L31,38 C30.4477153,38 30,37.5522847 30,37 L30,17 C30,16.4477153 30.4477153,16 31,16 L36,16 Z"}),"Pause")},,function(e,t,n){"use strict";var a=n(29),i=n(9),r=n(43);function s(e){return function(e){const t=i.a.get(e);if(!t)return 0;const n=t.notification_settings;if(!n)return 0;const a=n.use_default_mute_for,r=n.mute_for;if(a){const t=o(e);return!!t&&t.mute_for}return r}(e)>0}function o(e){const t=i.a.get(e);if(!t)return null;switch(t.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":return f.settings.get("notificationSettingsScopePrivateChats");case"chatTypeBasicGroup":case"chatTypeSupergroup":{let t=null;return t=function(e){const t=i.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeSupergroup":{const e=r.a.get(t.type.supergroup_id);return e&&e.is_channel}case"chatTypeBasicGroup":case"chatTypePrivate":case"chatTypeSecret":return!1}return!1}(e)?f.settings.get("notificationSettingsScopeChannelChats"):f.settings.get("notificationSettingsScopeGroupChats"),t}}return null}function c(e){const t=e.chat_id;return function(e){return e&&e.contains_unread_mention}(e)?function(e){const t=i.a.get(e);if(!t)return!1;const n=t.notification_settings;if(!n)return!1;const a=n.use_default_disable_mention_notifications,r=n.disable_mention_notifications;if(a){const t=o(e);return!!t&&t.disable_mention_notifications}return r}(t):function(e){return e&&"messagePinMessage"===e.content["@type"]}(e)?function(e){const t=i.a.get(e);if(!t)return!1;const n=t.notification_settings;if(!t)return!1;const a=n.use_default_disable_pinned_message_notifications,r=n.disable_pinned_message_notifications;if(a){const t=o(e);return!!t&&t.disable_pinned_message_notifications}return r}(t):s(t)}var l=n(5),u=(n(13),n(17)),d=n(1),p=n(23);class h extends a.a{constructor(){super(),this.reset=()=>{this.chatStore=i.a,this.messageStore=u.a,this.appInactive=!1,this.newMessages=new Map,this.settings=new Map,this.windowFocused=!0,this.timerHandler=null,this.nextSoundAt=new Date,this.enableSound=!1},this.onTimer=()=>{const e=this.getUnreadCount();if(document.title===l.d&&e>0){let t="+99 notifications";1===e?t="1 notification":e<99&&(t="".concat(e," notifications")),document.title=t,document.getElementById("favicon").href="favicon_unread.ico"}else document.title=l.d+(this.appInactive?": Zzz\u2026":""),document.getElementById("favicon").href="favicon.ico"},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateChatReadInbox":if(!this.windowFocused){const t=e.chat_id,n=e.last_read_inbox_message_id,a=this.newMessages.get(t);if(a){const e=new Map([...a].filter(([e,t])=>t.id>n));e.size<a.size&&(this.newMessages.set(t,e),this.updateTimer())}}break;case"updateChatNotificationSettings":this.windowFocused||this.updateTimer();break;case"updateDeleteMessages":if(!this.windowFocused){const t=e.chat_id,n=e.message_ids;if(e.is_permanent&&n.length>0){const e=this.newMessages.get(t);if(e){const a=new Map(n.map(e=>[e,e])),i=new Map([...e].filter(([e,t])=>!a.has(e)));i.size<e.size&&(this.newMessages.set(t,i),this.updateTimer())}}}break;case"updateNewMessage":if(!this.windowFocused){const n=e.message,a=n.chat_id,i=n.id;if(!Object(p.X)(a))break;if(Object(p.gb)(a))break;const r=this.newMessages.get(a)||new Map;if(r.set(i,n),this.newMessages.set(a,r),this.updateTimer(),!n.is_outgoing&&!c(n)&&this.enableSound){if(new Date>this.nextSoundAt){try{new Audio("sound_a.mp3").play()}catch(t){}const e=new Date;e.setMilliseconds(e.getMilliseconds()+l.B),this.nextSoundAt=e}}}break;case"updateScopeNotificationSettings":{const t=e.scope,n=e.notification_settings;this.settings.set(t["@type"],n);this.windowFocused||this.updateTimer(),this.emit("updateScopeNotificationSettings",e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAppInactive":this.appInactive=!0,this.newMessages=new Map,this.updateTimer();break;case"clientUpdateFocusWindow":{const t=e.focused;this.windowFocused=t,t&&(this.newMessages=new Map,this.updateTimer());break}}},this.addTdLibListener=()=>{d.a.on("update",this.onUpdate),d.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{d.a.off("update",this.onUpdate),d.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}getUnreadCount(){let e=0;return this.newMessages.forEach(t=>{t.forEach(t=>{t.is_outgoing||c(t)||e++})}),e}updateTimer(){this.getUnreadCount()>0?this.timerHandler||(this.onTimer(),this.timerHandler=setInterval(this.onTimer,1e3)):this.timerHandler&&(clearInterval(this.timerHandler),this.timerHandler=null,this.onTimer())}}const m=new h;window.notifications=m;var f=t.a=m},function(e){e.exports=JSON.parse('{"name":"tgxkat","version":"1.0.0","private":true,"homepage":"https://xandrkat.github.io/tgxkat","dependencies":{"@material-ui/core":"^4.9.7","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.46","classnames":"^2.2.6","emoji-mart":"^3.0.0","emoji-regex":"^8.0.0","i18next":"^19.3.3","iframe-resizer":"^4.2.10","notistack":"^0.9.14","opus-media-recorder":"^0.8.0","qr-code-styling":"^1.0.1","react":"^16.12.0","react-cropper":"^2.0.0","react-dom":"^16.12.0","react-i18next":"^11.3.4","react-router-dom":"^5.0.0","react-scripts":"^3.1.1","react-transition-group":"^4.3.0","tdweb":"^1.6.10"},"lint-staged":{"src/**/*.{js,jsx,json,css}":["prettier --print-width 120 --tab-width 4 --single-quote --jsx-single-quote --jsx-bracket-same-line --bracket-spacing --write","git add"]},"scripts":{"precommit":"lint-staged","start":"react-app-rewired start","build":"react-app-rewired build && sw-precache-cra --config sw-config.js","test":"react-app-rewired test --env=jsdom","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not ie <= 11","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"customize-cra":"^0.9.1","gh-pages":"^3.1.0","lint-staged":"^10.0.8","prettier":"^2.0.1","prop-types":"^15.7.2","react-app-rewired":"^2.1.5","sw-precache-cra":"^1.0.0","webpack":"4.42.0","webpack-bundle-analyzer":"^3.6.1","worker-loader":"^2.0.0"}}')},,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(77),c=n(10),l=n(2);n(304);class u extends i.a.Component{constructor(...e){super(...e),this.state={loaded:!1},this.onClientUpdateDocumentThumbnailBlob=e=>{const t=this.props.thumbnail;if(!t)return;const n=t.file;if(!n)return;const a=e.fileId;n.id===a&&this.forceUpdate()},this.handleLoad=()=>{this.setState({loaded:!0})}}componentDidMount(){l.a.on("clientUpdateDocumentThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob),l.a.on("clientUpdateAudioThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob)}componentWillUnmount(){l.a.off("clientUpdateDocumentThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob),l.a.off("clientUpdateAudioThumbnailBlob",this.onClientUpdateDocumentThumbnailBlob)}render(){const e=this.props,t=e.minithumbnail,n=e.thumbnail,a=e.file,r=e.icon,l=e.completeIcon,u=e.openMedia,d=e.streaming,p=this.state.loaded,h=t?"data:image/jpeg;base64, "+t.data:null,m=Object(c.m)(n?n.file:null),f=m&&p,g=m||h;return i.a.createElement("div",{className:s()("document-tile",{"document-tile-image":!g},{pointer:u}),onClick:u},a&&i.a.createElement(o.a,{file:a,thumbnailSrc:g,download:!d,upload:!0,cancelButton:!0,zIndex:1,icon:r,completeIcon:"function"===typeof l?l(g):l}),h&&i.a.createElement("img",{className:"tile-photo",src:h,draggable:!1,alt:""}),m&&i.a.createElement("img",{className:"tile-photo",src:m,onLoad:this.handleLoad,draggable:!1,alt:""}),!h&&!f&&i.a.createElement("div",{className:"document-tile-background"}))}}u.defaultProps={streaming:!1},t.a=u},function(e,t,n){"use strict";var a=n(22),i=n(0),r=n.n(i),s=n(18),o=n.n(s),c=n(237),l=n.n(c),u=n(33),d=n(10),p=n(5),h=n(2);n(310);class m extends r.a.Component{constructor(...e){super(...e),this.onClientUpdateLocationBlob=e=>{const t=e.fileId,n=this.props,a=n.location,i=n.width,r=n.height,s=n.zoom,o=n.scale,c=Object(u.q)(a,i,r,s,o),l=h.a.getLocationFile(c);l&&l.id===t&&this.forceUpdate()},this.handleClick=e=>{e.stopPropagation()}}componentDidMount(){h.a.on("clientUpdateLocationBlob",this.onClientUpdateLocationBlob)}componentWillUnmount(){h.a.off("clientUpdateLocationBlob",this.onClientUpdateLocationBlob)}render(){const e=this.props,t=e.location,n=e.width,i=e.height,s=e.zoom,c=e.scale,p=e.type,m=e.style,f=e.title,g=e.caption;if(!t)return null;const b=Object(u.q)(t,n,i,s,c),y=h.a.getLocationFile(b),k=Object(d.m)(y),v=t.longitude,w=t.latitude,C="https://maps.google.com/?q=".concat(w,",").concat(v),S=Object(a.a)({width:n,height:i},m);return r.a.createElement("div",{className:o()("location",{"location-message":"message"===p,"location-venue":"venue"===p,"location-title":f,"location-caption":g}),style:S},r.a.createElement("a",{href:C,target:"_blank",rel:"noopener noreferrer",onClick:this.handleClick},r.a.createElement("div",{className:"location-wrapper"},r.a.createElement("img",{className:"location-image",draggable:!1,alt:C,src:k}),r.a.createElement("div",{className:"location-icon"},r.a.createElement(l.a,{fontSize:"large",color:"primary"})))))}}m.defaultProps={width:p.s,height:p.q,zoom:p.t,scale:p.r},t.a=m},,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(33),s=n(17);class o extends i.a.Component{constructor(e){super(e),this.onUpdateMessageContentOpened=e=>{const t=this.props,n=t.chatId,a=t.messageId;n===e.chat_id&&a===e.message_id&&this.setState({isOpened:Object(r.I)(n,a)})};const t=this.props,n=t.chatId,a=t.messageId;this.state={isOpened:Object(r.I)(n,a)}}componentDidMount(){s.a.on("updateMessageContentOpened",this.onUpdateMessageContentOpened)}componentWillUnmount(){s.a.off("updateMessageContentOpened",this.onUpdateMessageContentOpened)}render(){const e=this.props,t=e.icon,n=e.openedIcon;return this.state.isOpened?n:t}}o.defaultProps={icon:null,openedIcon:null},t.a=o},,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{d:"M5.29289322,5.29289322 C5.68341751,4.90236893 6.31658249,4.90236893 6.70710678,5.29289322 L6.70710678,5.29289322 L12,10.585 L17.2928932,5.29289322 C17.6834175,4.90236893 18.3165825,4.90236893 18.7071068,5.29289322 C19.0976311,5.68341751 19.0976311,6.31658249 18.7071068,6.70710678 L13.415,12 L18.7071068,17.2928932 C19.0675907,17.6533772 19.0953203,18.2206082 18.7902954,18.6128994 L18.7071068,18.7071068 C18.3165825,19.0976311 17.6834175,19.0976311 17.2928932,18.7071068 L17.2928932,18.7071068 L12,13.415 L6.70710678,18.7071068 C6.31658249,19.0976311 5.68341751,19.0976311 5.29289322,18.7071068 C4.90236893,18.3165825 4.90236893,17.6834175 5.29289322,17.2928932 L10.585,12 L5.29289322,6.70710678 C4.93240926,6.34662282 4.90467972,5.77939176 5.20970461,5.38710056 Z"}),"Close")},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(e){this.onKeyDown=e}}const i=new class{constructor(){this.handleKeyDown=e=>{const t=this.handlers;if(!t.length)return;const n=t[t.length-1];if(n){const t=n.onKeyDown;t&&t(e)}},this.handlers=[],document.addEventListener("keydown",this.handleKeyDown)}add(e){this.handlers.push(e)}remove(e){const t=this.handlers.indexOf(e);-1!==t&&this.handlers.splice(t,1)}};t.b=i},,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(82),c=n(83),l=n(109),u=n(115),d=n(138),p=n(151),h=n(38),m=n(10),f=n(31),g=n(16);n(320);class b extends i.a.Component{constructor(e){super(e),this.onClientUpdateMediaEnd=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(f.e)(n,a,i,r)&&this.setState({active:!1,playing:!1})},this.onClientUpdateMediaPlay=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;this.setState({playing:Object(f.e)(n,a,i,r)})},this.onClientUpdateMediaPause=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(f.e)(n,a,i,r)&&this.setState({playing:!1})},this.onClientUpdateMediaActive=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source,s=Object(f.e)(n,a,i,r);this.setState({active:s,playing:s})};const t=e.chatId,n=e.messageId,a=e.block,i=g.b.message,r=g.b.block,s=g.b.playing,o=i&&i.chat_id===t&&i.id===n||a===r;this.state={active:o,playing:!!o&&s}}shouldComponentUpdate(e,t,n){const a=this.state,i=a.active,r=a.playing;return t.active!==i||t.playing!==r}componentDidMount(){g.b.on("clientUpdateMediaActive",this.onClientUpdateMediaActive),g.b.on("clientUpdateMediaPlay",this.onClientUpdateMediaPlay),g.b.on("clientUpdateMediaPause",this.onClientUpdateMediaPause),g.b.on("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}componentWillUnmount(){g.b.off("clientUpdateMediaActive",this.onClientUpdateMediaActive),g.b.off("clientUpdateMediaPlay",this.onClientUpdateMediaPlay),g.b.off("clientUpdateMediaPause",this.onClientUpdateMediaPause),g.b.off("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.block,r=e.audio,f=e.openMedia,g=e.title,b=e.meta,y=e.caption,k=e.date,v=this.state,w=v.playing,C=v.active;if(!r)return null;const S=r.album_cover_thumbnail,U=r.duration,_=r.audio,E=Object(h.b)(r),x=Object(h.a)(r),T=w?i.a.createElement(l.a,null):i.a.createElement(c.a,null);return i.a.createElement("div",{className:s()("audio","document",{"media-title":g})},i.a.createElement(u.a,{thumbnail:S,file:_,openMedia:f,streaming:Object(m.R)(),icon:Object(m.R)()?T:i.a.createElement(o.a,null),completeIcon:T}),i.a.createElement("div",{className:"audio-content"},i.a.createElement("div",{className:"document-title"},i.a.createElement("a",{className:"document-name",onClick:f,title:E},E)),i.a.createElement("div",{className:"audio-action",style:{opacity:C?0:1}},i.a.createElement("span",null,x)),i.a.createElement(p.a,{audio:!0,className:"audio-slider",chatId:t,messageId:n,block:a,duration:U,style:{opacity:C?1:0}}),i.a.createElement(d.a,{chatId:t,messageId:n,block:a,duration:U,file:_,meta:y?null:b,streaming:Object(m.R)(),date:k})))}}t.a=b},,,,function(e,t,n){"use strict";var a=n(22),i=n(0),r=n.n(i),s=n(18),o=n.n(s),c=n(83),l=n(12),u=n(10),d=n(38),p=n(5),h=n(2);n(311);class m extends r.a.Component{constructor(...e){super(...e),this.onClientUpdateVideoThumbnailBlob=e=>{const t=this.props.video.thumbnail,n=e.fileId;if(!t)return;const a=t.file;a&&a.id!==n||this.forceUpdate()}}componentDidMount(){h.a.on("clientUpdateVideoThumbnailBlob",this.onClientUpdateVideoThumbnailBlob)}componentWillUnmount(){h.a.off("clientUpdateVideoThumbnailBlob",this.onClientUpdateVideoThumbnailBlob)}render(){const e=this.props,t=e.displaySize,n=e.stretch,i=e.openMedia,s=e.title,p=e.caption,h=e.type,m=e.style,f=this.props.video,g=f.minithumbnail,b=f.thumbnail,y=f.video,k=f.width,v=f.height,w=f.duration,C=[...b?[b]:[],{width:k,height:v}],S=Object(l.l)(C,t),U=Object(l.i)(S,t,n);if(!U)return null;const _=Object(a.a)({background:"black",minWidth:n?U.width:null,width:n?null:U.width,height:U.height},m),E=g?"data:image/jpeg;base64, "+g.data:null,x=Object(u.m)(b?b.file:null),T=Object(d.l)(b,t);return r.a.createElement("div",{className:o()("video",{"video-big":"message"===h,"video-title":s,"video-caption":p,pointer:i}),style:_,onClick:i},E&&r.a.createElement("img",{className:o()("video-preview","media-mini-blurred"),src:E,alt:""}),x&&r.a.createElement("img",{className:o()("video-thumbnail",{"media-blurred":T}),src:x,alt:""}),r.a.createElement("div",{className:"video-play"},r.a.createElement(c.a,null)),r.a.createElement("div",{className:"media-top-meta"},Object(l.g)(w)+" "+Object(u.h)(y)))}}m.defaultProps={size:p.K,displaySize:p.I,stretch:!1},t.a=m},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(138),c=n(210),l=n(120),u=n(151),d=n(23);n(318);class p extends i.a.Component{render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.block,r=e.voiceNote,p=e.openMedia,h=e.title,m=e.meta,f=e.caption;if(!r)return null;const g=r.duration,b=r.voice,y=r.waveform;return i.a.createElement("div",{className:s()("voice-note","document",{"media-title":h})},i.a.createElement(c.a,{chatId:t,messageId:n,block:a,file:b,openMedia:p}),i.a.createElement("div",{className:"voice-note-content"},i.a.createElement(u.a,{chatId:t,messageId:n,block:a,duration:g,waveform:y}),i.a.createElement("div",{className:"voice-note-meta"},i.a.createElement(o.a,{chatId:t,messageId:n,block:a,duration:g,file:b}),!Object(d.gb)(t)&&i.a.createElement(l.a,{chatId:t,messageId:n,icon:i.a.createElement("div",{className:"voice-note-meta-unread"})}),!f&&m)))}}t.a=p},,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(10),s=n(12),o=n(2),c=n(16),l=(n(319),n(31));class u extends i.a.Component{constructor(e){super(e),this.onClientUpdateMediaSeeking=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.streaming,o=this.state,c=o.duration,d=o.active,p=o.file,h=e.source,m=e.value;if(!Object(l.e)(n,a,i,h))return;const f=c||r;this.setState({seekProgress:m,seeking:!0,timeString:u.getTimeString(f*m,f,d,p,s)})},this.onClientUpdateMediaSeek=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.streaming,o=this.state,c=o.duration,d=o.active,p=o.file,h=e.source,m=e.value;if(!Object(l.e)(n,a,i,h))return;const f=c||r;this.setState({seekProgress:0,seeking:!1,timeString:u.getTimeString(f*m,f,d,p,s)})},this.onClientUpdateMediaEnd=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.streaming,o=this.state,c=(o.active,o.file),d=e.source;if(!Object(l.e)(n,a,i,d))return;const p=e.duration>=0&&e.duration<1/0?e.duration:r;this.setState({active:!1,currentTime:0,timeString:u.getTimeString(0,p,!1,c,s)})},this.onClientUpdateMediaTime=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.streaming,o=this.state,c=o.active,d=o.file,p=o.seekProgress,h=o.seeking,m=e.source;if(!Object(l.e)(n,a,i,m))return;const f=e.duration>=0&&e.duration<1/0?e.duration:r,g=h?p*f:e.currentTime;this.setState({currentTime:e.currentTime,duration:f,timeString:u.getTimeString(g,f,c,d,s)})},this.onClientUpdateMediaActive=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.streaming,o=this.state,c=o.active,d=o.currentTime,p=o.file,h=e.source;Object(l.e)(n,a,i,h)?this.setState({active:!0,currentTime:c?d:0,timeString:c?this.state.timeString:u.getTimeString(0,r,!0,p,s)}):c&&this.setState({active:!1,currentTime:0,timeString:u.getTimeString(0,r,!1,p,s)})},this.onUpdateFile=e=>{const t=this.state.file,n=e.file;t&&t.id===n.id&&this.setState({file:n,prevFile:t})};const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.duration,s=t.file,d=t.streaming,p=c.b.message,h=c.b.block,m=c.b.time,f=p&&p.chat_id===n&&p.id===a||i===h,g=f&&m?m.currentTime:0,b=f&&m&&m.duration?m.duration:r,y=o.a.get(s.id)||s;this.state={active:f,currentTime:g,seekProgress:0,duration:b,timeString:u.getTimeString(g,r,f,y,d),prevFile:null,file:y}}shouldComponentUpdate(e,t){const n=this.state,a=n.active,i=n.timeString,r=n.file,s=n.prevFile;return t.timeString!==i||(t.active!==a||(t.file!==r||t.prevFile!==s))}componentDidMount(){o.a.on("updateFile",this.onUpdateFile),c.b.on("clientUpdateMediaActive",this.onClientUpdateMediaActive),c.b.on("clientUpdateMediaTime",this.onClientUpdateMediaTime),c.b.on("clientUpdateMediaEnd",this.onClientUpdateMediaEnd),c.b.on("clientUpdateMediaSeeking",this.onClientUpdateMediaSeeking),c.b.on("clientUpdateMediaSeek",this.onClientUpdateMediaSeek)}componentWillUnmount(){o.a.off("updateFile",this.onUpdateFile),c.b.off("clientUpdateMediaActive",this.onClientUpdateMediaActive),c.b.off("clientUpdateMediaTime",this.onClientUpdateMediaTime),c.b.off("clientUpdateMediaEnd",this.onClientUpdateMediaEnd),c.b.off("clientUpdateMediaSeeking",this.onClientUpdateMediaSeeking),c.b.off("clientUpdateMediaSeek",this.onClientUpdateMediaSeek)}static getTimeString(e,t,n,a,i){const r=a.local&&a.local.is_downloading_completed||i,o=(a.remote&&a.remote.is_uploading_completed,Object(s.g)(Math.floor(t||0))),c=Object(s.g)(Math.floor(e||0));return n&&r?"".concat(c," / ").concat(o):"".concat(o)}render(){const e=this.props,t=e.date,n=e.meta,a=e.streaming,s=this.state,o=s.active,c=s.file,l=s.timeString;if(!c)return null;const u=c.local&&c.local.is_downloading_active,d=c.remote&&c.remote.is_uploading_active,p=c.local&&c.local.is_downloading_completed,h=(c.remote&&c.remote.is_uploading_completed,Object(r.h)(c));let m=null;u?m=Object(r.f)(c):d&&(m=Object(r.n)(c));const f=[];if(a){const e="".concat(h);p||o||f.push(e),f.push(l)}else{const e="".concat(m||h);p||f.push(e),u||f.push(l)}return i.a.createElement("div",{className:"audio-action"},i.a.createElement("span",null,f.join(", "),!o&&t&&" \xb7 ".concat(t),n))}}u.defaultProps={streaming:!1},t.a=u},,,,,,,,,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("g",{transform:"translate(3.000000, 0.600000)"},i.a.createElement("path",{d:"M9,0 C13.9705627,-9.13077564e-16 18,4.02943725 18,9 L18,23 L18,23 L15,20 L12,23 L9,20 L6,23 L3,20 L0,23 L0,9 C-6.08718376e-16,4.02943725 4.02943725,9.13077564e-16 9,0 Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round",fill:"none"}),i.a.createElement("circle",{cx:"5",cy:"9",r:"2"}),i.a.createElement("circle",{cx:"13",cy:"9",r:"2"})),"DeletedAccount")},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(248),c=n(180),l=n(38);n(316);class u extends i.a.Component{render(){const e=this.props,t=(e.id,e.value),n=e.dragging;let a=this.props.data;a||(a="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA");const r=Object(l.i)(a),s=n?null:"width 0.25s",o=r.filter((e,t)=>t%2===1).map((e,t)=>{const n=Math.min(Math.max(2,23*e),23),a=23-Math.floor(n);return"M".concat(1+4*t+1,",").concat(a+1,"v").concat(Math.floor(n)-2,"Z")}).join(""),c=i.a.createElement("svg",{className:"waveform-bars",viewBox:"0 0 202 32"},i.a.createElement("path",{d:o}));return i.a.createElement("div",{className:"waveform"},i.a.createElement("div",{className:"waveform-content"},i.a.createElement("div",{className:"waveform-background"},c),i.a.createElement("div",{className:"waveform-progress",style:{transition:s,width:100*t+"%"}},c)))}}var d=u,p=n(31),h=n(5),m=n(17),f=n(16),g=n(1);n(317);class b extends i.a.Component{constructor(...e){super(...e),this.state={},this.onClientUpdateMediaEnd=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(p.e)(n,a,i,r)&&this.reset()},this.onClientUpdateMediaLoadedMetadata=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source,s=e.duration,o=e.buffered;Object(p.e)(n,a,i,r)&&this.setState({duration:s,buffered:o})},this.onClientUpdateMediaProgress=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source,s=e.buffered;Object(p.e)(n,a,i,r)&&this.setState({buffered:s})},this.onClientUpdateMediaTime=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.waveform,s=this.state,o=s.active,c=s.duration,l=s.dragging,u=s.value,d=e.source,h=e.currentTime,m=e.buffered;Object(p.e)(n,a,i,d)&&this.setState({currentTime:h,buffered:m,value:l?u:b.getValue(h,c,o,r,l)})},this.onClientUpdateMediaActive=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=t.waveform,s=this.state,o=s.active,c=s.currentTime,l=s.duration,u=s.dragging,d=e.source,h=e.currentTime;if(Object(p.e)(n,a,i,d)){let e=this.state.value;u||(e=b.getValue(o?c:h,l,!0,r,u)),this.setState({active:!0,currentTime:o?c:h,value:e})}else o&&this.reset()},this.handleMouseDown=e=>{e.stopPropagation(),this.setState({dragging:!0})},this.handleChange=(e,t)=>{const n=this.props,a=n.chatId,i=n.messageId,r=n.block,s=this.state,o=s.active,c=s.dragging;if(!o)return;const l=m.a.get(a,i)||{"@type":"instantViewSource",block:r};c&&g.a.clientUpdate({"@type":"clientUpdateMediaSeeking",source:l,value:t}),this.setState({value:t})},this.handleChangeCommitted=()=>{const e=this.props,t=e.chatId,n=e.messageId,a=e.block,i=e.duration,r=this.state.value,s=m.a.get(t,n)||{"@type":"instantViewSource",block:a};g.a.clientUpdate({"@type":"clientUpdateMediaSeek",source:s,value:r,duration:i}),this.setState({dragging:!1})},this.handleClick=e=>{e.stopPropagation(),e.preventDefault()}}static getDerivedStateFromProps(e,t){const n=e.chatId,a=e.messageId,i=e.block,r=e.duration,s=e.waveform;if(t.prevChatId!==n||t.prevMessageId!==a||t.prevBlock!==i){const e=f.b.message,t=f.b.block,o=f.b.time,c=e&&e.chat_id===n&&e.id===a||i===t,l=c&&o?o.currentTime:0,u=c&&o&&o.duration?o.duration:r,d=c&&o?o.buffered:null;return{prevChatId:n,prevMessageId:a,prevBlock:i,active:c,currentTime:l,duration:u,value:b.getValue(l,u,c,s,!1),buffered:d}}return null}shouldComponentUpdate(e,t){const n=this.props.style,a=this.state,i=a.active,r=a.value,s=a.buffered;return t.value!==r||(t.active!==i||(t.buffered!==s||e.style!==n))}componentDidMount(){f.b.on("clientUpdateMediaActive",this.onClientUpdateMediaActive),f.b.on("clientUpdateMediaLoadedMetadata",this.onClientUpdateMediaLoadedMetadata),f.b.on("clientUpdateMediaTime",this.onClientUpdateMediaTime),f.b.on("clientUpdateMediaProgress",this.onClientUpdateMediaProgress),f.b.on("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}componentWillUnmount(){f.b.off("clientUpdateMediaActive",this.onClientUpdateMediaActive),f.b.off("clientUpdateMediaLoadedMetadata",this.onClientUpdateMediaLoadedMetadata),f.b.off("clientUpdateMediaTime",this.onClientUpdateMediaTime),f.b.off("clientUpdateMediaProgress",this.onClientUpdateMediaProgress),f.b.off("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}reset(){const e=this.props.waveform,t=this.state,n=t.value,a=t.duration,i=t.dragging;1===n?(this.setState({active:!1,currentTime:0,buffered:null}),setTimeout(()=>{this.state.currentTime||this.setState({value:b.getValue(0,a,!1,e,i)})},h.W)):this.setState({active:!1,currentTime:0,buffered:null,value:b.getValue(0,a,!1,e,i)})}static getValue(e,t,n,a,i){return n?e/t:0}render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.audio,r=e.waveform,l=e.className,u=e.style,p=this.state,h=p.duration,m=p.value,f=p.dragging,g=p.buffered,b=m*h,y=c.a.getBufferedTime(b,g),k=h>0?y/h:0;return i.a.createElement("div",{className:s()("voice-note-slider",l),style:u},!a&&i.a.createElement(d,{id:"waveform_".concat(t,"_").concat(n),dragging:f,data:r,value:m}),a&&i.a.createElement("div",{className:"voice-note-slider-buffered",style:{width:"".concat(100*k,"%")}}),i.a.createElement(o.a,{className:s()("voice-note-slider-component",{"voice-note-slider-component-hidden":!a}),classes:{track:"voice-note-slider-track",thumb:"voice-note-slider-thumb",active:"voice-note-slider-active",rail:"voice-note-slider-rail"},min:0,max:1,step:.01,value:m,onChange:this.handleChange,onChangeCommitted:this.handleChangeCommitted,onMouseDown:this.handleMouseDown,onClick:this.handleClick}))}}t.a=b},,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return w})),n.d(t,"d",(function(){return C}));var a=n(6),i=n.n(a),r=n(22),s=n(11),o=n(1),c=n(23),l=n(5),u=n(9);function d(e){o.a.clientUpdate({"@type":"clientUpdateChatList",chatList:e})}function p(e,t,n=[]){o.a.send({"@type":"reportChat",chat_id:e,reason:t,message_ids:n})}function h(e){o.a.clientUpdate({"@type":"clientUpdateRequestClearHistory",chatId:e})}function m(e){o.a.clientUpdate({"@type":"clientUpdateRequestLeaveChat",chatId:e})}function f(e){o.a.clientUpdate({"@type":"clientUpdateChatDetailsVisibility",visibility:e})}function g(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send({"@type":"getChats",chat_list:{"@type":"chatListMain"},offset_order:"9223372036854775807",offset_chat_id:0,limit:10});case 2:if(!(n=e.sent)){e.next=15;break}a=-1,r=0;case 6:if(!(r<n.chat_ids.length)){e.next=15;break}if((s=u.a.get(n.chat_ids[r]))&&Object(c.Z)(s.id,{"@type":"chatListMain"})&&a++,a!==t){e.next=12;break}return o.a.setChatId(s.id),e.abrupt("return");case 12:r++,e.next=6;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){o.a.send({"@type":"addChatToList",chat_id:e,chat_list:t})}function k(e,t,n){o.a.send({"@type":"toggleChatIsPinned",chat_id:e,chat_list:t,is_pinned:n})}function v(e,t){o.a.send({"@type":"toggleChatIsMarkedAsUnread",chat_id:e,is_marked_as_unread:t})}function w(e,t){const n=u.a.get(e);if(!n)return;if(!n.notification_settings)return;if(Object(c.Y)(e)===t)return;const a=t?l.z:l.A,i=Object(r.a)(Object(r.a)({},n.notification_settings),{},{use_default_mute_for:!1,mute_for:a});o.a.send({"@type":"setChatNotificationSettings",chat_id:e,notification_settings:i})}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,c,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.a.get(t)){e.next=3;break}return e.abrupt("return");case 3:return n=[],a=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterPhoto"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(a),r=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterVideo"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(r),s=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterDocument"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(s),c=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterAudio"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(c),l=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterUrl"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(l),d=o.a.send({"@type":"getChatMessageCount",chat_id:t,filter:{"@type":"searchMessagesFilterVoiceNote"},return_local:!1}).then(e=>e?e.count:0).catch(()=>0),n.push(d),e.next=18,Promise.all(n);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(22),i=n(6),r=n.n(i),s=n(11),o=n(0),c=n.n(o),l=n(18),u=n.n(l),d=n(38),p=n(12),h=n(10),m=n(5),f=n(103),g=n(13),b=n(2),y=n(44),k=n(17),v=n(97);n(326);const w=c.a.lazy(()=>n.e(0).then(n.bind(null,389))),C=Object.freeze({HINTS:"HINTS",MESSAGE:"MESSAGE",PICKER_HEADER:"PICKER_HEADER",PICKER:"PICKER",PREVIEW:"PREVIEW",STICKER_SET:"STICKER_SET",UNKNOWN:"UNKNOWN"});class S extends c.a.Component{constructor(e){var t;super(e),t=this,this.onClientUpdateInstantViewContent=e=>{this.ivOpened=Boolean(y.a.getCurrent()),this.startStopAnimation()},this.onClientUpdateDialogChatId=e=>{this.chatPopupOpened=Boolean(g.a.dialogChatId),this.startStopAnimation()},this.onClientUpdateMediaViewerContent=e=>{this.mediaViewerOpened=Boolean(g.a.mediaViewerContent),this.startStopAnimation()},this.onClientUpdateProfileMediaViewerContent=e=>{this.profileMediaViewerOpened=Boolean(g.a.profileMediaViewerContent),this.startStopAnimation()},this.onClientUpdateStickerPreview=e=>{this.stickerPreviewOpened=Boolean(e.sticker),this.startStopAnimation()},this.onClientUpdateMessagesInView=e=>{const t=this.props,n=t.chatId,a=t.messageId,i="".concat(n,"_").concat(a);this.messageInView=e.messages.has(i),this.startStopAnimation()},this.onClientUpdateStickerSet=e=>{this.stickerSetOpened=Boolean(e.stickerSet),this.startStopAnimation()},this.onClientUpdateFocusWindow=e=>{const t=e.focused,n=this.props,a=n.chatId,i=n.messageId,r=n.sticker;Object(d.n)(r,a,i)&&(this.windowFocused=t,this.startStopAnimation())},this.onClientUpdateStickerBlob=function(){var e=Object(s.a)(r.a.mark((function e(n){var a,i,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props.sticker,i=a.sticker,s=a.is_animated,o=n.fileId,i){e.next=4;break}return e.abrupt("return");case 4:if(i.id===o){e.next=6;break}return e.abrupt("return");case 6:if(!s){e.next=10;break}t.loadContent(),e.next=15;break;case 10:return e.next=12,Object(p.v)();case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:t.forceUpdate();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onClientUpdateStickerPngBlob=e=>{const t=this.props.sticker,n=t.sticker,a=t.is_animated,i=e.fileId;n&&n.id===i&&(a||this.forceUpdate())},this.onClientUpdateStickerThumbnailBlob=function(){var e=Object(s.a)(r.a.mark((function e(n){var a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.props.sticker.thumbnail){e.next=3;break}return e.abrupt("return");case 3:if(i=n.fileId,s=a.file){e.next=7;break}return e.abrupt("return");case 7:if(s.id===i){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,Object(p.v)();case 11:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:t.forceUpdate();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onClientUpdateStickerThumbnailPngBlob=e=>{const t=this.props.sticker.thumbnail;if(!t)return;const n=e.fileId,a=t.file;a&&a.id===n&&this.forceUpdate()},this.loadContent=Object(s.a)(r.a.mark((function e(){var n,a,i,s,o,c,l,u,p,m,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.chatId,i=n.messageId,s=n.sticker,o=n.autoplay,c=n.play,l=s.is_animated,u=s.sticker,p=Object(d.n)(s,a,i),l){e.next=5;break}return e.abrupt("return");case 5:if(p){e.next=7;break}return e.abrupt("return");case 7:if(c){e.next=9;break}return e.abrupt("return");case 9:if(m=Object(h.e)(u)){e.next=12;break}return e.abrupt("return");case 12:if(f=m){e.next=15;break}return e.abrupt("return");case 15:o?t.setState({fileId:u.id,animationData:f}):(t.fileId=u.id,t.animationData=f);case 16:case"end":return e.stop()}}),e)}))),this.removeContent=()=>{this.state.animationData&&this.setState({animationData:null})},this.handleMouseEnter=()=>{if(this.props.autoplay)return;const e=this.animationData,t=this.fileId;e&&this.setState({animationData:e,fileId:t},()=>{this.handleAnimationMouseEnter()})},this.handleAnimationMouseEnter=()=>{if(this.props.autoplay)return;this.lottieRef.current&&(this.loopCount=0,this.mouseEntered=!0,this.completeLoop=!1,this.startStopAnimation())},this.handleAnimationLoopComplete=()=>{if(this.props.autoplay)return;if(this.lottieRef.current&&(this.mouseEntered||(this.loopCount+=1),this.loopCount>0)){this.completeLoop=!1;this.state.animationData&&this.setState({loaded:!1,animationData:null})}},this.handleMouseOut=()=>{this.props.autoplay||(this.mouseEntered=!1,this.completeLoop=!0)},this.handleLoad=()=>{this.setState({loaded:!0})},this.lottieRef=c.a.createRef(),this.windowFocused=window.hasFocus,this.messageInView=!0,this.stickerPreviewOpened=Boolean(v.a.stickerPreview),this.mediaViewerOpened=Boolean(g.a.mediaViewerContent),this.profileMediaViewerOpened=Boolean(g.a.profileMediaViewerContent),this.ivOpened=Boolean(y.a.getCurrent()),this.chatPopupOpened=Boolean(g.a.dialogChatId),this.stickerSetOpened=Boolean(v.a.stickerSet),this.state={animationData:null,loaded:!1,hasError:!1}}static getDerivedStateFromProps(e,t){const n=e.sticker,a=t.prevSticker;return a&&n&&a!==n&&a.sticker.id!==n.sticker.id?{prevSticker:n,loaded:!1}:null}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.log("[Sticker] render error",e,t)}shouldComponentUpdate(e,t,n){const a=this.props,i=a.chatId,r=a.messageId,s=a.sticker,o=a.blur,c=a.displaySize,l=this.state,u=l.animationData,d=l.loaded,p=l.pngUrl;return u!==t.animationData||(d!==t.loaded||(i!==e.chatId||(r!==e.messageId||(s!==e.sticker||(o!==e.blur||(c!==e.displaySize||p!==t.pngUrl))))))}componentDidUpdate(e,t,n){e.sticker!==this.props.sticker&&this.loadContent()}componentDidMount(){this.loadContent(),g.a.on("clientUpdateDialogChatId",this.onClientUpdateDialogChatId),g.a.on("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),g.a.on("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),g.a.on("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),y.a.on("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),b.a.on("clientUpdateStickerThumbnailBlob",this.onClientUpdateStickerThumbnailBlob),b.a.on("clientUpdateStickerThumbnailPngBlob",this.onClientUpdateStickerThumbnailPngBlob),b.a.on("clientUpdateStickerBlob",this.onClientUpdateStickerBlob),b.a.on("clientUpdateStickerPngBlob",this.onClientUpdateStickerPngBlob),k.a.on("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),v.a.on("clientUpdateStickerPreview",this.onClientUpdateStickerPreview),v.a.on("clientUpdateStickerSet",this.onClientUpdateStickerSet)}componentWillUnmount(){this.removeContent(),g.a.off("clientUpdateDialogChatId",this.onClientUpdateDialogChatId),g.a.off("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),g.a.off("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),g.a.off("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),y.a.off("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),b.a.off("clientUpdateStickerThumbnailBlob",this.onClientUpdateStickerThumbnailBlob),b.a.off("clientUpdateStickerThumbnailPngBlob",this.onClientUpdateStickerThumbnailPngBlob),b.a.off("clientUpdateStickerBlob",this.onClientUpdateStickerBlob),b.a.off("clientUpdateStickerPngBlob",this.onClientUpdateStickerPngBlob),k.a.off("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),v.a.off("clientUpdateStickerPreview",this.onClientUpdateStickerPreview),v.a.off("clientUpdateStickerSet",this.onClientUpdateStickerSet)}startStopAnimation(){const e=this.props,t=e.autoplay,n=e.source,a=this.lottieRef.current;if(!a)return;const i=this.windowFocused,r=this.chatPopupOpened,s=this.mediaViewerOpened,o=this.profileMediaViewerOpened,c=this.ivOpened,l=this.stickerPreviewOpened,u=this.stickerSetOpened,d=this.messageInView,p=this.mouseEntered,h=this.completeLoop;if(i)if(r)a.pause();else if(s)a.pause();else if(o)a.pause();else if(c)a.pause();else if(t||p||h){switch(n){case C.HINTS:if(!u&&!l)return void a.play();break;case C.MESSAGE:if(!u&&d&&!l)return void a.play();break;case C.PICKER:if(!u&&!l)return void a.play();break;case C.PICKER_HEADER:if(!u&&!l)return void a.play();break;case C.PREVIEW:if(!0)return void a.play();break;case C.STICKER_SET:if(u&&!l)return void a.play();break;case C.UNKNOWN:}a.pause()}else a.pause();else a.pause()}render(){const e=this.props,t=e.chatId,n=e.messageId,i=e.autoplay,r=e.className,s=e.displaySize,o=e.sticker,l=e.style,m=e.openMedia,g=e.preview,b=e.inViewportFunc,y=e.meta,k=o.thumbnail,v=o.sticker,C=o.width,S=o.height,U=this.state,_=U.fileId,E=U.animationData,x=U.loaded,T=U.hasError,M=Object(d.n)(o,t,n),P=f.a.isWebpSupported()?Object(h.m)(k?k.file:null):Object(h.l)(k?k.file:null),I=f.a.isWebpSupported()||M?Object(h.m)(v):Object(h.l)(v),A=Object(d.l)(k,s)||!g;if(T){const e={width:s,height:s};return c.a.createElement("div",{className:u()("sticker",r),style:e,onClick:m},P&&c.a.createElement("img",{className:u()("sticker-image",{"media-blurred":A}),draggable:!1,src:P,alt:""}))}let O=null;const N=Object(p.i)({width:C,height:S},s);N&&(O=M?c.a.createElement(c.a.Fragment,null,E&&c.a.createElement(c.a.Suspense,{fallback:null},c.a.createElement(w,{ref:this.lottieRef,options:{width:s,height:s,autoplay:i,loop:!0,fileId:_,animationData:E,inViewportFunc:b},eventListeners:[{eventName:"loopComplete",callback:this.handleAnimationLoopComplete},{eventName:"firstFrame",callback:this.handleLoad}]}))):c.a.createElement(c.a.Fragment,null,I&&!g&&c.a.createElement("img",{key:v.id,className:"sticker-image",src:I,draggable:!1,alt:"",onLoad:this.handleLoad})));const j=Object(a.a)({width:N?N.width:0,height:N?N.height:0},l);return c.a.createElement("div",{className:u()("sticker",r),style:j,onClick:m,onMouseEnter:this.handleMouseEnter,onMouseOut:this.handleMouseOut},P&&c.a.createElement("img",{className:u()("sticker-image",{"media-blurred":A,"media-loaded":x}),draggable:!1,src:P,alt:""}),O,y)}}S.defaultProps={chatId:0,messageId:0,openMedia:()=>{},autoplay:!0,play:!0,displaySize:m.Bb,preview:!1,source:C.UNKNOWN},t.b=S},,function(e,t,n){"use strict";var a=n(6),i=n.n(a),r=n(11),s=n(29),o=n(1);class c extends s.a{constructor(){var e;super(),e=this,this.reset=()=>{this.savedAnimations=null,this.animationsInView=null},this.onUpdate=function(){var t=Object(r.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n["@type"],t.next="updateAuthorizationState"===t.t0?3:"updateSavedAnimations"===t.t0?12:17;break;case 3:if(a=n.authorization_state){t.next=6;break}return t.abrupt("break",18);case 6:t.t1=a["@type"],t.next="authorizationStateClosed"===t.t1?9:11;break;case 9:return e.reset(),t.abrupt("break",11);case 11:return t.abrupt("break",18);case 12:return t.next=14,o.a.send({"@type":"getSavedAnimations"});case 14:return e.savedAnimations=t.sent,e.emit("updateSavedAnimations",n),t.abrupt("break",18);case 17:return t.abrupt("break",18);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAnimationSend":this.emit("clientUpdateAnimationSend",e);break;case"clientUpdateAnimationsInView":this.animationsInView=e.animations,this.emit("clientUpdateAnimationsInView",e);break;case"clientUpdateAnimationPreview":this.emit("clientUpdateAnimationPreview",e)}},this.addTdLibListener=()=>{o.a.on("update",this.onUpdate),o.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{o.a.off("update",this.onUpdate),o.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}}const l=new c;window.animation=l,t.a=l},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(5);function i(e){if(!e)return!1;const t=e.question,n=e.options;if(!function(e){return!!e&&e.length<=a.jb}(t))return!1;const i=n.filter(e=>Boolean(e.text));return!(i.length<=1)&&i.every(r)}function r(e){return!!e&&(!!e.text&&e.text.length<=a.gb)}function s(e){if(!e)return!1;const t=e.question,n=e.options;return!!t||n.some(e=>Boolean(e.text))}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s}));var a=n(1);function i(e,t,n){a.a.send({"@type":"setPollAnswer",chat_id:e,message_id:t,option_ids:n})}function r(e,t){a.a.send({"@type":"setPollAnswer",chat_id:e,message_id:t,option_ids:[]})}function s(e,t){a.a.send({"@type":"stopPoll",chat_id:e,message_id:t,reply_markup:null})}},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(25),c=n(19);n(294);class l extends i.a.Component{constructor(...e){super(...e),this.state={},this.onUpdateUserStatus=e=>{const t=this.props.userId;if(t!==e.user_id)return;const n=c.a.get(t);this.setState({status:Object(o.f)(n),isAccent:Object(o.k)(n)})}}static getDerivedStateFromProps(e,t){if(e.userId!==t.prevUserId){const t=e.userId,n=c.a.get(t);return{prevUserId:t,status:Object(o.f)(n),isAccent:Object(o.k)(n)}}return null}shouldComponentUpdate(e,t){const n=this.props.userId,a=this.state,i=a.status,r=a.isAccent;return e.userId!==n||(t.status!==i||t.isAccent!==r)}componentDidMount(){c.a.on("updateUserStatus",this.onUpdateUserStatus)}componentWillUnmount(){c.a.off("updateUserStatus",this.onUpdateUserStatus)}render(){const e=this.state,t=e.status,n=e.isAccent;return i.a.createElement("div",{className:s()("user-content","dialog-content",{"user-status-accent":n})},t)}}t.a=l},function(e,t,n){"use strict";var a=n(22),i=n(29),r=n(1),s=n(162);class o extends i.a{constructor(){super(),this.reset=()=>{this.poll=null},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateClosePollResults":this.emit("clientUpdateClosePollResults",e);break;case"clientUpdateNewPoll":this.set({type:{"@type":"pollTypeRegular",allow_multiple_answers:!1},id:Date.now(),question:"",options:[],is_anonymous:!0}),this.emit("clientUpdateNewPoll",e);break;case"clientUpdatePollChangeAnonymous":{const t=this.poll,n=t&&t.is_anonymous;this.assign(this.poll,{is_anonymous:!n}),this.emit("clientUpdatePollChangeAnonymous",e);break}case"clientUpdatePollChangeAllowMultipleAnswers":{const t=this.poll,n=t.type;if("pollTypeRegular"===n["@type"]){const e=t&&t.type.allow_multiple_answers,i=Object(a.a)(Object(a.a)({},n),{},{allow_multiple_answers:!e});this.assign(this.poll,{type:i})}this.emit("clientUpdatePollChangeAllowMultipleAnswers",e);break}case"clientUpdatePollChangeType":if("pollTypeRegular"===this.poll.type["@type"]){const e={"@type":"pollTypeQuiz",correct_option_id:-1};this.assign(this.poll,{type:e})}else{const e={"@type":"pollTypeRegular",allow_multiple_answers:!1};this.assign(this.poll,{type:e})}this.emit("clientUpdatePollChangeType",e);break;case"clientUpdatePollChooseOption":{const t=e.id,n=this.poll.options;this.assign(this.poll,{options:n.map(e=>e.id===t?Object(a.a)(Object(a.a)({},e),{},{is_chosen:!0}):Object(a.a)(Object(a.a)({},e),{},{is_chosen:!1}))}),this.emit("clientUpdatePollChooseOption",e);break}case"clientUpdatePollQuestion":{const t=e.question;this.assign(this.poll,{question:t}),this.emit("clientUpdatePollQuestion",e);break}case"clientUpdatePollOption":{const t=e.id,n=e.text,i=this.poll.options;this.assign(this.poll,{options:i.map(e=>e.id===t?Object(a.a)(Object(a.a)({},e),{},{text:n}):Object(a.a)({},e))}),this.emit("clientUpdatePollOption",e);break}case"clientUpdateNewPollOption":{const t=e.option,n=this.poll.options;this.assign(this.poll,{options:[...n,t]}),this.emit("clientUpdateNewPollOption",e);break}case"clientUpdateDeletePollOption":{const t=e.id,n=this.poll.options;this.assign(this.poll,{options:n.filter(e=>e.id!==t)}),this.emit("clientUpdateDeletePollOption",e);break}case"clientUpdateDeletePoll":this.set(null),this.emit("clientUpdateDeletePoll",e)}},this.addTdLibListener=()=>{r.a.on("update",this.onUpdate),r.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{r.a.off("update",this.onUpdate),r.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}assign(e,t){this.set(Object.assign({},e,t))}set(e){this.poll=e}getInputMessagePoll(){if(!this.poll)return null;if(!Object(s.b)(this.poll))return null;const e=this.poll,t=e.question,n=e.options,a=e.type,i=e.is_anonymous;return"pollTypeQuiz"===a["@type"]&&(a.correct_option_id=n.findIndex(e=>e.is_chosen),-1===a.correct_option_id)?null:{"@type":"inputMessagePoll",question:t,options:n.filter(e=>Boolean(e.text)).map(e=>e.text),is_anonymous:i,type:a,is_closed:!1}}}const c=new o;window.poll=c,t.a=c},,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(172),s=n(407);class o{constructor(e){this.fireworks=e,this.type=0,this.colorType=0,this.side=0,this.typeSize=4,this.xFinished=!1,this.finishedStart=!1,this.x=0,this.y=0,this.rotation=0,this.moveX=0,this.moveY=0}draw(e){e.fillStyle=this.colorType,0===this.type?(e.beginPath(),e.arc(this.x,this.y,this.typeSize,0,2*Math.PI,!1),e.fill()):(e.save(),e.translate(this.x,this.y),e.rotate(this.rotation*Math.PI/180),function(e,t,n,a,i,r,s,o){if("undefined"===typeof o&&(o=!0),"undefined"===typeof r&&(r=5),"number"===typeof r)r={tl:r,tr:r,br:r,bl:r};else{var c={tl:0,tr:0,br:0,bl:0};for(var l in c)r[l]=r[l]||c[l]}e.beginPath(),e.moveTo(t+r.tl,n),e.lineTo(t+a-r.tr,n),e.quadraticCurveTo(t+a,n,t+a,n+r.tr),e.lineTo(t+a,n+i-r.br),e.quadraticCurveTo(t+a,n+i,t+a-r.br,n+i),e.lineTo(t+r.bl,n+i),e.quadraticCurveTo(t,n+i,t,n+i-r.bl),e.lineTo(t,n+r.tl),e.quadraticCurveTo(t,n,t+r.tl,n),e.closePath(),s&&e.fill(),o&&e.stroke()}(e,-this.typeSize,-2,2*this.typeSize,4,2,!0,!1),e.restore())}update(e){const t=e/16;if(this.x+=this.moveX*t,this.y+=this.moveY*t,0!==this.xFinished){const e=.5;1===this.xFinished?(this.moveX+=e*t*.05,this.moveX>=e&&(this.xFinished=2)):(this.moveX-=e*t*.05,this.moveX<=-e&&(this.xFinished=1))}else 0===this.side?this.moveX>0&&(this.moveX-=.05*t,this.moveX<=0&&(this.moveX=0,this.xFinished=this.finishedStart)):this.moveX<0&&(this.moveX+=.05*t,this.moveX>=0&&(this.moveX=0,this.xFinished=this.finishedStart));const n=this.moveY<-.5;return this.moveY>-.5?this.moveY+=1/3*t*this.fireworks.speedCoef:this.moveY+=1/3*t,n&&this.moveY>-.5&&this.fireworks.fallingDownCount++,1===this.type&&(this.rotation+=10*t,this.rotation>360&&(this.rotation-=360)),this.y>=this.fireworks.getMeasuredHeight()}}function c(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}class l{constructor(e){this.context=e,this.particlesCount=60,this.fallParticlesCount=30,this.particles=[],this.speedCoef=1,this.fallingDownCount=0}getMeasuredHeight(){return this.context.canvas.clientHeight}getMeasuredWidth(){return this.context.canvas.clientWidth}createParticle(e){const t=new o(this);if(t.colorType=l.colors[c(0,l.colors.length)],t.type=c(0,2),t.side=c(0,2),t.finishedStart=1+c(0,2),0===t.type?t.typeSize=4+2*Math.random():t.typeSize=4+4*Math.random(),e)t.y=-Math.random()*this.getMeasuredHeight()*1.2,t.x=5+c(0,this.getMeasuredWidth()-10),t.xFinished=t.finishedStart;else{const e=4+c(0,10),n=this.getMeasuredHeight()/4;0===t.side?t.x=-e:t.x=this.getMeasuredWidth()+e,t.rotation=360*Math.random(),t.moveX=(0===t.side?1:-1)*(1.2+4*Math.random()),t.moveY=-(4+4*Math.random()),t.y=n/2+c(0,2*n)}return t}start(){if(!this.started){this.particles=[],this.started=!0,this.startedFall=!1,this.fallingDownCount=0,this.speedCoef=1,this.lastUpdateTime=0;for(let e=0;e<this.particlesCount;e++)this.particles.push(this.createParticle(!1));this.draw()}}startFall(){if(!this.startedFall){this.startedFall=!0;for(let e=0;e<this.fallParticlesCount;e++)this.particles.push(this.createParticle(!0))}}draw(){const e=Date.now();let t=e-this.lastUpdateTime;this.lastUpdateTime=e,t>18&&(t=16),this.context.clearRect(0,0,this.getMeasuredWidth(),this.getMeasuredHeight());for(let n=0,a=this.particles.length;n<a;n++){const e=this.particles[n];e.draw(this.context),e.update(t)&&(this.particles.splice(n,1),n--,a--)}this.fallingDownCount>=this.particlesCount/2&&this.speedCoef>.2&&(this.startFall(),this.speedCoef-=t/16*.15,this.speedCoef<.2&&(this.speedCoef=.2)),this.particles.length?window.requestAnimationFrame(()=>this.draw()):(this.started=!1,this.context.clearRect(0,0,this.getMeasuredWidth(),this.getMeasuredHeight()))}}l.colors=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"];class u extends i.a.Component{constructor(e){super(e),this.onResize=()=>{const e=this.canvasRef.current;e&&(e.setAttribute("width",this.parentNode.clientWidth+18),e.setAttribute("height",this.parentNode.clientHeight+12))},this.canvasRef=i.a.createRef()}componentDidMount(){this.attachToParent()}componentWillUnmount(){this.detachFromParent()}attachToParent(){const e=this.canvasRef.current;if(!e)return;const t=e.parentNode;t&&(this.parentNode=t,e.setAttribute("width",this.parentNode.clientWidth+18),e.setAttribute("height",this.parentNode.clientHeight+12),window.addEventListener("resize",this.onResize))}detachFromParent(){const e=this.canvasRef.current;if(!e)return;e.parentNode&&(this.parentNode=null,window.removeEventListener("resize",this.onResize))}start(){const e=this.canvasRef.current.getContext("2d");new l(e).start()}render(){return i.a.createElement("canvas",{ref:this.canvasRef,style:{zIndex:2,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none"}})}}var d=u,p=n(18),h=n.n(p),m=n(408),f=n(207),g=n(125),b=n(420),y=n(246),k=n(235),v=n.n(k);n(289);class w extends i.a.Component{render(){const e=this.props,t=e.chosen,n=e.beingChosen,a=e.hidden,r=e.onChange;return i.a.createElement("div",{className:h()("poll-radio",{"poll-radio-hidden":a})},i.a.createElement(b.a,{color:"primary",classes:{root:"poll-radio-root",colorPrimary:"message-control",disabled:"message-control-disabled"},TouchRippleProps:{classes:{child:"touch-ripple-current-color"}},checked:t||n,onChange:r,checkedIcon:i.a.createElement(v.a,{classes:{root:n?"poll-radio-icon":null}})}),n&&i.a.createElement(y.a,{size:20,thickness:4.4,classes:{root:"poll-radio-progress-root",colorPrimary:"message-control"}}))}}var C=w,S=n(5);n(290);class U extends i.a.Component{constructor(e){super(e),this.updateAnimation=()=>{this.stopAnimation(),this.handle=requestAnimationFrame(this.onAnimationFrame)},this.stopAnimation=()=>{this.handle&&(cancelAnimationFrame(this.handle),this.handle=null)},this.onAnimationFrame=()=>{const e=this.state,t=e.startTime,n=e.from,a=e.to,i=Date.now()-t;if(i>=S.b)this.setState({animated:a}),this.stopAnimation();else{const e=n+Math.floor((a-n)*i/S.b);this.setState({animated:e}),this.handle=requestAnimationFrame(this.onAnimationFrame)}},this.handle=null;const t=e.value;this.state={from:t,to:t,animated:t,prevPropsValue:t}}shouldComponentUpdate(e,t,n){const a=this.props,i=a.closed,r=a.theme,s=a.value,o=this.state.animated;return i!==e.closed||(r!==e.theme||(s!==e.value||o!==t.animated))}static getDerivedStateFromProps(e,t){return e.value!==t.prevPropsValue?{startTime:Date.now(),from:t.animated,to:e.value,prevPropsValue:e.value}:null}componentDidUpdate(e,t,n){e.value!==this.props.value&&this.updateAnimation()}componentWillUnmount(){this.stopAnimation()}render(){const e=this.props,t=(e.chosen,e.closed,e.onClick,this.state.animated);return i.a.createElement("div",{className:"poll-percentage"},i.a.createElement(i.a.Fragment,null,t+"%"))}}var _=U;n(291);class E extends i.a.Component{constructor(...e){super(...e),this.getTitleString=(e,t=(e=>e))=>this.props.canBeSelected?null:e?1===e?"1 vote":e+" votes":t("NoVotes").toLowerCase(),this.handleClick=e=>{const t=this.props,n=t.canBeSelected,a=t.onVote;n&&(e.stopPropagation(),a())}}render(){const e=this.props,t=e.option,n=e.onChange,a=e.canBeSelected,r=e.closed,s=e.maxVoterCount,o=e.t,c=e.type,l=e.isCorrect;if(!t)return null;const u=t.text,d=t.voter_count,p=t.vote_percentage,b=t.is_chosen,y=t.isMultiChoosen,k=t.is_being_chosen;let v=1.5;return d&&(v=d/s*100),i.a.createElement("div",{className:"poll-option",onClick:this.handleClick},i.a.createElement("div",{className:h()("poll-option-wrapper",a?"poll-option-unselected":"poll-option-selected")},i.a.createElement("div",{className:"poll-option-text-wrapper",title:this.getTitleString(d,o)},i.a.createElement(_,{value:p,chosen:b,closed:r}),i.a.createElement(C,{hidden:!a,chosen:b||y,beingChosen:k,onChange:n}),(b||l)&&i.a.createElement("div",{className:h()("poll-option-mark",{"poll-option-mark-correct":"correct"===c},{"poll-option-mark-incorrect":"incorrect"===c})},"incorrect"===c?i.a.createElement(g.a,{className:"poll-option-mark-icon"}):i.a.createElement(f.a,{className:"poll-option-mark-icon"})),i.a.createElement("div",{className:"poll-option-text"},u))),i.a.createElement(m.a,{classes:{root:"poll-option-progress-root",bar:h()("poll-option-progress-bar",{"poll-option-progress-bar-correct":"correct"===c},{"poll-option-progress-bar-incorrect":"incorrect"===c})},color:"primary",variant:"determinate",value:a?0:Math.max(1.5,v)}))}}var x=Object(r.a)()(E),T=n(95),M=n(164),P=n(17),I=n(1),A=(n(293),n(422)),O=n(403),N=n(404),j=n(6),F=n.n(j),B=n(11),D=n(409),L=n(176);n(297),n(165);class R extends i.a.Component{render(){const e=this.props,t=e.index,n=e.showStatus,a="".concat(20+10*Math.sin(t),"%"),r="".concat(30+10*Math.cos(t),"%");return i.a.createElement("div",{className:"user-placeholder"},i.a.createElement("div",{className:"user-wrapper"},i.a.createElement("div",{className:"user-placeholder-tile"}),i.a.createElement("div",{className:"user-placeholder-inner-wrapper"},i.a.createElement("div",{className:"tile-first-row"},i.a.createElement("div",{className:"dialog-placeholder-title",style:{width:a}}),i.a.createElement("div",{className:"dialog-placeholder-title",style:{width:r,marginLeft:8}})),n&&i.a.createElement("div",{className:"tile-second-row"},i.a.createElement("div",{className:"dialog-placeholder-content",style:{width:r}})))))}}R.defaultProps={showStatus:!0};var V=R,z=n(27);n(298);class W extends i.a.Component{constructor(...e){super(...e),this.onClick=()=>{const e=this.props.userId;e&&(Object(z.m)(e,!0),setTimeout(()=>{I.a.clientUpdate({"@type":"clientUpdateClosePollResults"})},0))}}render(){const e=this.props,t=e.index,n=e.userId,a=n?i.a.createElement(L.a,{userId:n,showStatus:!1}):i.a.createElement(V,{index:t,showStatus:!1});return i.a.createElement(D.a,{button:!0,className:"user-list-item",onClick:this.onClick},a)}}var H=W,Y=n(10),G=n(2);n(19),n(299);class Q extends i.a.Component{constructor(e){super(e),this.handleShowMore=()=>{const e=this.props.option,t=this.state.count,n=t,a=Math.min(e.voter_count,t+S.nb);this.setState({offset:n,count:a},()=>{this.updateVoters(n,a,!0)})},this.handleCollapse=e=>{e.preventDefault(),e.stopPropagation();const t=this.props.option,n=t&&t.voter_count<=S.lb?t.voter_count:S.lb-S.mb;this.setState({voters:this.state.voters.slice(0,n),offset:0,count:n})};const t=this.props.option,n=t&&t.voter_count<=S.lb?t.voter_count:S.lb-S.mb;this.state={voters:[],offset:0,count:n}}updateVoters(e,t,n){var a=this;return Object(B.a)(F.a.mark((function i(){var r,s,o,c,l,u,d,p,h;return F.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=a.props,s=r.chatId,o=r.messageId,c=r.optionId,l=r.option,u=a.state.voters,!(t<=0)){i.next=4;break}return i.abrupt("return");case 4:return d=t-e,i.next=7,I.a.send({"@type":"getPollVoters",chat_id:s,message_id:o,option_id:c,offset:e,limit:d});case 7:if(p=i.sent,a.props.option===l){i.next=10;break}return i.abrupt("return");case 10:h=G.a.getStore(),Object(Y.K)(h,p.user_ids),a.setState({voters:[...u,...p.user_ids]},Object(B.a)(F.a.mark((function i(){var r;return F.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:p.user_ids.length<d&&n&&(r=e+p.user_ids.length,a.updateVoters(r,t,!1));case 1:case"end":return i.stop()}}),i)}))));case 13:case"end":return i.stop()}}),i)})))()}componentDidMount(){const e=this.state,t=e.offset,n=e.count;this.updateVoters(t,n,!0)}render(){const e=this.props,t=e.option,n=e.isQuiz,a=e.t,r=this.state,o=r.voters,c=r.count,l=t.text,u=t.voter_count,d=t.vote_percentage;if(0===u)return null;const p=[];for(let s=0;s<c;s++){const e=s<o.length?o[s]:null;p.push(i.a.createElement(H,{key:"".concat(s,"_userId=").concat(e),index:s,userId:e}))}const h="".concat(u,n?1!==u?" answers":" answer":1!==u?" votes":" vote");let m=null;const f=u-c;if(f>0){const e="".concat(f,n?1!==f?" answers":" answer":1!==f?" votes":" vote");m=i.a.createElement(s.a,{classes:{root:"poll-option-results-button"},color:"primary",fullWidth:!0,onClick:this.handleShowMore},a("ShowVotesOT").replace("%1$d",e))}const g=c>S.lb-S.mb&&u>S.lb;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"poll-option-results-caption"},i.a.createElement("div",{className:"poll-option-results-answer"},"".concat(l," \u2014 ").concat(d,"%")),g?i.a.createElement("a",{onClick:this.handleCollapse},a("PollCollapse")):i.a.createElement("div",{className:"poll-option-results-count"},h)),p,m)}}var q=Object(r.a)()(Q),K=n(166),J=n(73);n(300);class Z extends i.a.Component{constructor(...e){super(...e),this.onClientUpdateClosePollResults=e=>{(0,this.props.onClose)()},this.handleClose=e=>{e.preventDefault(),e.stopPropagation();(0,this.props.onClose)()},this.handleClick=e=>{e.preventDefault(),e.stopPropagation()},this.handleContextMenu=e=>{e.preventDefault(),e.stopPropagation()}}componentDidMount(){K.a.on("clientUpdateClosePollResults",this.onClientUpdateClosePollResults)}componentWillUnmount(){K.a.off("clientUpdateClosePollResults",this.onClientUpdateClosePollResults)}render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.poll,r=e.t;if(!a)return;const s=a.options,o=a.type,c=a.question,l=o&&"pollTypeQuiz"===o["@type"];return i.a.createElement(A.a,{classes:{root:"chat-info-dialog-root",container:"chat-info-dialog-container",paper:"chat-info-dialog-paper"},manager:J.a,transitionDuration:0,open:!0,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onClose:this.handleClose,"aria-labelledby":"poll-results-title"},i.a.createElement(O.a,{id:"poll-results-title"},r(l?"QuizAnswers":"PollResults")),i.a.createElement(N.a,{classes:{root:"poll-results-content"}},i.a.createElement("div",{className:"poll-results-question"},c),s.map((e,a)=>i.a.createElement(q,{key:a,isQuiz:l,chatId:t,messageId:n,optionId:a,option:e}))))}}var X=Object(r.a)()(Z);class $ extends i.a.Component{constructor(e){super(e),this.getTotalVoterCountString=(e,t=(e=>e))=>e?1===e?"1 answer":e+" answers":t("NoVotes"),this.handleSubmit=e=>{e.preventDefault(),e.stopPropagation();const t=this.props,n=t.chatId,a=t.messageId,i=t.poll;if(!i)return;const r=i.type;if(!r)return;if(this.viewResults(i))return;if(!r.allow_multiple_answers)return;const s=[];i.options.forEach((e,t)=>{e.isMultiChoosen&&s.push(t)}),s.length&&Object(M.b)(n,a,s)},this.handleVote=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.poll;if(!i)return;const r=i.type;r&&("pollTypeRegular"===r["@type"]&&r.allow_multiple_answers?(i.options[e].isMultiChoosen=!i.options[e].isMultiChoosen,this.forceUpdate()):Object(M.b)(n,a,[e]))},this.handleOpenResults=e=>{e.preventDefault(),e.stopPropagation();const t=this.props.poll;this.setState({viewResultsPoll:t})},this.handleCloseResults=()=>{this.setState({viewResultsPoll:null})},this.fireworksRef=i.a.createRef(),this.state={}}componentDidUpdate(e,t,n){const a=this.props,i=a.chatId,r=a.messageId,s=a.poll;if(s&&"pollTypeQuiz"===s.type["@type"]){if(-1===e.poll.type.correct_option_id&&-1!==s.type.correct_option_id){const e=this.fireworksRef.current;if(!e)return;s.options[s.type.correct_option_id].is_chosen?e.start():I.a.clientUpdate({"@type":"clientUpdateMessageShake",chatId:i,messageId:r})}}}viewResults(e){if(!e)return!1;const t=e.options,n=e.is_closed;return!e.is_anonymous&&(n||t.some(e=>e.is_chosen))}getOptionType(e,t){const n=["regular","correct","incorrect"];if(!t)return n[0];const a=t.options[e];if(!a)return n[0];if(!a.is_chosen)return n[0];const i=t.type;if(!i)return n[0];if("pollTypeQuiz"!==i["@type"])return n[0];const r=i.correct_option_id;return-1===r?n[0]:r===e?n[1]:n[2]}getOptionIsCorrect(e,t){if(!t)return!1;if(!t.options[e])return!1;const n=t.type;if(!n)return!1;if("pollTypeQuiz"!==n["@type"])return!1;const a=n.correct_option_id;return-1!==a&&a===e}render(){const e=this.props,t=e.chatId,n=e.messageId,a=e.poll,r=e.t,o=e.meta,c=this.state.viewResultsPoll,l=a.question,u=a.options,p=a.total_voter_count,h=a.type,m=a.is_closed,f=a.is_anonymous,g=a.recent_voter_user_ids;let b=r("FinalResults");if(!m)switch(h["@type"]){case"pollTypeRegular":b=r(f?"AnonymousPoll":"PublicPoll");break;case"pollTypeQuiz":b=r(f?"AnonymousQuizPoll":"QuizPoll")}if(!P.a.get(t,n))return null;const y=h&&"pollTypeQuiz"===h["@type"],k=!m&&u.every(e=>!e.is_chosen),v=!m&&u.some(e=>e.is_chosen),w=Math.max(...u.map(e=>e.voter_count)),C=this.viewResults(a),S=h.allow_multiple_answers&&!v||C,U=C||u.some(e=>e.isMultiChoosen);let _=[];return g&&(_=g.map(e=>i.a.createElement(T.a,{key:e,poll:!0,userId:e}))),i.a.createElement("div",{className:"poll"},y&&i.a.createElement(d,{ref:this.fireworksRef}),i.a.createElement("div",{className:"poll-question"},i.a.createElement("div",{className:"poll-question-title"},l),i.a.createElement("div",{className:"poll-question-subtitle"},i.a.createElement("span",{style:{marginRight:6}},b),_)),i.a.createElement("div",{className:"poll-options"},u.map((e,t)=>i.a.createElement(x,{key:t,type:this.getOptionType(t,a),isCorrect:this.getOptionIsCorrect(t,a),option:e,canBeSelected:k,closed:m,maxVoterCount:w,onVote:()=>this.handleVote(t)}))),S?i.a.createElement(s.a,{fullWidth:!0,color:"primary",classes:{root:"poll-button",textPrimary:"message-control",disabled:"message-control-disabled"},TouchRippleProps:{classes:{child:"touch-ripple-current-color"}},disabled:!U,onClick:C?this.handleOpenResults:this.handleSubmit},r(C?"PollViewResults":"PollSubmitVotes")):i.a.createElement("div",{className:"poll-total-count"},this.getTotalVoterCountString(p,r),o),Boolean(c)&&i.a.createElement(X,{chatId:t,messageId:n,poll:c,onClose:this.handleCloseResults}))}}t.a=Object(r.a)()($)},,,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return k})),n.d(t,"d",(function(){return v})),n.d(t,"k",(function(){return w})),n.d(t,"j",(function(){return C}));var a=n(6),i=n.n(a),r=n(11),s=n(13),o=n(27),c=n(1);function l(e,t,n){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(i.a.mark((function e(t,n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.a)(),e.next=3,s.a.invokeScheduledAction("clientUpdateClearHistory chatId=".concat(t));case 3:return e.abrupt("return",c.a.send({"@type":"sendBotStartMessage",bot_user_id:n,chat_id:t,parameter:a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){c.a.clientUpdate({"@type":"clientUpdateRequestBlockSender",sender:e})}function p(e){m(e,!0)}function h(e){m(e,!1)}function m(e,t){c.a.send({"@type":"toggleMessageSenderIsBlocked",sender:e,is_blocked:t})}function f(e){c.a.clientUpdate({"@type":"clientUpdateChatSelect",options:e})}function g(){c.a.clientUpdate({"@type":"clientUpdateChatSelect",options:null})}function b(e,t){c.a.clientUpdate({"@type":"clientUpdateStartMessageEditing",chatId:e,messageId:t})}function y(e,t){c.a.clientUpdate({"@type":"clientUpdateStopMessageEditing",chatId:e,messageId:t})}function k(e,t,n){c.a.send({"@type":"viewMessages",chat_id:e,message_ids:t,force_read:n})}function v(e,t,n=!1,a=!1){c.a.send({"@type":"pinChatMessage",chat_id:e,message_id:t,disable_notification:n,only_for_self:a})}function w(e,t){return c.a.send({"@type":"unpinChatMessage",chat_id:e,message_id:t})}function C(e){return c.a.send({"@type":"unpinAllChatMessages",chat_id:e})}},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(165),s=n(95),o=n(172),c=n(25),l=n(19);n(295);class u extends i.a.Component{constructor(...e){super(...e),this.state={},this.onUpdateUser=e=>{const t=this.props,n=t.userId,a=t.t;n===e.user.id&&this.setState({fullName:Object(c.c)(n,null,a)})}}static getDerivedStateFromProps(e,t){if(e.userId!==t.prevUserId){const t=e.userId,n=e.t;return{prevUserId:t,fullName:Object(c.c)(t,null,n)}}return null}shouldComponentUpdate(e,t){const n=this.props.userId,a=this.state.fullName;return e.userId!==n||t.fullName!==a}componentDidMount(){l.a.on("updateUser",this.onUpdateUser)}componentWillUnmount(){l.a.off("updateUser",this.onUpdateUser)}render(){const e=this.state.fullName;return i.a.createElement("div",{className:"user-title"},e)}}var d=Object(o.a)()(u);n(296);class p extends i.a.Component{constructor(e){super(e),this.handleClick=()=>{const e=this.props,t=e.userId,n=e.onSelect;n&&n(t)},this.state={user:l.a.get(e.userId)}}shouldComponentUpdate(e,t){return e.userId!==this.props.userId}render(){const e=this.props,t=e.userId,n=e.showStatus,a=e.showUsername,o=l.a.get(t);if(!o)return console.error("[user] can't find",t),null;const c=o.username;return i.a.createElement("div",{className:"user",onClick:this.handleClick},i.a.createElement("div",{className:"user-wrapper"},i.a.createElement(s.a,{userId:t}),i.a.createElement("div",{className:"user-inner-wrapper"},i.a.createElement("div",{className:"tile-first-row"},i.a.createElement(d,{userId:t})),n&&i.a.createElement("div",{className:"tile-second-row"},c&&a?i.a.createElement("div",{className:"user-content dialog-content"},"@"+c):i.a.createElement(r.a,{userId:t})))))}}p.defaultProps={showStatus:!0,showUsername:!1};t.a=p},function(e,t,n){"use strict";var a=n(29),i=n(1);n(162);class r extends a.a{constructor(){super(),this.reset=()=>{this.chatList={"@type":"chatListMain"},this.filters=null},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateChatFilters":{const t=e.chat_filters;this.filters=t,this.emit("updateChatFilters",e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateChatList":{const t=e.chatList;this.chatList=t,this.emit("clientUpdateChatList",e);break}}},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}}const s=new r;window.filter=s,t.a=s},,,function(e,t,n){"use strict";var a=n(22),i=n(6),r=n.n(i),s=n(11),o=n(0),c=n.n(o),l=n(18),u=n.n(l),d=n(248),p=n(214),h=n.n(p),m=n(215),f=n.n(m),g=n(216),b=n.n(g),y=n(121),k=n.n(y),v=n(238),w=n.n(v),C=n(211),S=n(83),U=n(109),_=n(212),E=n(213),x=n(12),T=n(5),M=n(2),P=n(16),I=n(1);n(315);class A extends c.a.Component{constructor(e){var t;super(e),t=this,this.onKeyDown=e=>{const t=e.key,n=e.code,a=e.altKey,i=e.ctrlKey,r=e.metaKey,s=e.shiftKey,o=this.videoRef.current;if(!o)return;let c=!1;switch(n){case"ArrowLeft":a||i||r||s||(this.handleSeek(o.currentTime-T.Y),c=!0);break;case"KeyJ":a||i||r||s||(this.handleSeek(o.currentTime-T.X),c=!0);break;case"ArrowRight":a||i||r||s||(this.handleSeek(o.currentTime+T.Y),c=!0);break;case"KeyL":a||i||r||s||(this.handleSeek(o.currentTime+T.X),c=!0);break;case"ArrowUp":a||i||r||s||(this.handleVolume(o.volume+T.db),c=!0);break;case"ArrowDown":a||i||r||s||(this.handleVolume(o.volume-T.db),c=!0);break;case"Space":case"KeyK":a||i||r||s||(this.handleClick(),c=!0);break;case"KeyM":a||i||r||s||(this.handleMute(),c=!0);break;case"KeyF":a||i||r||s||(this.handleFullScreen(),c=!0);break;case"KeyI":a||i||r||s||(this.handlePictureInPicture(),c=!0);break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":if(!a&&!i&&!r&&!s){const e=new Number(t.replace("Digit",""))/10;this.handleSeekProgress(e),c=!0}break;case"Home":a||i||r||s||(this.handleSeek(0),c=!0);break;case"End":a||i||r||s||(this.handleSeek(o.duration-1),c=!0);break;case"Comma":a||i||r||!s||(this.handlePlaybackRate(o.playbackRate-T.T),c=!0);break;case"Period":a||i||r||!s||(this.handlePlaybackRate(o.playbackRate+T.T),c=!0)}c&&(e.stopPropagation(),e.preventDefault())},this.handleVolume=e=>{const t=this.videoRef.current;t&&(e=Object(x.d)(e,T.bb,T.ab),t.volume=e,this.showMediaHint("".concat(Math.round(100*t.volume),"%")))},this.handlePlaybackRate=e=>{const t=this.videoRef.current;t&&(e=Object(x.d)(e,T.R,T.Q),t.playbackRate=e,this.showMediaHint("".concat(e,"x")))},this.handleSeekProgress=e=>{const t=this.videoRef.current;t&&this.handleSeek(e*t.duration)},this.handleSeek=e=>{const t=this.videoRef.current;t&&(e=Object(x.d)(e,0,t.duration||0),t.currentTime=e,this.setState({currentTime:e}))},this.onClientUpdateMediaShortcut=e=>{const t=e.event;t&&this.onKeyDown(t)},this.handleClick=()=>{this.startStopPlayer()},this.startStopPlayer=()=>{const e=this.videoRef.current;if(!e)return;this.state.waiting?this.setState({play:!this.state.play,hidden:!1}):e.paused?e.play():e.pause()},this.handlePlay=e=>{const t=this.props.onPlay;this.setState({play:!0,hidden:!0}),I.a.clientUpdate({"@type":"clientUpdateMediaViewerPlay"}),t&&t(e)},this.handlePause=e=>{const t=this.props.onPause;this.setState({play:!1,hidden:!1}),I.a.clientUpdate({"@type":"clientUpdateMediaViewerPause"}),t&&t(e)},this.handleEnded=e=>{const t=this.props.onEnded;I.a.clientUpdate({"@type":"clientUpdateMediaViewerEnded"}),t&&t(e);const n=this.videoRef.current;this.setCurrentTime({currentTime:0,duration:n.duration})},this.handleTimeUpdate=()=>{const e=this.videoRef.current;if(!e)return;const t=this.props.fileId,n=e.currentTime,a=e.duration,i=e.volume,r=e.buffered;this.setState({duration:a,currentTime:n,volume:i,buffered:r}),I.a.clientUpdate({"@type":"clientUpdateMediaViewerTimeUpdate",fileId:t,currentTime:n,duration:a,volume:i,buffered:r}),this.setCurrentTime({currentTime:n,duration:a})},this.handleLoadedData=()=>{this.videoRef.current},this.handleLoadedMetadata=()=>{const e=this.videoRef.current;if(!e)return;const t=this.state.currentTime,n=e.duration,a=e.volume,i=e.buffered;this.setState({duration:n,volume:a,waiting:!0,buffered:i},()=>{t&&(e.currentTime=t)})},this.handleMouseDown=e=>{e.stopPropagation();const t=this.videoRef.current;t&&this.setState({dragging:!0,draggingTime:t.currentTime})},this.handleChange=(e,t)=>{const n=this.videoRef.current;n&&this.setState({draggingTime:t*n.duration})},this.handleChangeCommitted=()=>{const e=this.state,t=e.dragging,n=e.draggingTime;t&&this.setState({dragging:!1,currentTime:n,draggingTime:0},()=>{const e=this.videoRef.current;e&&Number.isFinite(n)&&(e.currentTime=n)})},this.handleFullScreen=e=>{e&&e.stopPropagation();const t=this.contentRef.current;if(!t)return;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?this.exitFullscreen():this.requestFullscreen(t)},this.handleClickRoot=e=>{e.stopPropagation();this.mouseDownRoot&&(this.mouseDownRoot=!1,this.startStopPlayer())},this.handleMouseDownRoot=e=>{this.mouseDownRoot=!0,e.stopPropagation()},this.handleVolumeChange=e=>{const t=this.props.onVolumeChange,n=this.videoRef.current;if(!n)return;const a=n.volume;this.setState({volume:a}),I.a.clientUpdate({"@type":"clientUpdateMediaVolume",volume:a}),t&&t(e)},this.handleVolumeSliderChange=(e,t)=>{t!==this.state.volume&&this.setState({volume:t},()=>{const e=this.videoRef.current;e&&(e.volume=t)})},this.handleVolumeSliderChangeCommitted=e=>{this.videoRef.current&&document.activeElement.blur()},this.handleMute=()=>{const e=this.videoRef.current;e&&(0===e.volume?e.volume=this.prevVolume||.5:(this.prevVolume=e.volume,e.volume=0))},this.handleProgress=()=>{const e=this.videoRef.current;if(!e)return;const t=this.props.fileId,n=e.buffered;this.setState({buffered:n}),I.a.clientUpdate({"@type":"clientUpdateMediaViewerProgress",fileId:t,buffered:n})},this.handleWaiting=()=>{this.setState({waiting:!0})},this.handleCanPlay=e=>{const t=e.target;this.setState({waiting:!1},()=>{if(!t)return;this.state.play?t.play():t.pause()})},this.handlePictureInPicture=Object(s.a)(r.a.mark((function e(){var n,a,i,s,o,c,l,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.fileId,a=t.state,i=a.duration,s=a.currentTime,o=a.volume,c=a.play,l=a.buffered,u=a.waiting,d=t.videoRef.current){e.next=5;break}return e.abrupt("return");case 5:return I.a.clientUpdate({"@type":"clientUpdatePictureInPicture",videoInfo:{fileId:n,video:d,duration:i,currentTime:s,volume:o,play:c,buffered:l,waiting:u}}),e.abrupt("return");case 9:if(!(document.pictureInPictureElement||document.mozPictureInPictureElement||document.webkitPictureInPictureElement)){e.next=13;break}return t.exitPictureInPicture(),e.abrupt("return");case 13:return e.prev=13,e.next=16,t.requestPictureInPicture(d);case 16:e.sent,I.a.clientUpdate({"@type":"clientUpdateMediaViewerContent",content:null}),d.onpause=e=>{e.target.play(),e.target.onpause=null},d.addEventListener("leavepictureinpicture",t.handleLeavePictureInPicture),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(13);case 24:case"end":return e.stop()}}),e,null,[[13,22]])}))),this.handleLeavePictureInPicture=e=>{this.videoRef.current||(e.target.src=null),e.target.removeEventListener("leavepictureinpicture",this.handleLeavePictureInPicture)},this.handleDoubleClick=e=>{this.handleFullScreen(e)},this.handleVideoKeyDown=e=>{e.preventDefault()},this.handlePanelDoubleClick=e=>{e.preventDefault(),e.stopPropagation()},this.handlePanelEnter=()=>{this.panelEnter=!0},this.handlePanelLeave=()=>{this.panelEnter=!1},this.handleMouseOver=e=>{this.state.hidden&&this.setState({hidden:!1}),clearTimeout(this.mouseOverTimeout),this.mouseOverTimeout=setTimeout(()=>{this.panelEnter||this.state.play&&this.setState({hidden:!0})},1e3)},this.getCurrentTime=()=>{const e=this.props.fileId,t=M.a.get(e);if(!t)return{currentTime:0,duration:0};const n=t.remote;if(!n)return{currentTime:0,duration:0};const a=n.unique_id;return a?P.b.getCurrentTime(a):{currentTime:0,duration:0}},this.setCurrentTime=e=>{const t=this.props.fileId,n=M.a.get(t);if(!n)return;const a=n.remote;if(!a)return;const i=a.unique_id;i&&(e?P.b.setCurrentTime(i,e):P.b.clearCurrentTime(i))},this.rootRef=c.a.createRef(),this.contentRef=c.a.createRef(),this.videoRef=c.a.createRef();const n=this.getCurrentTime(),a=n.currentTime,i=n.duration;this.state={noPoster:a>0&&i>0,duration:i,currentTime:a,volume:P.b.volume,play:!0,dragging:!1,buffered:null,waiting:!0,hidden:!1}}componentDidMount(){P.b.on("clientUpdateMediaShortcut",this.onClientUpdateMediaShortcut);const e=this.videoRef.current;if(!e)return;const t=this.state.volume;e.volume=t}componentWillUnmount(){P.b.off("clientUpdateMediaShortcut",this.onClientUpdateMediaShortcut)}load(){const e=this.videoRef.current;e&&(e.load(),this.setState({duration:0,currentTime:0,play:!0,dragging:!1,buffered:null,waiting:!0}))}requestFullscreen(e){const t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen;t&&t.call(e)}exitFullscreen(){const e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen;e&&e.call(document)}showMediaHint(e){const t=this.props.fileId;I.a.clientUpdate({"@type":"clientUpdateMediaHint",fileId:t,text:e})}requestPictureInPicture(e){return Object(s.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.requestPictureInPicture||e.mozRequestPictureInPicture||e.webkitRequestPictureInPicture){t.next=3;break}return t.abrupt("return",null);case 3:return t.abrupt("return",n.call(e));case 4:case"end":return t.stop()}}),t)})))()}exitPictureInPicture(){const e=document.exitPictureInPicture||document.mozExitPictureInPicture||document.webkitExitPictureInPicture;e&&e.call(document)}render(){const e=this.props,t=e.children,n=e.src,i=e.className,r=e.style,s=e.width,o=e.height,l=e.poster,p=e.fileId,h=this.state,m=h.waiting,f=h.volume,g=h.duration,b=h.currentTime,y=h.play,k=h.dragging,v=h.draggingTime,M=h.buffered,P=h.hidden,I=h.noPoster,O=k?v:b,N=g>0?O/g:0,j=A.getBufferedTime(O,M),F=g>0?j/g:0,B=Object(x.g)(Math.floor(O)||0),D=Object(x.g)(Math.floor(g)||0),L=Object(a.a)(Object(a.a)({},r),{},{width:s,height:o}),R=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled;return c.a.createElement("div",{ref:this.rootRef,className:u()("player",i),onMouseDown:this.handleMouseDownRoot,onClick:this.handleClickRoot,onDoubleClick:this.handleDoubleClick,style:L},c.a.createElement("div",{ref:this.contentRef,className:u()("player-content",{"player-content-hidden":P}),onMouseMove:this.handleMouseOver},c.a.createElement("video",{className:"player-video",ref:this.videoRef,autoPlay:!1,controls:!1,playsInline:!0,src:n,poster:I?null:l,loop:g<=T.O,onLoadedMetadata:this.handleLoadedMetadata,onLoadedData:this.handleLoadedData,onCanPlay:this.handleCanPlay,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,onProgress:this.handleProgress,onWaiting:this.handleWaiting,onKeyDown:this.handleVideoKeyDown},t),c.a.createElement(_.a,{fileId:p}),c.a.createElement("div",{className:u()("player-panel",{"player-panel-hidden":P}),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onDoubleClick:this.handlePanelDoubleClick,onMouseEnter:this.handlePanelEnter,onMouseLeave:this.handlePanelLeave},c.a.createElement("div",{className:"player-slider"},c.a.createElement("span",{className:"player-slider-buffer-track",style:{width:100*F+"%"}}),c.a.createElement(d.a,{value:N,min:0,max:1,step:.001,classes:{root:"player-slider-root",rail:"player-slider-rail",track:"player-slider-track",thumb:"player-slider-thumb",active:"player-slider-active"},onChange:this.handleChange,onChangeCommitted:this.handleChangeCommitted,onMouseDown:this.handleMouseDown})),c.a.createElement("div",{className:"player-controls"},c.a.createElement("button",{className:"player-button",onClick:this.handleClick},y?c.a.createElement(U.a,null):c.a.createElement(S.a,null)),c.a.createElement("div",{className:"player-time"},"".concat(B," / ").concat(D)),c.a.createElement("div",{className:"player-volume"},c.a.createElement(d.a,{value:f,min:0,max:1,step:.001,classes:{root:"player-volume-root",rail:"player-volume-rail",track:"player-volume-track",thumb:"player-volume-thumb",active:"player-volume-active"},onChange:this.handleVolumeSliderChange,onChangeCommitted:this.handleVolumeSliderChangeCommitted})),c.a.createElement("button",{className:"player-button",onClick:this.handleMute},A.getVolumeIcon(f)),c.a.createElement("button",{className:"player-button",disabled:!1,onClick:this.handlePictureInPicture},c.a.createElement(w.a,null)),c.a.createElement("button",{className:"player-button",disabled:!R,onClick:this.handleFullScreen},c.a.createElement(C.a,null)))),c.a.createElement(E.a,{waiting:m})))}}A.getVolumeIcon=e=>0===e?c.a.createElement(k.a,{fontSize:"small"}):e<.25?c.a.createElement(h.a,{fontSize:"small"}):e<.5?c.a.createElement(f.a,{fontSize:"small"}):c.a.createElement(b.a,{fontSize:"small"}),A.getBufferedTime=(e,t)=>{if(!t||!t.length)return 0;for(let n=0;n<t.length;n++){const a=t.start(n),i=t.end(n);if(a<=e&&e<i)return i}return 0},t.a=A},,,,,,,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(82),c=n(30),l=Object(c.a)(i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("path",{d:"M6,0 L33.5147186,0 C35.1060176,6.45011102e-15 36.632141,0.632141042 37.7573593,1.75735931 L52.2426407,16.2426407 C53.367859,17.367859 54,18.8939824 54,20.4852814 L54,48 C54,51.3137085 51.3137085,54 48,54 L6,54 C2.6862915,54 4.05812251e-16,51.3137085 0,48 L0,6 C-4.05812251e-16,2.6862915 2.6862915,6.08718376e-16 6,0 Z"}),i.a.createElement("path",{d:"M33.5147186,0 C35.1060176,6.45011102e-15 36.632141,0.632141042 37.7573593,1.75735931 L52.2426407,16.2426407 C53.367859,17.367859 54,18.8939824 54,20.4852814 L54,22 C54,19.790861 52.209139,18 50,18 L40,18 C37.790861,18 36,16.209139 36,14 L36,4 C36,1.790861 34.209139,-3.88578059e-16 32,0 L33.5147186,0 Z",fill:"#000000",style:{mixBlendMode:"normal"},opacity:"0.15"})),"Document"),u=n(115),d=n(10),p=n(2);n(323);class h extends i.a.Component{constructor(e){super(e),this.onUpdateFile=e=>{const t=this.state.file,n=e.file;t&&t.id===n.id&&this.setState({file:n,prevFile:t})};const t=this.props.file;this.state={prevPropsFile:t,prevFile:null,file:p.a.get(t.id)||t}}componentDidMount(){p.a.on("updateFile",this.onUpdateFile)}componentWillUnmount(){p.a.off("updateFile",this.onUpdateFile)}static getDerivedStateFromProps(e,t){const n=e.file,a=t.prevPropsFile;return n&&a&&n.id!==a.id?{prevPropsFile:n,prevFile:null,file:p.a.get(n.id)||n}:null}shouldComponentUpdate(e,t){const n=this.props.theme,a=this.state,i=a.file,r=a.prevFile;return e.theme!==n||(t.file!==i||t.prevFile!==r)}render(){const e=this.props,t=e.date,n=e.meta,a=this.state.file;if(!a)return null;const r=a.local&&a.local.is_downloading_active,s=a.remote&&a.remote.is_uploading_active,o=Object(d.h)(a);let c=null;r?c=Object(d.f)(a):s&&(c=Object(d.n)(a));const l=c?"".concat(c,"/").concat(o):"".concat(o);return i.a.createElement("div",{className:"document-action"},i.a.createElement("span",null,l,t&&" \xb7 ".concat(t)),n)}}var m=h;n(324);class f extends i.a.Component{render(){const e=this.props,t=e.document,n=e.openMedia,a=e.width,r=e.height,c=e.meta,p=e.title,h=e.caption,f=e.date;if(!t)return null;const g=t.minithumbnail,b=t.thumbnail,y=t.file_name,k=t.document,v=a&&r?{width:a,height:r}:null;return i.a.createElement("div",{className:s()("document",{"media-title":p}),style:v},i.a.createElement(u.a,{minithumbnail:g,thumbnail:b,file:k,openMedia:n,icon:i.a.createElement(o.a,null),completeIcon:e=>e?null:i.a.createElement("div",{className:"document-tile-complete-icon"},i.a.createElement(l,{className:"document-tile-icon-fill",viewBox:"0 0 54 54"}),i.a.createElement("div",{className:"document-tile-file-ext"},Object(d.g)(y)))}),i.a.createElement("div",{className:"document-content"},i.a.createElement("div",{className:"document-title"},i.a.createElement("a",{className:"document-name",onClick:n,title:y,"data-name":y,"data-ext":"."+Object(d.g)(y)},y)),i.a.createElement(m,{file:k,meta:h?null:c,date:f})))}}t.a=f},,,,,,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(364),s=n(61),o=n(4);t.a=function(e){class t extends i.a.Component{render(){const t=o.a.i18n;return i.a.createElement(r.a,{i18n:t},i.a.createElement(e,this.props))}}return t.displayName="WithLanguage(".concat(Object(s.b)(e),")"),t}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(23),i=n(9),r=n(43),s=n(4);function o(e,t){if(!e)return null;let n=e.status,a=e.member_count,o=e.username,c=e.has_location;if(n){if("chatMemberStatusBanned"===n["@type"])return s.a.getString("YouWereKicked");if("chatMemberStatusLeft"===n["@type"])return s.a.getString("YouLeft");if("chatMemberStatusCreator"===n["@type"]&&!n.is_member)return s.a.getString("YouLeft")}if(!a){const t=r.a.getFullInfo(e.id);t&&(a=t.member_count)}if(a<=0)return c?s.a.getString("MegaLocation").toLowerCase():o?s.a.getString("MegaPublic").toLowerCase():s.a.getString("MegaPrivate").toLowerCase();if(a<=1)return s.a.formatPluralString("Members",a);const l=i.a.getOnlineMemberCount(t);return l>1?"".concat(s.a.formatPluralString("Members",a),", ").concat(s.a.formatPluralString("OnlineCount",l)):s.a.formatPluralString("Members",a)}function c(e){if(!i.a.get(e))return!1;const t=Object(a.M)(e);if(!t)return!1;const n=r.a.get(t);if(!n)return!1;const s=n.username;return Boolean(s)}},,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{d:"M4.70710678,12.2928932 C4.31658249,11.9023689 3.68341751,11.9023689 3.29289322,12.2928932 C2.90236893,12.6834175 2.90236893,13.3165825 3.29289322,13.7071068 L8.29289322,18.7071068 C8.68341751,19.0976311 9.31658249,19.0976311 9.70710678,18.7071068 L20.7071068,7.70710678 C21.0976311,7.31658249 21.0976311,6.68341751 20.7071068,6.29289322 C20.3165825,5.90236893 19.6834175,5.90236893 19.2928932,6.29289322 L9,16.5857864 L4.70710678,12.2928932 Z"}),"Check")},,function(e,t,n){"use strict";const a=new function(){this.utf16={decode:function(e){for(var t,n,a=[],i=0,r=e.length;i<r;){if(55296===(63488&(t=e.charCodeAt(i++)))){if(n=e.charCodeAt(i++),55296!==(64512&t)||56320!==(64512&n))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");t=((1023&t)<<10)+(1023&n)+65536}a.push(t)}return a},encode:function(e){for(var t,n=[],a=0,i=e.length;a<i;){if(55296===(63488&(t=e[a++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");t>65535&&(t-=65536,n.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),n.push(String.fromCharCode(t))}return n.join("")}};var e=2147483647;function t(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function n(e,t,n){var a;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),a=0;e>455;a+=36)e=Math.floor(e/35);return Math.floor(a+36*e/(e+38))}this.decode=function(t,a){var i,r,s,o,c,l,u,d,p,h,m,f,g,b,y=[],k=[],v=t.length;for(i=128,s=0,o=72,(c=t.lastIndexOf("-"))<0&&(c=0),l=0;l<c;++l){if(a&&(k[y.length]=t.charCodeAt(l)-65<26),t.charCodeAt(l)>=128)throw new RangeError("Illegal input >= 0x80");y.push(t.charCodeAt(l))}for(u=c>0?c+1:0;u<v;){for(d=s,p=1,h=36;;h+=36){if(u>=v)throw RangeError("punycode_bad_input(1)");if((m=(b=t.charCodeAt(u++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:36)>=36)throw RangeError("punycode_bad_input(2)");if(m>Math.floor((e-s)/p))throw RangeError("punycode_overflow(1)");if(s+=m*p,m<(f=h<=o?1:h>=o+26?26:h-o))break;if(p>Math.floor(e/(36-f)))throw RangeError("punycode_overflow(2)");p*=36-f}if(o=n(s-d,r=y.length+1,0===d),Math.floor(s/r)>e-i)throw RangeError("punycode_overflow(3)");i+=Math.floor(s/r),s%=r,a&&k.splice(s,0,t.charCodeAt(u-1)-65<26),y.splice(s,0,i),s++}if(a)for(s=0,g=y.length;s<g;s++)k[s]&&(y[s]=String.fromCharCode(y[s]).toUpperCase().charCodeAt(0));return this.utf16.encode(y)},this.encode=function(a,i){var r,s,o,c,l,u,d,p,h,m,f,g;i&&(g=this.utf16.decode(a));var b=(a=this.utf16.decode(a.toLowerCase())).length;if(i)for(u=0;u<b;u++)g[u]=a[u]!=g[u];var y,k,v=[];for(r=128,s=0,l=72,u=0;u<b;++u)a[u]<128&&v.push(String.fromCharCode(g?(y=a[u],k=g[u],(y-=(y-97<26)<<5)+((!k&&y-65<26)<<5)):a[u]));for(o=c=v.length,c>0&&v.push("-");o<b;){for(d=e,u=0;u<b;++u)(f=a[u])>=r&&f<d&&(d=f);if(d-r>Math.floor((e-s)/(o+1)))throw RangeError("punycode_overflow (1)");for(s+=(d-r)*(o+1),r=d,u=0;u<b;++u){if((f=a[u])<r&&++s>e)return Error("punycode_overflow(2)");if(f==r){for(p=s,h=36;!(p<(m=h<=l?1:h>=l+26?26:h-l));h+=36)v.push(String.fromCharCode(t(m+(p-m)%(36-m),0))),p=Math.floor((p-m)/(36-m));v.push(String.fromCharCode(t(p,i&&g[u]?1:0))),l=n(s,o+1,o==c),s=0,++o}}++s,++r}return v.join("")},this.ToASCII=function(e){for(var t=e.split("."),n=[],i=0;i<t.length;++i){var r=t[i];n.push(r.match(/[^A-Za-z0-9-]/)?"xn--"+a.encode(r):r)}return n.join(".")},this.ToUnicode=function(e){for(var t=e.split("."),n=[],i=0;i<t.length;++i){var r=t[i];n.push(r.match(/^xn--/)?a.decode(r.slice(4)):r)}return n.join(".")}};t.a=a},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(82),s=n(83),o=n(109),c=n(115),l=n(16),u=(n(312),n(31));class d extends i.a.Component{constructor(e){super(e),this.onClientUpdateMediaEnd=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(u.e)(n,a,i,r)&&this.setState({active:!1,playing:!1,currentTime:0})},this.onClientUpdateMediaPlay=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;this.setState({playing:Object(u.e)(n,a,i,r)})},this.onClientUpdateMediaPause=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(u.e)(n,a,i,r)&&this.setState({playing:!1})},this.onClientUpdateMediaActive=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(u.e)(n,a,i,r)?this.state.active||this.setState({active:!0,currentTime:0,playing:!0}):this.state.active&&this.setState({active:!1,currentTime:0,playing:!1})};const t=e.chatId,n=e.messageId,a=l.b.time,i=l.b.message,r=l.b.playing,s=i&&i.chat_id===t&&i.id===n;this.state={active:s,playing:!!s&&r,currentTime:s&&a?a.currentTime:0,duration:s&&a?a.duration:0}}componentDidMount(){l.b.on("clientUpdateMediaActive",this.onClientUpdateMediaActive),l.b.on("clientUpdateMediaPlay",this.onClientUpdateMediaPlay),l.b.on("clientUpdateMediaPause",this.onClientUpdateMediaPause),l.b.on("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}componentWillUnmount(){l.b.off("clientUpdateMediaActive",this.onClientUpdateMediaActive),l.b.off("clientUpdateMediaPlay",this.onClientUpdateMediaPlay),l.b.off("clientUpdateMediaPause",this.onClientUpdateMediaPause),l.b.off("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}render(){const e=this.props,t=e.file,n=e.openMedia,a=this.state.playing;return i.a.createElement(c.a,{thumbnail:null,file:t,openMedia:n,icon:i.a.createElement(r.a,null),completeIcon:a?i.a.createElement(o.a,null):i.a.createElement(s.a,null)})}}t.a=d},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{d:"M5,14 C5.55228475,14 6,14.4477153 6,15 L6,18 L9,18 C9.55228475,18 10,18.4477153 10,19 C10,19.5522847 9.55228475,20 9,20 L5,20 C4.44771525,20 4,19.5522847 4,19 L4,15 C4,14.4477153 4.44771525,14 5,14 Z M19,14 C19.5522847,14 20,14.4477153 20,15 L20,15 L20,19 C20,19.5522847 19.5522847,20 19,20 L19,20 L15,20 C14.4477153,20 14,19.5522847 14,19 C14,18.4477153 14.4477153,18 15,18 L15,18 L18,18 L18,15 C18,14.4477153 18.4477153,14 19,14 Z M9,4 C9.55228475,4 10,4.44771525 10,5 C10,5.55228475 9.55228475,6 9,6 L9,6 L6,6 L6,9 C6,9.55228475 5.55228475,10 5,10 C4.44771525,10 4,9.55228475 4,9 L4,9 L4,5 C4,4.44771525 4.44771525,4 5,4 L5,4 Z M19,4 C19.5522847,4 20,4.44771525 20,5 L20,9 C20,9.55228475 19.5522847,10 19,10 C18.4477153,10 18,9.55228475 18,9 L18,6 L15,6 C14.4477153,6 14,5.55228475 14,5 C14,4.44771525 14.4477153,4 15,4 L19,4 Z"}),"FullScreen")},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(16);n(313);class c extends i.a.Component{constructor(...e){super(...e),this.state={text:null},this.onClientUpdateMediaHint=e=>{const t=e.fileId,n=e.text;if(t!==this.props.fileId)return;this.state.animated;clearTimeout(this.checkTimeout),this.setState({text:n,animated:!1},()=>{this.checkTimeout=setTimeout(()=>{this.state.text===n&&this.setState({animated:!0})},250)})},this.handleAnimationEnd=e=>{this.setState({text:null,animated:!1})}}componentDidMount(){o.b.on("clientUpdateMediaHint",this.onClientUpdateMediaHint)}componentWillUnmount(){o.b.off("clientUpdateMediaHint",this.onClientUpdateMediaHint)}render(){const e=this.state,t=e.animated,n=e.text;return n?i.a.createElement("div",{className:s()("player-hint",{"player-hint-animated":t}),onAnimationEnd:this.handleAnimationEnd},i.a.createElement("span",null,n)):null}}t.a=c},function(e,t,n){"use strict";var a=n(0),i=n.n(a);n(314);class r extends i.a.Component{constructor(...e){super(...e),this.state={waiting:!1},this.handleWaiting=()=>{this.props.waiting?setTimeout(()=>{this.props.waiting&&this.setState({waiting:!0})},250):this.state.waiting&&this.setState({waiting:!1})}}componentDidMount(){this.handleWaiting()}componentDidUpdate(e,t,n){e.waiting!==this.props.waiting&&this.handleWaiting()}render(){return this.state.waiting?i.a.createElement("div",{className:"player-progress"},i.a.createElement("svg",{viewBox:"0 0 54 54",height:"54",width:"54"},i.a.createElement("circle",{stroke:"white",fill:"transparent",strokeWidth:"3",strokeDasharray:"120 100",strokeDashoffset:"25",strokeLinecap:"round",r:"21",cx:"27",cy:"27"}))):null}}t.a=r},,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(121),c=n.n(o),l=n(82),u=n(246),d=n(77),p=n(120),h=n(10),m=n(38),f=n(12),g=n(31),b=n(5),y=n(13),k=n(2),v=n(44),w=n(16),C=n(17);n(328);const S={circle:"video-note-progress-circle"};class U extends i.a.Component{constructor(e){super(e),this.startStopPlayer=()=>{const e=this.videoRef.current;if(e)if(!this.inView||!this.windowFocused||this.openMediaViewer||this.openProfileMediaViewer||this.openIV){if(this.state.active)return;e.pause()}else e.play()},this.onClientUpdateInstantViewContent=e=>{this.openIV=Boolean(v.a.getCurrent()),this.startStopPlayer()},this.onClientUpdateProfileMediaViewerContent=e=>{this.openProfileMediaViewer=Boolean(y.a.profileMediaViewerContent),this.startStopPlayer()},this.onClientUpdateMediaViewerContent=e=>{this.openMediaViewer=Boolean(y.a.mediaViewerContent),this.startStopPlayer()},this.onClientUpdateFocusWindow=e=>{this.windowFocused=e.focused,this.startStopPlayer()},this.onClientUpdateMessagesInView=e=>{const t=this.props,n=t.chatId,a=t.messageId,i="".concat(n,"_").concat(a);this.inView=e.messages.has(i),this.startStopPlayer()},this.onClientUpdateMediaCaptureStream=e=>{const t=this.props,n=t.chatId,a=t.messageId;if(n===e.chatId&&a===e.messageId){this.videoRef.current&&this.setState({srcObject:e.stream},()=>{this.updateVideoSrc()})}},this.onClientUpdateMediaTime=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.currentTime,s=e.duration,o=e.source;if(!Object(g.e)(n,a,i,o))return;this.videoRef.current&&this.setState({currentTime:r,videoDuration:s})},this.onClientUpdateMediaEnd=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(g.e)(n,a,i,r)&&this.setState({active:!1,srcObject:null,currentTime:0},()=>{const e=this.videoRef.current;e&&(this.updateVideoSrc(),window.hasFocus||e.pause())})},this.onClientUpdateMediaActive=e=>{const t=this.props,n=t.chatId,a=t.messageId,i=t.block,r=e.source;Object(g.e)(n,a,i,r)?this.state.active||this.setState({active:!0,currentTime:null}):this.state.active&&this.setState({active:!1,srcObject:null,currentTime:0},()=>{const e=this.videoRef.current;e&&(this.updateVideoSrc(),window.hasFocus||e.pause())})},this.onClientUpdateVideoNoteBlob=e=>{const t=this.props.videoNote.video,n=e.fileId;t&&t.id===n&&this.setState({src:Object(h.m)(t)},()=>{this.updateVideoSrc()})},this.onClientUpdateVideoNoteThumbnailBlob=e=>{const t=this.props.videoNote.thumbnail;if(!t)return;const n=e.fileId,a=t.file;a&&a.id===n&&this.forceUpdate()},this.handleCanPlay=()=>{},this.videoRef=i.a.createRef(),this.sourceRef=i.a.createRef();const t=e.chatId,n=e.messageId,a=e.videoNote.video,r=w.b.time,s=w.b.message,o=w.b.videoStream,c=s&&s.chat_id===t&&s.id===n;this.state={active:c,srcObject:c?o:null,src:Object(h.m)(a),currentTime:c&&r?r.currentTime:0,videoDuration:c&&r?r.duration:0},this.windowFocused=window.hasFocus,this.inView=!1,this.openMediaViewer=Boolean(y.a.mediaViewerContent),this.openProfileMediaViewer=Boolean(y.a.profileMediaViewerContent),this.openIV=Boolean(v.a.getCurrent())}updateVideoSrc(){const e=this.state,t=e.srcObject,n=e.src,a=this.videoRef.current;if(!a)return;if(t)return void(a.srcObject=t);const i=a.srcObject;if(i){i.getTracks().forEach(e=>{e.stop()})}a.srcObject&&(a.srcObject=null);const r=this.sourceRef.current;r&&r.src!==n&&(r.src=n,a.load())}componentDidMount(){this.updateVideoSrc(),k.a.on("clientUpdateVideoNoteThumbnailBlob",this.onClientUpdateVideoNoteThumbnailBlob),k.a.on("clientUpdateVideoNoteBlob",this.onClientUpdateVideoNoteBlob),C.a.on("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),y.a.on("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),y.a.on("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),y.a.on("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),v.a.on("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),w.b.on("clientUpdateMediaActive",this.onClientUpdateMediaActive),w.b.on("clientUpdateMediaCaptureStream",this.onClientUpdateMediaCaptureStream),w.b.on("clientUpdateMediaTime",this.onClientUpdateMediaTime),w.b.on("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}componentWillUnmount(){k.a.off("clientUpdateVideoNoteThumbnailBlob",this.onClientUpdateVideoNoteThumbnailBlob),k.a.off("clientUpdateVideoNoteBlob",this.onClientUpdateVideoNoteBlob),C.a.off("clientUpdateMessagesInView",this.onClientUpdateMessagesInView),y.a.off("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),y.a.off("clientUpdateMediaViewerContent",this.onClientUpdateMediaViewerContent),y.a.off("clientUpdateProfileMediaViewerContent",this.onClientUpdateProfileMediaViewerContent),v.a.off("clientUpdateInstantViewContent",this.onClientUpdateInstantViewContent),w.b.off("clientUpdateMediaActive",this.onClientUpdateMediaActive),w.b.off("clientUpdateMediaCaptureStream",this.onClientUpdateMediaCaptureStream),w.b.off("clientUpdateMediaTime",this.onClientUpdateMediaTime),w.b.off("clientUpdateMediaEnd",this.onClientUpdateMediaEnd)}render(){const e=this.props,t=e.displaySize,n=e.chatId,a=e.messageId,r=e.openMedia,o=e.meta,g=this.state,b=g.active,y=g.currentTime,k=g.videoDuration,v=this.props.videoNote,w=v.minithumbnail,U=v.thumbnail,_=v.video,E=v.duration;if(!C.a.get(n,a))return null;const x={width:200,height:200};if(!x)return null;const T=w?"data:image/jpeg;base64, "+w.data:null,M=Object(h.m)(U?U.file:null),P=Object(m.l)(U,t),I=Object(h.m)(_);let A=0;if(k&&y){const e=y+.25;A=Object(f.d)(e/k*100,0,100)}return i.a.createElement("div",{className:s()("video-note",{"video-note-playing":b}),style:x,onClick:r},i.a.createElement("div",{className:"video-note-round"},T&&i.a.createElement("img",{className:s()("video-preview","media-mini-blurred"),src:T,alt:""}),M&&i.a.createElement("img",{className:s()("animation-thumbnail",{"media-blurred":P}),src:M,alt:""})),I?i.a.createElement(i.a.Fragment,null,i.a.createElement("video",{ref:this.videoRef,className:s()("media-viewer-content-image","video-note-video"),muted:!0,autoPlay:!0,loop:!0,playsInline:!0,width:x.width,height:x.height,onCanPlay:this.handleCanPlay},i.a.createElement("source",{ref:this.sourceRef,src:null,type:"video/mp4"})),i.a.createElement("div",{className:"video-note-player"},i.a.createElement("div",{className:"video-note-progress"},i.a.createElement(u.a,{classes:S,variant:"static",value:A,size:200,thickness:1})),i.a.createElement("div",{className:"animation-meta"},Object(f.g)(b?Math.floor(y):E),i.a.createElement(p.a,{chatId:n,messageId:a,icon:"\xa0\u2022"})),i.a.createElement("div",{className:"video-note-muted"},i.a.createElement(c.a,null)))):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"animation-meta"},Object(f.g)(E)+" "+Object(h.h)(_),i.a.createElement(p.a,{chatId:n,messageId:a,icon:"\xa0\u2022"})),i.a.createElement("div",{className:"video-note-muted"},i.a.createElement(c.a,null))),i.a.createElement(d.a,{file:_,download:!0,upload:!0,cancelButton:!0,icon:i.a.createElement(l.a,null)}),o)}}U.defaultProps={size:b.K,displaySize:b.I},t.a=U},function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(30);t.a=Object(r.a)(i.a.createElement("path",{d:"M17,2 C19.209139,2 21,3.790861 21,6 L21,20.2543508 C21,21.3589203 20.1045695,22.2543871 19,22.2543871 C18.5225775,22.2543871 18.0609035,22.0835665 17.6984173,21.772864 L12,16.8885064 L6.30158275,21.772864 C5.46293106,22.4917083 4.2003311,22.3945852 3.4814868,21.5559335 C3.17078432,21.1934473 3,20.7317733 3,20.2543508 L3,6 C3,3.790861 4.790861,2 7,2 L17,2 Z M17,4 L7,4 C5.8954305,4 5,4.8954305 5,6 L5,20.2543508 L10.6984173,15.3699931 C11.4473967,14.7280108 12.5526033,14.7280108 13.3015827,15.3699931 L19,20.2543508 L19,6 C19,4.8954305 18.1045695,4 17,4 Z"}),"Saved")},,,,,function(e){e.exports=JSON.parse('{"ActionSendTTLPhoto":"un1 sent a self-destructing photo. Please view it on your mobile","ActionSendTTLVideo":"un1 sent a self-destructing video. Please view it on your mobile","ActionYouSendTTLPhoto":"You sent a self-destructing photo. Please view it on your mobile","ActionYouSendTTLVideo":"You sent a self-destructing video. Please view it on your mobile","Activity":"Activity","AnimalsNature":"Animals & Nature","AppName":"Telegram","Archived":"Archived","BioAbout":"Any details such as age, occupation or city.\\nExample: 23 y.o. designer from San Francisco.","ChannelInfo":"Channel Info","ChatInfo":"Chat Info","ChatsAndContacts":"Chats and contacts","ChooseDefaultSkinTone":"Choose your default skin tone","Connecting":"Connecting...","ConnectingToProxy":"Connecting to proxy...","ContactJoinedDisabled":"Disabled","ContactJoinedEnabled":"Enabled","ContinueOnThisLanguage":"Continue in English","CopyMessageLink":"Copy Message Link","Country":"Country","Custom":"Custom","DeletedMessage":"Deleted message","DragToReposition":"Drag to Reposition","EditProfile":"Edit Profile","Emoji":"EMOJI","EnterPassword":"Enter a Password","FilterChooseChats":"Please choose at least one chat for this folder.","FilterCreateError":"Sorry, you can\'t add more than 10 folders.","Flags":"Flags","FoodDrink":"Food & Drink","GeneralSettings":"General Settings","GoToMessage":"Go to message","InvalidPassword":"Invalid password. Please check the password and try again.","InvalidPhoneNumber":"Invalid phone number. Please check the number and try again.","KeepMeSignedIn":"Keep me signed in","LeftChannel":"Left channel","LeftGroup":"Left group","Loading":"Loading...","LogInByPhone":"Or log in by using your phone number","LogInViaQR":"Quick log in using QR code","More":"More","Next":"Next","NotEmojiFound":"No Emoji Found","NotificationsDisabled":"Disabled","NotificationsEnabled":"Enabled","Objects":"Objects","PaymentsNotSupported":"Sorry, this Telegram client doesn\'t support payments yet. Please use one of our mobile apps to do this.","PhoneNumber":"Phone Number","PhotosTitle":"Photos","PollQuizOneRightAnswer":"Quiz has only one right answer.","PreviewDisabled":"Disabled","PreviewEnabled":"Enabled","QRHint":"1. Open Telegram on your phone\\n2. Go to Settings > Devices > Scan QR\\n3. Scan this image to Log in","Recent":"Frequently Used","RecordDeniedDescription":"You must allow your browser to access your microphone before being able to record voice notes. Click on the padlock icon next to the URL and then make sure you click Allow in the microphone settings to enable Telegram to access your microphone.","RecordDeniedTitle":"Permission Denied","Saved":"Saved","Search":"Search","SearchMessagesIn":"Search messages in","SearchResults":"Search Results","SelectChatToStartMessaging":"Please select a chat to start messaging","SendAsFile":"Send as a file","SendAsPhoto":"Send as a photo","SendFileConfirmation":"Are you sure you want to send file?","SendFilesConfirmation":"Are you sure you want to send files?","SendMessage":"Send Message","SignInToTelegram":"Sign in to Telegram","SmileysPeople":"Smileys & People","StartText":"Please confirm your country code and enter your phone number.","Stickers":"STICKERS","Symbols":"Symbols","Text":"Text","TravelPlaces":"Travel & Places","UnpinAllMessagesAlert":"Do you want to unpin all messages?","UpdateDraftConfirmation":"Are you sure you want to update draft?","Updating":"Updating...","VideosTitle":"Videos","ViewChannelInfo":"View channel info","ViewGroupInfo":"View group info","ViewProfile":"View profile","VoiceTitle":"Voice messages","WaitingForNetwork":"Waiting for network...","WriteChatCant":"Sorry, no way to write here :(","YourAccountProtectedWithPassword":"Your account is protected with an additional password.","YourPhone":"Your Phone"}')},function(e){e.exports=JSON.parse('{"Activity":"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c","AnimalsNature":"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435 \u0438 \u043f\u0440\u0438\u0440\u043e\u0434\u0430","AppName":"Telegram","Archived":"\u0410\u0440\u0445\u0438\u0432","BioAbout":"\u041b\u044e\u0431\u044b\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0432\u043e\u0437\u0440\u0430\u0441\u0442, \u0440\u043e\u0434 \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434.\\n\u041f\u0440\u0438\u043c\u0435\u0440: 23 \u0433\u043e\u0434\u0430, \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0438\u0437 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0430.","ChannelInfo":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u0430\u043d\u0430\u043b\u0435","ChatInfo":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0447\u0430\u0442\u0435","ChatsAndContacts":"\u0427\u0430\u0442\u044b \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","ChooseDefaultSkinTone":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u043d \u043a\u043e\u0436\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","Connecting":"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435...","ConnectingToProxy":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u043f\u0440\u043e\u043a\u0441\u0438...","ContactJoinedDisabled":"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e","ContactJoinedEnabled":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e","ContinueOnThisLanguage":"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c","CopyMessageLink":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","Country":"\u0421\u0442\u0440\u0430\u043d\u0430","Custom":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435","DeletedMessage":"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","DragToReposition":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","EditProfile":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c","Emoji":"\u0415\u041c\u041e\u0414\u0417\u0418","EnterPassword":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","Flags":"\u0424\u043b\u0430\u0433\u0438","FoodDrink":"\u0415\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438","GeneralSettings":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","GoToMessage":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e","InvalidPhoneNumber":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.","KeepMeSignedIn":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e","LeftChannel":"\u041a\u0430\u043d\u0430\u043b \u043f\u043e\u043a\u0438\u043d\u0443\u0442","LeftGroup":"\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u0430","Loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","LogInByPhone":"\u0412\u0445\u043e\u0434 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","LogInViaQR":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u0445\u043e\u0434 \u043f\u043e QR-\u043a\u043e\u0434\u0443","More":"\u0415\u0449\u0451","Next":"\u0414\u0430\u043b\u0435\u0435","NotEmojiFound":"\u0415\u043c\u043e\u0434\u0437\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","NotificationsDisabled":"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b","NotificationsEnabled":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u044b","Objects":"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b","PhoneNumber":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440","PhotosTitle":"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438","PollQuizOneRightAnswer":"\u0412 \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0430\u0445 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442.","PreviewDisabled":"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e","PreviewEnabled":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e","QRHint":"1. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 Telegram \u043d\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0435\\n2. \u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 > \u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 > \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c QR-\u043a\u043e\u0434.\\n3. \u0421\u043a\u0430\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u044d\u0442\u043e\u0442 \u043a\u043e\u0434 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","Recent":"\u0427\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435","Saved":"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","Search":"\u041f\u043e\u0438\u0441\u043a","SearchMessagesIn":"\u0418\u0441\u043a\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432","SearchResults":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430","SelectChatToStartMessaging":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u043a\u043e\u043c\u0443 \u0445\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c","SendAsFile":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0444\u0430\u0439\u043b","SendAsPhoto":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0444\u043e\u0442\u043e","SendFileConfirmation":"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b?","SendFilesConfirmation":"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b?","SendMessage":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","SignInToTelegram":"\u0412\u0445\u043e\u0434 \u0432 Telegram","SmileysPeople":"\u0421\u043c\u0430\u0439\u043b\u0438\u043a\u0438 \u0438 \u043b\u044e\u0434\u0438","StartText":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u044b \u0438 \u0441\u0432\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430.","Stickers":"\u0421\u0422\u0418\u041a\u0415\u0420\u042b","Symbols":"\u0421\u0438\u043c\u0432\u043e\u043b\u044b","Text":"\u0422\u0435\u043a\u0441\u0442","TravelPlaces":"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u0438 \u043c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u0438","UnpinAllMessagesAlert":"\u0425\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f?","UpdateDraftConfirmation":"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f?","Updating":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435...","VideosTitle":"\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0438","ViewChannelInfo":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u0430\u043d\u0430\u043b\u0435","ViewGroupInfo":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0433\u0440\u0443\u043f\u043f\u0435","ViewProfile":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c","VoiceTitle":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","WaitingForNetwork":"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0442\u0438...","YourAccountProtectedWithPassword":"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0449\u0438\u0449\u0435\u043d \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c.","YourPhone":"\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"}')},function(e){e.exports=JSON.parse('{"Activity":"Attivit\xe0","AnimalsNature":"Animali e Natura","AppName":"Telegram","Archived":"Chat archiviate","BioAbout":"Qualsiasi dettaglio come et\xe0, lavoro o citt\xe0.\\nEsempio: Designer di 23 anni da San Francisco.","ChannelInfo":"Info canale","ChatInfo":"Info chat","ChatsAndContacts":"Chat e contatti","ChooseDefaultSkinTone":"Scegli ","Connecting":"Connetto...","ConnectingToProxy":"Connetto al proxy...","ContactJoinedDisabled":"Disattivato","ContactJoinedEnabled":"Attivato","ContinueOnThisLanguage":"Continue in English","CopyMessageLink":"Copia link messaggio","Country":"Paese","Custom":"Custom","DeletedMessage":"Messaggi cancellati","DragToReposition":"Trascina per riposizionare","EditProfile":"Modifica profilo","Emoji":"EMOJI","EnterPassword":"Inserisci password","Flags":"Bandiere","FoodDrink":"Cibo e Bevande","GeneralSettings":"Impostazioni generali","GoToMessage":"Vai al messaggio","InvalidPhoneNumber":"Numero di telefono non valido. Per favore controlla il numero e riprova.","KeepMeSignedIn":"Mantieni l\'accesso","LeftChannel":"Canale abbandonato","LeftGroup":"Gruppo abbandonato","Loading":"Carico...","LogInByPhone":"Or log in by using your phone number","LogInViaQR":"Quick log in using QR code","More":"Altro","Next":"Avanti","NotEmojiFound":"Emoji non trovato","NotificationsDisabled":"Disattivate","NotificationsEnabled":"Attivate","Objects":"Oggetti","PhoneNumber":"Numero di telefono","PhotosTitle":"Foto","PollQuizOneRightAnswer":"Il quiz ha solo una risposta esatta.","PreviewDisabled":"Disattivata","PreviewEnabled":"Attivata","QRHint":"1. Open Telegram on your phone\\n2. Go to Settings > Devices > Scan QR\\n3. Scan this image to Log in","Recent":"Usati di recente","Saved":"Messaggi salvati","Search":"Cerca","SearchMessagesIn":"Cerca messaggi in","SearchResults":"Risultati di ricerca","SelectChatToStartMessaging":"Seleziona una chat per iniziare a messaggiare","SendAsFile":"Invia come file","SendAsPhoto":"Invia come immagine","SendFileConfirmation":"Sei sicuro di voler mandare il file?","SendFilesConfirmation":"Sei sicuro di voler mandare i file?","SendMessage":"Invia messaggio","SignInToTelegram":"Accedi a Telegram","SmileysPeople":"Faccine e Persone","StartText":"Conferma il prefisso internazionale e inserisci il tuo numero di telefono.","Stickers":"STICKER","Symbols":"Simboli","Text":"Testo","TravelPlaces":"Viaggi e Luoghi","UpdateDraftConfirmation":"Sei sicuro di voler aggiornare la bozza?","Updating":"Aggiorno...","VideosTitle":"Video","ViewChannelInfo":"Visualizza info canale","ViewGroupInfo":"Visualizza info gruppo","ViewProfile":"Visualizza profilo","VoiceTitle":"Messaggi vocali","WaitingForNetwork":"Attendo la rete...","YourAccountProtectedWithPassword":"Il tuo account \xe8 protetto con una password aggiuntiva.","YourPhone":"Il tuo numero"}')},function(e){e.exports=JSON.parse('{"Activity":"Actividad","AnimalsNature":"Animales y naturaleza","AppName":"Telegram","Archived":"Archivados","BioAbout":"Datos como la edad, ocupaci\xf3n o ciudad. Ejemplo: Dise\xf1ador de Chicago. 23 a\xf1os.","ChannelInfo":"Info. del canal","ChatInfo":"Info. del chat","ChatsAndContacts":"Chats y contactos","ChooseDefaultSkinTone":"Elige el tono de piel por defecto","Connecting":"Conectando...","ConnectingToProxy":"Conectando al proxy...","ContactJoinedDisabled":"Desactivado","ContactJoinedEnabled":"Activado","ContinueOnThisLanguage":"Continuar en espa\xf1ol","CopyMessageLink":"Copiar enlace del mensaje","Country":"Pa\xeds","Custom":"Personalizado","DeletedMessage":"Mensaje eliminado","DragToReposition":"Arrastra para posicionar","EditProfile":"Editar perfil","Emoji":"EMOJIS","EnterPassword":"Pon una contrase\xf1a","Flags":"Banderas","FoodDrink":"Comida y bebida","GeneralSettings":"General","GoToMessage":"Ir al mensaje","InvalidPhoneNumber":"N\xfamero de tel\xe9fono inv\xe1lido. Por favor, revisa el n\xfamero y reint\xe9ntalo.","KeepMeSignedIn":"Recordarme","LeftChannel":"Sali\xf3 del canal","LeftGroup":"Sali\xf3 del grupo","Loading":"Cargando...","LogInByPhone":"Or log in by using your phone number","LogInViaQR":"Quick log in using QR code","More":"M\xe1s","Next":"Siguiente","NotEmojiFound":"No se encontraron emojis","NotificationsDisabled":"Desactivadas","NotificationsEnabled":"Activadas","Objects":"Objetos","PhoneNumber":"N\xfamero de tel\xe9fono","PhotosTitle":"Fotos","PollQuizOneRightAnswer":"Un cuestionario tiene s\xf3lo una respuesta correcta.","PreviewDisabled":"Desactivada","PreviewEnabled":"Activada","QRHint":"1. Open Telegram on your phone\\n2. Go to Settings > Devices > Scan QR\\n3. Scan this image to Log in","Recent":"Uso frecuente","Saved":"Guardados","Search":"Buscar","SearchMessagesIn":"Buscar mensajes en","SearchResults":"Resultados de b\xfasqueda","SelectChatToStartMessaging":"Elige un chat para comenzar","SendAsFile":"Enviar como archivo","SendAsPhoto":"Enviar como foto","SendFileConfirmation":"\xbfQuieres enviar el archivo?","SendFilesConfirmation":"\xbfQuieres enviar los archivos?","SendMessage":"Enviar mensaje","SignInToTelegram":"Iniciar sesi\xf3n en Telegram","SmileysPeople":"Emoticonos y personas","StartText":"Por favor, confirma el c\xf3digo de tu pa\xeds y pon tu n\xfamero de tel\xe9fono.","Stickers":"STICKERS","Symbols":"S\xedmbolos","Text":"Texto","TravelPlaces":"Viajes y destinos","UpdateDraftConfirmation":"\xbfQuieres actualizar el borrador?","Updating":"Actualizando...","VideosTitle":"Videos","ViewChannelInfo":"Ver info. del canal","ViewGroupInfo":"Ver info. del grupo","ViewProfile":"Ver perfil","VoiceTitle":"Mensajes de voz","WaitingForNetwork":"Esperando red...","YourAccountProtectedWithPassword":"Tu cuenta est\xe1 protegida con una contrase\xf1a adicional.","YourPhone":"Tu tel\xe9fono"}')},function(e){e.exports=JSON.parse('{"Activity":"Aktywno\u015b\u0107","AnimalsNature":"Zwierz\u0119ta i natura","AppName":"Telegram","Archived":"Zarchiwizowane","BioAbout":"R\xf3\u017cne szczeg\xf3\u0142y takie jak wiek, zaw\xf3d lub miasto.\\nPrzyk\u0142ad: 23 lata, projektant z Warszawy.","ChannelInfo":"Info o kanale","ChatInfo":"Info o grupie","ChatsAndContacts":"Czaty i kontakty","ChooseDefaultSkinTone":"Wybierz domy\u015blny odcie\u0144 sk\xf3ry","Connecting":"\u0141\u0105czenie\u2026","ConnectingToProxy":"\u0141\u0105czenie z proxy\u2026","ContactJoinedDisabled":"Wy\u0142\u0105czone","ContactJoinedEnabled":"W\u0142\u0105czone","ContinueOnThisLanguage":"Kontynuuj po angielsku","CopyMessageLink":"Kopiuj link wiadomo\u015bci","Country":"Kraj","Custom":"W\u0142asne","DeletedMessage":"Usuni\u0119ta wiadomo\u015b\u0107","DragToReposition":"Przeci\u0105gnij, aby zmieni\u0107 po\u0142o\u017cenie","EditProfile":"Edytuj profil","Emoji":"EMOJI","EnterPassword":"Wprowad\u017a has\u0142o","FilterChooseChats":"Wybierz co najmniej jeden czat dla tego folderu.","FilterCreateError":"Nie mo\u017cna doda\u0107 wi\u0119cej ni\u017c 10 folder\xf3w.","Flags":"Flagi","FoodDrink":"Jedzenie i picie","GeneralSettings":"Ustawienia og\xf3lne","GoToMessage":"Id\u017a do wiadomo\u015bci","InvalidPhoneNumber":"Nieprawid\u0142owy numer telefonu. Sprawd\u017a numer i spr\xf3buj ponownie.","KeepMeSignedIn":"Nie wylogowuj mnie","LeftChannel":"Opuszczono kana\u0142","LeftGroup":"Opuszczono grup\u0119","Loading":"Wczytywanie\u2026","LogInByPhone":"Lub zaloguj si\u0119, u\u017cywaj\u0105c swojego numeru telefonu","LogInViaQR":"Szybkie logowanie przy u\u017cyciu kodu QR","More":"Wi\u0119cej","Next":"Dalej","NotEmojiFound":"Nie znaleziono emoji","NotificationsDisabled":"Wy\u0142\u0105czone","NotificationsEnabled":"W\u0142\u0105czone","Objects":"Obiekty","PhoneNumber":"Numer telefonu","PhotosTitle":"Zdj\u0119cia","PollQuizOneRightAnswer":"Quiz ma tylko jedn\u0105 poprawn\u0105 odpowied\u017a.","PreviewDisabled":"Wy\u0142\u0105czony","PreviewEnabled":"W\u0142\u0105czony","QRHint":"1. Otw\xf3rz Telegram na swoim telefonie\\n2. Przejd\u017a do Ustawienia \xbb Urz\u0105dzenia \xbb Zeskanuj kod QR\\n3. Zeskanuj ten obraz, aby si\u0119 zalogowa\u0107","Recent":"Cz\u0119sto u\u017cywane","RecordDeniedDescription":"Zanim b\u0119dzie mo\u017cna nagrywa\u0107 notatki g\u0142osowe, nale\u017cy zezwoli\u0107 przegl\u0105darce na dost\u0119p do mikrofonu. Kliknij na ikon\u0119 k\u0142\xf3dki obok adresu URL, a nast\u0119pnie upewnij si\u0119, \u017ce jest wybrane Zezw\xf3l w ustawieniach mikrofonu, aby umo\u017cliwi\u0107 dost\u0119p do twojego mikrofonu.","RecordDeniedTitle":"Odmowa dost\u0119pu","Saved":"Zapisane","Search":"Szukaj","SearchMessagesIn":"Szukaj wiadomo\u015bci w","SearchResults":"Wyniki wyszukiwania","SelectChatToStartMessaging":"Wybierz czat, aby rozpocz\u0105\u0107 rozmow\u0119","SendAsFile":"Wy\u015blij jako plik","SendAsPhoto":"Wy\u015blij jako zdj\u0119cie","SendFileConfirmation":"Czy na pewno chcesz wys\u0142a\u0107 plik?","SendFilesConfirmation":"Czy na pewno chcesz wys\u0142a\u0107 pliki?","SendMessage":"Wy\u015blij wiadomo\u015b\u0107","SignInToTelegram":"Zaloguj si\u0119 do Telegrama","SmileysPeople":"U\u015bmieszki i ludzie","StartText":"Potwierd\u017a kod twojego kraju i podaj sw\xf3j numer telefonu.","Stickers":"NAKLEJKI","Symbols":"Symbole","Text":"Tekst","TravelPlaces":"Podr\xf3\u017ce i miejsca","UpdateDraftConfirmation":"Czy na pewno chcesz zaktualizowa\u0107 wersj\u0119 robocz\u0105?","Updating":"Aktualizowanie\u2026","VideosTitle":"Wideo","ViewChannelInfo":"Poka\u017c info o kanale","ViewGroupInfo":"Poka\u017c info o grupie","ViewProfile":"Poka\u017c profil","VoiceTitle":"Wiadomo\u015bci g\u0142osowe","WaitingForNetwork":"Czekam na sie\u0107\u2026","YourAccountProtectedWithPassword":"Twoje konto jest zabezpieczone dodatkowym has\u0142em.","YourPhone":"Tw\xf3j numer telefonu"}')},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(18),s=n.n(r),o=n(172),c=n(219),l=n(150),u=n(25),d=n(23),p=n(19);n(331);class h extends i.a.Component{constructor(e){super(e),this.onUpdateUserStatus=e=>{const t=this.state.userId;if(e.user_id!==t)return;const n=p.a.get(t);n&&this.setState({online:Object(u.k)(n)})};const t=Object(d.B)(e.chatId),n=p.a.get(t);this.state={userId:t,online:Object(u.k)(n)}}componentDidMount(){p.a.on("updateUserStatus",this.onUpdateUserStatus)}componentWillUnmount(){p.a.off("updateUserStatus",this.onUpdateUserStatus)}render(){const e=this.props,t=e.size,n=e.borderSize;return this.state.online?i.a.createElement("div",{className:"online-status",style:{width:t,height:t}},i.a.createElement("div",{className:"online-status-icon",style:{padding:n}},i.a.createElement("div",{className:"online-status-indicator"}))):null}}h.defaultProps={size:14,borderSize:2};var m=h,f=n(10),g=n(9),b=n(2);n(332);class y extends a.Component{constructor(...e){super(...e),this.state={},this.onFastUpdatingComplete=e=>{this.forceUpdate()},this.onClientUpdateChatBlob=e=>{const t=this.props.chatId,n=this.state,a=n.fileId,i=n.loaded;if(t===e.chatId&&a===e.fileId&&!i){const e=g.a.get(t);if(!e)return null;const n=e.photo,a=Object(f.m)(n?n.small:null);this.setState({src:a})}},this.onUpdateChatPhoto=e=>{const t=this.props.chatId,n=e.chat_id,a=e.photo;if(n!==t)return;const i=g.a.get(t),r=i&&i.photo?i.photo.small:null,s=r?r.id:-1,o=Object(f.m)(r),c=this.state.src===o&&""!==o||-1===s;if(this.setState({fileId:s,src:o,loaded:c}),a){const e=b.a.getStore();Object(f.w)(e,t)}},this.onUpdateChatTitle=e=>{const t=this.props,n=t.chatId,a=t.t;if(e.chat_id!==n)return;const i=Object(d.o)(n,a);this.setState({letters:i})},this.handleSelect=e=>{const t=this.props,n=t.chatId,a=t.onSelect;a&&(e.stopPropagation(),a(n))},this.handleLoad=()=>{this.setState({loaded:!0})}}static getDerivedStateFromProps(e,t){const n=e.chatId,a=e.t;if(t.prevChatId!==n){const e=g.a.get(n),i=e&&e.photo?e.photo.small:null,r=i?i.id:-1,s=Object(f.m)(i);return{prevChatId:n,fileId:r,src:s,loaded:t.src===s&&""!==s||-1===r,letters:Object(d.o)(n,a)}}return null}shouldComponentUpdate(e,t){const n=this.props.chatId,a=this.state,i=a.fileId,r=a.src,s=a.loaded,o=a.letters;return e.chatId!==n||(t.fileId!==i||(t.src!==r||(t.loaded!==s||t.letters!==o)))}componentDidMount(){g.a.on("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),g.a.on("updateChatPhoto",this.onUpdateChatPhoto),g.a.on("updateChatTitle",this.onUpdateChatTitle),b.a.on("clientUpdateChatBlob",this.onClientUpdateChatBlob)}componentWillUnmount(){g.a.off("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),g.a.off("updateChatPhoto",this.onUpdateChatPhoto),g.a.off("updateChatTitle",this.onUpdateChatTitle),b.a.off("clientUpdateChatBlob",this.onClientUpdateChatBlob)}render(){const e=this.props,t=e.chatId,n=e.showOnline,a=e.showSavedMessages,r=e.onSelect,o=e.small,u=e.dialog,p=e.big,h=e.size,f=this.state,b=f.src,y=f.loaded,k=f.letters;let v=null;if(h&&(v={width:h,height:h}),Object(d.eb)(t))return i.a.createElement("div",{className:s()("chat-tile",{"tile-small":o},{"tile-dialog":u},{"tile-big":p}),style:v,onClick:this.handleSelect},i.a.createElement("div",{className:s()("tile-photo","tile_color_0",{pointer:r})},i.a.createElement("div",{className:"tile-saved-messages"},i.a.createElement(l.a,{fontSize:p?"large":"default"}))));if(Object(d.gb)(t)&&a)return i.a.createElement("div",{className:s()("chat-tile",{"tile-small":o},{"tile-dialog":u},{"tile-big":p}),style:v,onClick:this.handleSelect},i.a.createElement("div",{className:s()("tile-photo","tile_color_6",{pointer:r})},i.a.createElement("div",{className:"tile-saved-messages"},i.a.createElement(c.a,{fontSize:p?"large":"default"}))));if(!g.a.get(t))return null;const w=b&&y,C=Object(d.z)(t),S="tile_color_".concat(Math.abs(C)%7+1);return i.a.createElement("div",{className:s()("chat-tile",{[S]:!w},{pointer:r},{"tile-dialog":u},{"tile-small":o},{"tile-big":p}),style:v,onClick:this.handleSelect},!w&&i.a.createElement("div",{className:"tile-photo"},i.a.createElement("span",{className:"tile-text"},k)),b&&i.a.createElement("img",{className:"tile-photo",src:b,onLoad:this.handleLoad,draggable:!1,alt:""}),n&&Object(d.hb)(t)&&i.a.createElement(m,{chatId:t}))}}y.defaultProps={showSavedMessages:!0,showOnline:!1};t.a=Object(o.a)()(y)},,,,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){e.exports=n(362)},,,,,,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(34),s=n.n(r),o=n(243),c=n(42),l=n(6),u=n.n(l),d=n(11),p=n(61),h=n(199),m=n(167),f=n.n(m),g=n(410),b=n(134),y=n(13);function k(e){const t=function(e){let t=0,n=0,a=0;4===e.length?(t=Number.parseInt(e[1]+e[1],16),n=Number.parseInt(e[2]+e[2],16),a=Number.parseInt(e[3]+e[3],16)):7===e.length&&(t=Number.parseInt(e[1]+e[2],16),n=Number.parseInt(e[3]+e[4],16),a=Number.parseInt(e[5]+e[6],16));t/=255,n/=255,a/=255;let i=Math.min(t,n,a),r=Math.max(t,n,a),s=r-i,o=0,c=0,l=0;o=0===s?0:r===t?(n-a)/s%6:r===n?(a-t)/s+2:(t-n)/s+4;o=Math.round(60*o),o<0&&(o+=360);return l=(r+i)/2,c=0===s?0:s/(1-Math.abs(2*l-1)),c=+(100*c).toFixed(1),l=+(100*l).toFixed(1),{h:o,s:c,l:l}}(e);return t.l+=15,"hsl(".concat(t.h,", ").concat(t.s,"%, ").concat(t.l,"%)")}function v(e,t){let n={},a={};"light"===e&&(n={child:{color:"dark"===e?"currentColor":"rgba(112, 117, 121)"},rippleVisible:{opacity:.08},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.03},"100%":{transform:"scale(1)",opacity:.08}}},a={hover:"rgba(112, 117, 121, 0.08)",hoverOpacity:.08});const i=f()({palette:{type:e,primary:t,secondary:{main:"#E53935"},action:a},typography:{useNextVariants:!0},shape:{borderRadius:10},overrides:{MuiOutlinedInput:{input:{padding:"17.5px 14px"}},MuiAutocomplete:{option:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},paper:{"& > ul":{maxHeight:308}}},MuiButton:{root:{padding:"12px 16px 11px",fontSize:16,lineHeight:"normal"}},MuiMenuList:{root:{minWidth:150}},MuiList:{root:{minWidth:150}},MuiListItemIcon:{root:{minWidth:40},alignItemsFlexStart:{marginTop:6}},MuiMenuItem:{root:{paddingTop:10,paddingBottom:10}},MuiTouchRipple:n,MuiSnackbarContent:{root:{flexWrap:"nowrap",fontSize:"inherit"},message:{maxWidth:512}}}});return"dark"===e?function(e){const t=document.documentElement.style;t.setProperty("--text-primary",e.palette.text.primary),t.setProperty("--text-secondary",e.palette.text.secondary),t.setProperty("--text-disabled",e.palette.text.disabled),t.setProperty("--error","#E53935"),t.setProperty("--tile-size","54px"),t.setProperty("--tile-size-normal","48px"),t.setProperty("--tile-size-extra-small","16px"),t.setProperty("--tile-size-small","33px"),t.setProperty("--tile-size-big","120px"),t.setProperty("--z-index-modal",e.zIndex.modal),t.setProperty("--color-accent-main",e.palette.primary.main),t.setProperty("--color-accent-main44",e.palette.primary.main+"44"),t.setProperty("--color-accent-main88",e.palette.primary.main+"88"),t.setProperty("--color-accent-dark",e.palette.primary.dark),t.setProperty("--color-accent-light",e.palette.primary.light),t.setProperty("--color-grey700",e.palette.grey[700]),t.setProperty("--color-grey","#9AA7B2"),t.setProperty("--color-hover","rgba(112, 117, 121, 0.15)"),t.setProperty("--search-input-background","#424242"),t.setProperty("--search-input-icon","#fff"),t.setProperty("--header-color","#ffffff"),t.setProperty("--header-subtle-color",e.palette.text.secondary),t.setProperty("--badge-unmuted","#4DCD5E"),t.setProperty("--badge-muted","#979797"),t.setProperty("--badge-item-selected",k(e.palette.primary.main)),t.setProperty("--online-indicator","#0AC630"),t.setProperty("--message-keyboard-button","#424242"),t.setProperty("--message-keyboard-button-hover","#42424288"),t.setProperty("--message-service-color","#FFFFFF"),t.setProperty("--message-service-background","#303030"),t.setProperty("--panel-background","#303030"),t.setProperty("--border",e.palette.divider),t.setProperty("--chat-background",e.palette.grey[900]),t.setProperty("--background",e.palette.grey[900]),t.setProperty("--background-paper",e.palette.background.paper),t.setProperty("--shared-media-background",e.palette.background.paper),t.setProperty("--dialog-color","#ffffff"),t.setProperty("--dialog-subtle-color",e.palette.text.secondary),t.setProperty("--dialog-meta-color",e.palette.text.secondary),t.setProperty("--dialog-meta-read-color","#4FAE4E"),t.setProperty("--media-in-tile-background",e.palette.primary.main),t.setProperty("--media-out-tile-background",e.palette.primary.main),t.setProperty("--message-in-link",e.palette.primary.main),t.setProperty("--message-in-author",e.palette.primary.main),t.setProperty("--message-in-background","#303030"),t.setProperty("--message-in-color","#FFFFFF"),t.setProperty("--message-in-subtle-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-in-meta-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-in-reply-title",e.palette.primary.main),t.setProperty("--message-in-reply-border",e.palette.primary.main),t.setProperty("--message-in-control",e.palette.primary.main),t.setProperty("--message-in-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-in-control-border",e.palette.primary.main+"77"),t.setProperty("--message-in-control-border-hover",e.palette.primary.main),t.setProperty("--message-out-link",e.palette.primary.main),t.setProperty("--message-out-author",e.palette.primary.main),t.setProperty("--message-out-background","#303030"),t.setProperty("--message-out-color","#FFFFFF"),t.setProperty("--message-out-subtle-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-out-meta-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-out-reply-title",e.palette.primary.main),t.setProperty("--message-out-reply-border",e.palette.primary.main),t.setProperty("--message-out-control",e.palette.primary.main),t.setProperty("--message-out-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-out-control-border",e.palette.primary.main+"77"),t.setProperty("--message-out-control-border-hover",e.palette.primary.main)}(i):function(e){const t=document.documentElement.style;t.setProperty("--text-primary","#000000"),t.setProperty("--text-secondary","#707579"),t.setProperty("--text-disabled","rgba(0, 0, 0, 0.38)"),t.setProperty("--error","#E53935"),t.setProperty("--tile-size","54px"),t.setProperty("--tile-size-normal","48px"),t.setProperty("--tile-size-extra-small","16px"),t.setProperty("--tile-size-small","33px"),t.setProperty("--tile-size-big","120px"),t.setProperty("--z-index-modal",e.zIndex.modal),t.setProperty("--color-accent-main",e.palette.primary.main),t.setProperty("--color-accent-main44",e.palette.primary.main+"44"),t.setProperty("--color-accent-main88",e.palette.primary.main+"88"),t.setProperty("--color-accent-dark",e.palette.primary.dark),t.setProperty("--color-accent-light",e.palette.primary.light),t.setProperty("--color-grey700",e.palette.grey[700]),t.setProperty("--color-grey","#9AA7B2"),t.setProperty("--color-hover","#70757914"),t.setProperty("--search-input-background","#f4f4f5"),t.setProperty("--search-input-icon","#9aa7b2"),t.setProperty("--header-color","#000000"),t.setProperty("--header-subtle-color","#707579"),t.setProperty("--badge-unmuted","#4DCD5E"),t.setProperty("--badge-muted","#C4C9CC"),t.setProperty("--badge-item-selected",k(e.palette.primary.main)),t.setProperty("--online-indicator","#0AC630"),t.setProperty("--message-keyboard-button","#00000033"),t.setProperty("--message-keyboard-button-hover","#00000022"),t.setProperty("--message-service-color","#FFFFFF"),t.setProperty("--message-service-background","#00000033"),t.setProperty("--panel-background","#ffffff"),t.setProperty("--border","#DADCE0"),t.setProperty("--chat-background","#e6ebee"),t.setProperty("--background","#ffffff"),t.setProperty("--background-paper",e.palette.background.paper),t.setProperty("--shared-media-background",e.palette.background.default),t.setProperty("--dialog-color","#000000"),t.setProperty("--dialog-subtle-color","#707579"),t.setProperty("--dialog-meta-color","#5F6369"),t.setProperty("--dialog-meta-read-color","#4FAE4E"),t.setProperty("--media-in-tile-background",e.palette.primary.main),t.setProperty("--media-out-tile-background","#4FAE4E"),t.setProperty("--message-in-link",e.palette.primary.main),t.setProperty("--message-in-author",e.palette.primary.main),t.setProperty("--message-in-background","#FFFFFF"),t.setProperty("--message-in-color","#000000"),t.setProperty("--message-in-subtle-color","#707579"),t.setProperty("--message-in-meta-color","#8D969C"),t.setProperty("--message-in-reply-title",e.palette.primary.main),t.setProperty("--message-in-reply-border",e.palette.primary.main),t.setProperty("--message-in-control",e.palette.primary.main),t.setProperty("--message-in-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-in-control-border",e.palette.primary.main+"77"),t.setProperty("--message-in-control-border-hover",e.palette.primary.main),t.setProperty("--message-out-link","#4FAE4E"),t.setProperty("--message-out-author","#4FAE4E"),t.setProperty("--message-out-background","#EEFFDE"),t.setProperty("--message-out-color","#000000"),t.setProperty("--message-out-subtle-color","#4FAE4E"),t.setProperty("--message-out-meta-color","#4FAE4E"),t.setProperty("--message-out-reply-title","#4FAE4E"),t.setProperty("--message-out-reply-border","#4FAE4E"),t.setProperty("--message-out-control","#4FAE4E"),t.setProperty("--message-out-control-hover","#4FAE4E22"),t.setProperty("--message-out-control-border","#4FAE4E77"),t.setProperty("--message-out-control-border-hover","#4FAE4E")}(i),i}var w=function(e){class t extends i.a.Component{constructor(e){super(e),this.onClientUpdateThemeChanging=e=>{const t=e.type,n=e.primary,a=v(t,n);localStorage.setItem("themeOptions",JSON.stringify({type:t,primary:n})),this.setState({theme:a},()=>y.a.emit("clientUpdateThemeChange"))};let t="light",n={main:"#50A2E9"};try{const e=JSON.parse(localStorage.getItem("themeOptions"));e&&(t=e.type,n=e.primary)}catch(i){}const a=v(t,n);this.state={theme:a}}componentDidMount(){y.a.on("clientUpdateThemeChanging",this.onClientUpdateThemeChanging)}componentWillUnmount(){y.a.off("clientUpdateThemeChanging",this.onClientUpdateThemeChanging)}render(){const t=this.state.theme;return i.a.createElement(b.b,{injectFirst:!0},i.a.createElement(g.a,{theme:t},i.a.createElement(e,this.props)))}}return t.displayName="WithTheme(".concat(Object(p.b)(e),")"),t},C=n(188),S=n.n(C),U=n(172),_=n(407),E=n(422),x=n(406),T=n(404),M=n(405),P=n(403),I=n(112),A=n(36);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var j=i.a.createElement("g",{id:"Login",stroke:"none",strokeWidth:1,fillRule:"evenodd"},i.a.createElement("g",{id:"Login_5_Phone",transform:"translate(-760.000000, -186.000000)"},i.a.createElement("path",{d:"M840,346 C795.81722,346 760,310.18278 760,266 C760,221.81722 795.81722,186 840,186 C884.18278,186 920,221.81722 920,266 C920,310.18278 884.18278,346 840,346 Z M794.596303,264.66919 C790.659174,266.234556 788.596733,267.765936 788.408978,269.263329 C788.048509,272.138166 792.188142,273.033142 797.396667,274.725906 C801.643184,276.106018 807.355495,277.720609 810.325092,277.784753 C813.018799,277.842938 816.025284,276.732617 819.344546,274.453789 C841.998088,259.16492 853.691946,251.437186 854.426119,251.270588 C854.944065,251.153055 855.661811,251.005273 856.148118,251.437434 C856.634425,251.869594 856.586618,252.688022 856.535106,252.907586 C856.123224,254.663156 834.84286,274.015606 833.61816,275.287388 C828.938462,280.146996 823.615302,283.120543 831.826781,288.530755 C838.932147,293.212193 843.067503,296.19863 850.387542,300.996094 C855.065474,304.061953 858.733031,307.697601 863.562866,307.253237 C865.785287,307.048765 868.080902,304.959403 869.246762,298.727987 C872.002037,284.001293 877.417883,252.09303 878.669527,238.944397 C878.779187,237.792407 878.641237,236.318088 878.530455,235.670896 C878.419672,235.023705 878.188168,234.101592 877.346762,233.418979 C876.350285,232.610561 874.811937,232.440083 874.123923,232.4522 C870.995743,232.507295 866.196346,234.175802 843.099163,243.78089 C835.009657,247.144954 818.842037,254.107721 794.596303,264.66919 Z"})));const F=e=>{let t=e.svgRef,n=e.title,a=N(e,["svgRef","title"]);return i.a.createElement("svg",O({className:"telegram-logo",width:"160px",height:"160px",viewBox:"0 0 160 160",ref:t},a),n?i.a.createElement("title",null,n):null,j)},B=i.a.forwardRef((e,t)=>i.a.createElement(F,O({svgRef:t},e)));n.p;var D=n(29),L=n(5),R=n(1);class V extends D.a{constructor(){var e;super(),e=this,this.reset=()=>{this.current=null},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;this.current=t,this.save(t),"authorizationStateReady"!==t["@type"]&&this.setCountryCode(),this.emit(e["@type"],e);break}}},this.setCountryCode=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.code){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,R.a.send({"@type":"getCountryCode"});case 5:e.code=t.sent,R.a.clientUpdate({"@type":"clientUpdateCountryCode",code:e.code});case 7:case"end":return t.stop()}}),t)}))),this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateCountryCode":case"clientUpdateMonkeyIdle":case"clientUpdateMonkeyTracking":case"clientUpdateMonkeyClose":case"clientUpdateMonkeyPeek":this.emit(e["@type"],e)}},this.addTdLibListener=()=>{R.a.on("update",this.onUpdate),R.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{R.a.off("update",this.onUpdate),R.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.load(),this.addTdLibListener()}load(){try{const e=localStorage.getItem(L.o);this.current=e?JSON.parse(e):null}catch(e){}}save(e){e?localStorage.setItem(L.o,JSON.stringify(e)):localStorage.removeItem(L.o)}}const z=new V;window.authorization=z;var W=z;n(345);const H=i.a.lazy(()=>n.e(0).then(n.bind(null,389)));class Y extends i.a.Component{constructor(e){var t;super(e),t=this,this.loadData=Object(d.a)(u.a.mark((function e(){var n,a,i,r,s,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.closeData)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a=[fetch("data/TwoFactorSetupMonkeyClose.json"),fetch("data/TwoFactorSetupMonkeyIdle.json"),fetch("data/TwoFactorSetupMonkeyPeek.json"),fetch("data/TwoFactorSetupMonkeyTracking.json")],e.next=7,Promise.all(a);case 7:return i=e.sent,e.next=10,Promise.all(i.map(e=>e.text()));case 10:r=e.sent,s=Object(A.a)(r,4),n=s[0],o=s[1],c=s[2],l=s[3],t.setState({closeData:n,idleData:o,peekData:c,trackingData:l},()=>{const e=t.state.lastUpdate;if(e)switch(e["@type"]){case"clientUpdateMonkeyIdle":t.onClientUpdateMonkeyIdle(e);break;case"clientUpdateMonkeyTracking":t.onClientUpdateMonkeyTracking(e);break;case"clientUpdateMonkeyClose":t.onClientUpdateMonkeyClose(e);break;case"clientUpdateMonkeyPeek":t.onClientUpdateMonkeyPeek(e)}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,19]])}))),this.playSegments=(e,t)=>{const n=this.lottieRef.current;n?n.playSegments(e,t):setTimeout(()=>{const n=this.lottieRef.current;n&&n.playSegments(e,t)},100)},this.onClientUpdateMonkeyIdle=e=>{const t=this.state.idleData;this.setState({fileId:"idle",data:t,lastUpdate:e},()=>{this.playSegments([0,179],!0)})},this.getFrame=(e,t,n,a)=>{if(!e)return 0;let i=t+(e-1)*n;return e>(a-2*t)/n+1&&(i+=t),Math.min(i,a-1)},this.onClientUpdateMonkeyTracking=e=>{const t=e.code,n=e.prevCode,a=this.state.trackingData,i=this.getFrame(n.length,20,10,180),r=this.getFrame(t.length,20,10,180);(0===i||179===i)&&(0===r||179===r)||this.setState({fileId:"tracking",data:a,lastUpdate:e},()=>{this.playSegments([i,r],!0)})},this.onClientUpdateMonkeyClose=e=>{const t=this.state.closeData;this.setState({fileId:"close",data:t,lastUpdate:e},()=>{this.playSegments([0,49],!0)})},this.onClientUpdateMonkeyPeek=e=>{const t=e.peek,n=this.state,a=n.peekData,i=n.lastUpdate;i&&"clientUpdateMonkeyPeek"===i["@type"]&&i.peek===t||this.setState({fileId:"peek",data:a,lastUpdate:e},()=>{t?this.playSegments([0,15],!0):this.playSegments([15,0],!0)})},this.state={fileId:null,data:null,lastUpdate:null},this.lottieRef=i.a.createRef()}componentDidMount(){var e=this;return Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(e.loadData,100),W.on("clientUpdateMonkeyIdle",e.onClientUpdateMonkeyIdle),W.on("clientUpdateMonkeyTracking",e.onClientUpdateMonkeyTracking),W.on("clientUpdateMonkeyClose",e.onClientUpdateMonkeyClose),W.on("clientUpdateMonkeyPeek",e.onClientUpdateMonkeyPeek);case 5:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){W.off("clientUpdateMonkeyIdle",this.onClientUpdateMonkeyIdle),W.off("clientUpdateMonkeyTracking",this.onClientUpdateMonkeyTracking),W.off("clientUpdateMonkeyClose",this.onClientUpdateMonkeyClose),W.off("clientUpdateMonkeyPeek",this.onClientUpdateMonkeyPeek)}render(){const e=this.props.state,t=this.state,n=t.fileId,a=t.data,r=t.trackingData,s=t.closeData,o=t.peekData,c=t.idleData;let l=null;switch(e["@type"]){case"authorizationStateWaitOtherDeviceConfirmation":break;case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitRegistration":case"authorizationStateWaitEncryptionKey":case"authorizationStateWaitTdlibParameters":case"authorizationStateWaitTdlib":l=i.a.createElement(B,{className:"auth-caption-telegram-logo"});break;case"authorizationStateWaitCode":case"authorizationStateWaitPassword":l=i.a.createElement("div",{className:"auth-caption-telegram-logo"},a&&i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(H,{ref:this.lottieRef,options:{width:160,height:160,autoplay:!1,loop:!1,fileId:n,stringData:a}}),i.a.createElement(H,{options:{width:160,height:160,autoplay:!1,loop:!1,fileId:"tracking",stringData:r,queueLength:1},style:{display:"none"}}),i.a.createElement(H,{options:{width:160,height:160,autoplay:!1,loop:!1,fileId:"close",stringData:s,queueLength:1},style:{display:"none"}}),i.a.createElement(H,{options:{width:160,height:160,autoplay:!1,loop:!1,fileId:"peek",stringData:o,queueLength:1},style:{display:"none"}}),i.a.createElement(H,{options:{width:160,height:160,autoplay:!1,loop:!1,fileId:"idle",stringData:c,queueLength:1},style:{display:"none"}})));break;default:l=i.a.createElement(B,{className:"auth-caption-telegram-logo"})}return i.a.createElement("div",{className:"auth-caption"},l)}}var G=Y,Q=n(18),q=n.n(Q),K=n(152),J=n(369),Z=n(241),X=n.n(Z),$=n(419),ee=n(88),te=n(22),ne=n(53),ae=n(418),ie=n(421),re=n(415);n(347);var se=function({emoji:e,name:t,phone:n}){return i.a.createElement("div",{className:"country"},i.a.createElement("span",{className:"country-emoji"},e),i.a.createElement("span",{className:"country-name"},t),i.a.createElement("span",{className:"country-phone"},n))},oe=n(76),ce=n(4);n(348);function le(e){return e?e.replace("...","").replace("\u2026",""):e}function ue(e){if(!e)return!1;switch(e["@type"]){case"connectionStateConnecting":case"connectionStateConnectingToProxy":return!0;case"connectionStateReady":case"connectionStateUpdating":case"connectionStateWaitingForNetwork":return!1}return!1}function de(e){const t=W.data;if(!t)return e;const n=me(e,t);return n?function(e,t){e=he(e);let n="",a=0;for(let i=0;i<t.length&&a<e.length;i++)t[i]>="0"&&t[i]<="9"?(n+=t[i],e[a]===t[i]&&a++):" "===t[i]?n+=t[i]:"X"===t[i]&&(n+=e[a++]);return n+=" "+e.substring(a),"+"+n}(e,n.pattern):e}function pe(e){return e>="0"&&e<="9"||(" "===e||"+"===e)}function he(e){return e?e.replace(/ /g,"").replace("+","").toLowerCase():e}function me(e,t){if(!t)return null;const n=t.findIndex(t=>function(e,t){if(!e)return!1;if(!t)return!1;e=he(e);const n=he(t.phone);return e.startsWith(n)}(e,t));return-1!==n?t[n]:null}class fe extends i.a.Component{constructor(e){super(e),this.onClientUpdateCountryCode=e=>{const t=W.code;if(!t)return;const n=this.getPhoneCountry(t),a=Object(A.a)(n,2),i=a[0],r=a[1];this.state.phone||this.setState({phone:i,country:r})},this.onUpdateConnectionState=e=>{const t=e.state;this.setState({connecting:ue(t)})},this.onClientUpdateSetPhoneCanceled=e=>{this.setState({loading:!1})},this.onClientUpdateSetPhoneError=e=>{const t=e.error;let n=null;if(t&&"error"===t["@type"]&&t.message){if("PHONE_NUMBER_INVALID"===t.message)return void this.setState({error:{code:"InvalidPhoneNumber"},loading:!1});n=t.message}else n=JSON.stringify(t);this.setState({error:{string:n},loading:!1})},this.onClientUpdateSetPhoneResult=e=>{this.setState({loading:!1})},this.onUpdateOption=e=>{"suggested_language_pack_id"===e.name&&this.setSuggestedLanguagePackId()},this.handleKeyPress=e=>{"Enter"===e.key?(e.preventDefault(),this.handleDone()):pe(e.key)||(e.preventDefault(),e.stopPropagation())},this.handleDone=()=>{const e=this.state.phone;!function(e){if(!e)return!1;let t=!e.match(/^[\d\-+\s]+$/);return t||(e=e.replace(/\D/g,"")).length<7&&(t=!0),!t}(e)?this.setState({error:{code:"InvalidPhoneNumber"}}):(this.setState({error:null,loading:!0}),R.a.clientUpdate({"@type":"clientUpdateSetPhone",phone:e}))},this.handleChangeLanguage=()=>{const e=this.props.i18n,t=this.state.suggestedLanguage;if(!e)return;if(!t)return;const n=t===e.language?ce.a.fallbackLng:t;R.a.clientUpdate({"@type":"clientUpdateLanguageChange",language:n})},this.handleFilterOptions=(e,{inputValue:t})=>{if(!e)return;let n=t.toLowerCase().replace(/ /g,"");return n=n.length>0&&"+"===n[0]?n.substring(1):n,e.filter(e=>function(e,t){if(!e)return!1;if(!t)return!0;t.length>0&&"("===t[0]&&(t=t.substring(1));const n=e.name.toLowerCase().split(" ");for(let i=0;i<n.length;i++)n[i].length>0&&"("===n[i][0]&&(n[i]=n[i].substring(1));const a=he(e.phone);return!!n.some(e=>e.startsWith(t))||!(!a.startsWith(t)&&!t.startsWith(a))}(e,n))},this.handleCountryChange=(e,t)=>{if(!t)return;const n=this.state,a=n.phone,i=n.country,r=i?a.replace(i.phone,""):a,s=t.phone+" "+r.trimStart();this.setState({country:t,phone:s},()=>{this.phoneInputRef.current.focus()})},this.handleKeepChange=(e,t)=>{this.setState({keep:!this.state.keep})},this.handlePhoneChange=e=>{let t=e.target.value;const n=this.props.data;let a=this.state.country;var i,r;a&&(t.startsWith(a.phone)||(a=null)),!a&&n&&t&&(a=me(t,n),a&&(i=t,r=a.phone,he(i)===he(r))&&(t="+"+he(t)+" ")),this.setState({phone:t,country:a})},this.handlePaste=e=>{const t=e.clipboardData.getData("text/plain");if(t){e.preventDefault();let r="";var n,a=Object(ne.a)(t);try{for(a.s();!(n=a.n()).done;){let e=n.value;pe(e)&&(r+=e)}}catch(i){a.e(i)}finally{a.f()}document.execCommand("insertText",!1,r)}},this.handleQRCode=()=>{const e=this.props.onRequestQRCode;e&&e()};let t=e.defaultPhone||"",n=me(t,e.data);if(!t&&!n){const e=W.code;if(e){const a=this.getPhoneCountry(e),i=Object(A.a)(a,2);t=i[0],n=i[1]}}this.state={connecting:ue(y.a.connectionState),error:null,loading:!1,suggestedLanguage:localStorage.getItem(L.p),keep:!0,phone:t,country:n},this.phoneInputRef=i.a.createRef()}getPhoneCountry(e){if(!e)return[null,null];const t=this.props.data;if(!t)return[null,null];let n=null;const a=function(e,t){if(!e)return null;if(!t)return null;const n=t.findIndex(t=>t.code.toLowerCase()===e.toLowerCase());return-1!==n?t[n]:null}(e.text,t);return a&&(n="+"+he(a.phone)+" "),[n,a]}shouldComponentUpdate(e,t,n){return!0}componentDidMount(){this.setSuggestedLanguagePackId(),W.on("clientUpdateCountryCode",this.onClientUpdateCountryCode),y.a.on("clientUpdateSetPhoneCanceled",this.onClientUpdateSetPhoneCanceled),y.a.on("clientUpdateSetPhoneError",this.onClientUpdateSetPhoneError),y.a.on("clientUpdateSetPhoneResult",this.onClientUpdateSetPhoneResult),y.a.on("updateConnectionState",this.onUpdateConnectionState),oe.a.on("updateOption",this.onUpdateOption)}componentWillUnmount(){W.off("clientUpdateCountryCode",this.onClientUpdateCountryCode),y.a.off("clientUpdateSetPhoneCanceled",this.onClientUpdateSetPhoneCanceled),y.a.off("clientUpdateSetPhoneError",this.onClientUpdateSetPhoneError),y.a.off("clientUpdateSetPhoneResult",this.onClientUpdateSetPhoneResult),y.a.off("updateConnectionState",this.onUpdateConnectionState),oe.a.off("updateOption",this.onUpdateOption)}setSuggestedLanguagePackId(){var e=this;return Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.i18n){t.next=3;break}return t.abrupt("return");case 3:if(n=oe.a.get("suggested_language_pack_id")){t.next=6;break}return t.abrupt("return");case 6:return a=n.value,t.next=9,ce.a.loadLanguage(a);case 9:e.setState({suggestedLanguage:a});case 10:case"end":return t.stop()}}),t)})))()}render(){const e=this.props,t=e.data,n=e.i18n,a=e.t,r=this.state,s=r.connecting,o=r.loading,c=r.error,l=r.suggestedLanguage,u=r.keep,d=r.phone,p=r.country;let h="";if(c){const e=c.code,t=c.string;h=e?a(e):t}const m=s?le(a("Connecting")):a("SignInToTelegram");let f=l;return l===n.language&&n.language!==ce.a.fallbackLng&&(f=ce.a.fallbackLng),i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement(K.a,{variant:"body1",className:"auth-title"},i.a.createElement("span",null,m),s&&i.a.createElement(ee.a,null)),i.a.createElement(K.a,{variant:"body1",className:"auth-subtitle",style:{width:264}},a("StartText")),i.a.createElement(ae.a,{debug:!1,id:"country-select",noOptionsText:a("NoResult"),options:t||[],disabled:o,autoHighlight:!0,getOptionLabel:e=>e.name,renderOption:e=>i.a.createElement(se,{name:e.name,emoji:e.emoji,phone:e.phone}),renderInput:e=>i.a.createElement($.a,Object.assign({classes:{root:"auth-input"}},e,{label:a("Country"),variant:"outlined",inputProps:Object(te.a)({},e.inputProps),fullWidth:!0,autoComplete:"off"})),filterOptions:this.handleFilterOptions,value:p,onChange:this.handleCountryChange}),i.a.createElement($.a,{id:"phoneNumber",classes:{root:"auth-input"},inputRef:this.phoneInputRef,variant:"outlined",color:"primary",label:a("PhoneNumber"),disabled:o,error:Boolean(h),helperText:h,fullWidth:!0,autoFocus:!0,autoComplete:"off",value:d,onChange:this.handlePhoneChange,onKeyPress:this.handleKeyPress,onPaste:this.handlePaste}),i.a.createElement("div",{className:"sign-in-keep"},i.a.createElement(ie.a,{color:"primary",checked:u,disabled:o,onChange:this.handleKeepChange}),i.a.createElement(K.a,{variant:"body1"},a("KeepMeSignedIn"))),i.a.createElement(_.a,{classes:{root:"auth-button"},variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",disabled:o,onClick:this.handleDone},a("Next")),i.a.createElement(K.a,{className:"sign-in-continue-on"},i.a.createElement(re.a,{onClick:this.handleQRCode},a("LogInViaQR"))),!!f&&i.a.createElement(K.a,{className:"sign-in-continue-on"},i.a.createElement(re.a,{onClick:this.handleChangeLanguage},a("ContinueOnThisLanguage",{lng:f}))))}}var ge=Object(U.a)()(fe);n(349);class be extends i.a.Component{constructor(e){super(e),this.onUpdateConnectionState=e=>{const t=e.state;this.setState({connecting:ue(t)})},this.handleNext=()=>{this.code&&this.isValid(this.code)?(this.setState({error:""}),this.handleDone()):this.setState({error:"Invalid code. Please try again."})},this.handleDone=()=>{const e=this.props.t,t=this.code;this.setState({loading:!0}),R.a.send({"@type":"checkAuthenticationCode",code:t,first_name:"A",last_name:"B"}).then(e=>{}).catch(t=>{let n=null;n=t&&"error"===t["@type"]&&t.message?"PHONE_CODE_INVALID"===t.message?e("InvalidCode"):t.message:JSON.stringify(t),this.setState({error:n},()=>{setTimeout(()=>this.inputRef.current.focus(),100)})}).finally(()=>{this.setState({loading:!1})})},this.handleBack=()=>{this.props.onChangePhone()},this.handleChange=e=>{const t=this.code||"";this.code=e.target.value||"",R.a.clientUpdate({"@type":"clientUpdateMonkeyTracking",prevCode:t,code:this.code}),this.code&&this.codeLength>0&&this.code.length===this.codeLength&&this.handleNext()},this.handleKeyPress=e=>{"Enter"===e.key&&(e.preventDefault(),this.handleNext())},this.state={connecting:ue(y.a.connectionState),error:"",loading:!1},this.inputRef=i.a.createRef()}componentDidMount(){R.a.clientUpdate({"@type":"clientUpdateMonkeyIdle"}),y.a.on("updateConnectionState",this.onUpdateConnectionState)}componentWillUnmount(){y.a.off("updateConnectionState",this.onUpdateConnectionState)}isValid(e){let t=!e.match(/^[\d\-+\s]+$/);return t||5!==(e=e.replace(/\D/g,"")).length&&(t=!0),!t}getPhoneNumber(e){return e?e.phone_number:null}getCodeLength(e){if(!e)return 0;if(!e.type)return 0;switch(e.type["@type"]){case"authenticationCodeTypeCall":return e.type.length;case"authenticationCodeTypeFlashCall":return 0;case"authenticationCodeTypeSms":case"authenticationCodeTypeTelegramMessage":return e.type.length}return 0}getSubtitle(e,t=(e=>e)){if(!e)return"";if(!e.type)return"";switch(e.type["@type"]){case"authenticationCodeTypeCall":case"authenticationCodeTypeFlashCall":return"Telegram dialed your number";case"authenticationCodeTypeSms":return"We have sent you a message with activation code to your phone. Please enter it below.";case"authenticationCodeTypeTelegramMessage":return"Please enter the code you've just received in your previous Telegram app."}return""}render(){const e=this.props,t=e.codeInfo,n=e.t,a=this.state,r=a.connecting,s=a.loading,o=a.error;this.phoneNumber=this.getPhoneNumber(t),this.codeLength=this.getCodeLength(t);const c=this.getSubtitle(t);let l="Title";return r?l=le(n("Connecting")):this.phoneNumber&&(l=de(this.phoneNumber)),i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement("div",{className:q()("code-title","auth-title")},i.a.createElement(K.a,{variant:"body1",className:"auth-title-typography"},i.a.createElement("span",null,l),r&&i.a.createElement(ee.a,null)),i.a.createElement(J.a,{"aria-label":"edit",onClick:this.handleBack,disabled:s},i.a.createElement(X.a,{fontSize:"small"}))),i.a.createElement(K.a,{variant:"body1",className:"auth-subtitle",style:{width:300}},c),i.a.createElement($.a,{classes:{root:"auth-input"},inputRef:this.inputRef,variant:"outlined",color:"primary",disabled:s,error:Boolean(o),helperText:o,fullWidth:!0,autoFocus:!0,autoComplete:"off",label:n("Code"),maxLength:this.codeLength>0?this.codeLength:256,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}var ye=Object(U.a)()(be),ke=n(416),ve=n(413),we=n(423),Ce=n(412),Se=n(414),Ue=n(187),_e=n.n(Ue),Ee=n(221),xe=n.n(Ee);n(350);class Te extends i.a.Component{constructor(e){super(e),this.onUpdateConnectionState=e=>{const t=e.state;this.setState({connecting:ue(t)})},this.handleNext=()=>{this.password?(this.setState({error:""}),this.handleDone()):this.setState({error:"Invalid password. Please try again."})},this.handleBack=()=>{this.props.onChangePhone()},this.handleDone=()=>{const e=this.password;this.setState({loading:!0}),R.a.send({"@type":"checkAuthenticationPassword",password:e}).then(e=>{}).catch(e=>{let t=null;t=e&&"error"===e["@type"]&&e.message?e.message:JSON.stringify(e),this.setState({error:t},()=>{setTimeout(()=>this.inputRef.current.focus(),100)})}).finally(()=>{this.setState({loading:!1})})},this.handleMouseDownPassword=e=>{e.preventDefault()},this.handleClickShowPassword=()=>{const e=this.state.showPassword;this.setState({showPassword:!e}),this.sendMonkeyPeek(!e)},this.handleChange=e=>{this.password=e.target.value},this.handleKeyPress=e=>{"Enter"===e.key&&(e.preventDefault(),this.handleNext())},this.state={connecting:ue(y.a.connectionState),password:"",showPassword:!1,error:""},this.inputRef=i.a.createRef()}componentDidMount(){R.a.clientUpdate({"@type":"clientUpdateMonkeyClose"}),y.a.on("updateConnectionState",this.onUpdateConnectionState)}componentWillUnmount(){y.a.off("updateConnectionState",this.onUpdateConnectionState)}sendMonkeyPeek(e){R.a.clientUpdate({"@type":"clientUpdateMonkeyPeek",peek:e})}render(){const e=this.props,t=e.passwordHint,n=e.t,a=this.state,r=a.connecting,s=a.loading,o=a.error,c=a.showPassword;let l=n("EnterPassword");return r&&(l=le(n("Connecting"))),i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement(K.a,{variant:"body1",className:"auth-title"},i.a.createElement("span",null,l),r&&i.a.createElement(ee.a,null)),i.a.createElement(K.a,{variant:"body1",className:"auth-subtitle",style:{width:235}},n("YourAccountProtectedWithPassword")),i.a.createElement(Ce.a,{className:"auth-input",fullWidth:!0,variant:"outlined"},i.a.createElement(ve.a,{htmlFor:"adornment-password",error:Boolean(o)},n("LoginPassword")),i.a.createElement(we.a,{fullWidth:!0,autoFocus:!0,autoComplete:"off",id:"adornment-password",inputRef:this.inputRef,type:c?"text":"password",disabled:s,error:Boolean(o),onChange:this.handleChange,onKeyPress:this.handleKeyPress,endAdornment:i.a.createElement(ke.a,{position:"end"},i.a.createElement(J.a,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,edge:"end"},c?i.a.createElement(_e.a,null):i.a.createElement(xe.a,null))),labelWidth:70}),t&&i.a.createElement(Se.a,{id:"password-hint-text"},t),o&&i.a.createElement(Se.a,{id:"password-error-text",error:!0},o)),i.a.createElement(_.a,{classes:{root:"auth-button"},fullWidth:!0,color:"primary",variant:"contained",disableElevation:!0,onClick:this.handleNext,disabled:s},n("Next")))}}var Me=Object(U.a)()(Te),Pe=n(73);class Ie extends i.a.Component{constructor(e){super(e),this.state={open:!1,error:null},this.handleAuthError=this.handleAuthError.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidMount(){R.a.on("tdlib_auth_error",this.handleAuthError)}componentWillUnmount(){R.a.off("tdlib_auth_error",this.handleAuthError)}handleAuthError(e){this.setState({open:!0,error:e})}handleClose(){this.setState({open:!1})}handleKeyDown(e){"Enter"===e.key&&(e.preventDefault(),this.handleClose())}render(){let e=null;return e=this.state.error&&"error"===this.state.error["@type"]&&this.state.error.message?this.state.error.message:JSON.stringify(this.state.error),i.a.createElement(E.a,{manager:Pe.a,transitionDuration:0,open:this.state.open,onKeyDown:this.handleKeyDown,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(P.a,{id:"form-dialog-title"},"Error"),i.a.createElement(T.a,null,i.a.createElement(M.a,null,e)),i.a.createElement(x.a,null,i.a.createElement(_.a,{onClick:this.handleClose,color:"primary"},"Ok")))}}var Ae=Ie,Oe=n(87),Ne=(n(351),n(242)),je=n.n(Ne);n(352);class Fe extends i.a.Component{constructor(...e){super(...e),this.state={connecting:!1,showConnecting:!1},this.onUpdateConnectionState=e=>{const t=ue(e.state);this.state.connecting!==t&&(this.setState({connecting:t,showConnecting:!1}),t&&setTimeout(()=>{this.state.connecting&&this.setState({showConnecting:!0})},500))},this.handleBack=()=>{const e=this.props.onChangePhone;e&&e()}}componentDidUpdate(e,t,n){this.props.state!==e.state&&this.loadData()}componentDidMount(){this.loadData(),y.a.on("updateConnectionState",this.onUpdateConnectionState)}componentWillUnmount(){y.a.off("updateConnectionState",this.onUpdateConnectionState)}loadData(){const e=this.props.state,t=new je.a({width:287,height:287,data:e.link,image:"",dotsOptions:{color:"black",type:"rounded"},backgroundOptions:{color:"transparent"}}),n=document.getElementById("qr-canvas");n.innerHTML=null,t.append(n)}render(){const e=this.props.t,t=this.state.showConnecting,n=t?le(e("Connecting")):e("AuthAnotherClient");return i.a.createElement("form",{className:"auth-root"},i.a.createElement(K.a,{variant:"body1",className:"auth-title"},i.a.createElement("span",null,n),t&&i.a.createElement(ee.a,null)),i.a.createElement("div",{className:"qr-content"},i.a.createElement("div",{id:"qr-canvas"}),i.a.createElement("div",{className:"qr-telegram-logo"},i.a.createElement(B,{className:"telegram-logo"}))),i.a.createElement(K.a,{variant:"body1",className:"auth-qr-subtitle"},e("QRHint")),i.a.createElement(K.a,{className:"sign-in-continue-on"},i.a.createElement(re.a,{onClick:this.handleBack},e("LogInByPhone"))))}}var Be=Object(U.a)()(Fe);n(353);class De extends i.a.PureComponent{render(){return i.a.createElement("div",{className:"footer-wrapper"},i.a.createElement("span",null,I.version))}}var Le=De;class Re extends i.a.Component{constructor(...e){var t;super(...e),t=this,this.state={data:null},this.loadContent=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.data){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(Oe.b)();case 6:W.data=e.sent,t.setState({data:W.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))}componentDidMount(){setTimeout(this.loadContent,100)}render(){const e=this.props,t=e.authorizationState,n=e.onChangePhone,a=e.onRequestQRCode,r=this.state.data,s=y.a.defaultPhone;let o=null;switch(t["@type"]){case"authorizationStateWaitOtherDeviceConfirmation":o=i.a.createElement(Be,{state:t,onChangePhone:n});break;case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitRegistration":case"authorizationStateWaitEncryptionKey":case"authorizationStateWaitTdlibParameters":case"authorizationStateWaitTdlib":o=i.a.createElement(ge,{defaultPhone:s,data:r,onRequestQRCode:a});break;case"authorizationStateWaitCode":{const e=t.terms_of_service,a=t.code_info;o=i.a.createElement(ye,{termsOfService:e,codeInfo:a,onChangePhone:n,data:r});break}case"authorizationStateWaitPassword":{const e=t.password_hint,a=t.has_recovery_email_address,r=t.recovery_email_address_pattern;o=i.a.createElement(Me,{passwordHint:e,hasRecoveryEmailAddress:a,recoveryEmailAddressPattern:r,onChangePhone:n});break}}return i.a.createElement("div",{className:"authorization-form",onLoad:this.handleLoad},i.a.createElement("div",{className:"authorization-form-content"},i.a.createElement(G,{state:t}),o,i.a.createElement(Le,null)),i.a.createElement(Ae,null))}}var Ve=Re,ze=n(222),We=n.n(ze);n(354);class He extends i.a.Component{static handleReload(){window.location.reload()}render(){return i.a.createElement("div",{className:"app-inactive"},i.a.createElement("div",{className:"app-inactive-wrapper"},i.a.createElement("img",{className:"app-inactive-image",src:"Manytabs_2x.png",alt:"",onClick:He.handleReload}),i.a.createElement("h3",{className:"app-inactive-title"},"Such error, many tabs"),i.a.createElement("div",{className:"app-inactive-description"},"Telegram supports only one active tab with the app.",i.a.createElement("br",null),"Please reload this page to continue using this tab or close it."),i.a.createElement("div",{className:"app-inactive-actions"},i.a.createElement(We.a,{color:"primary",onClick:He.handleReload},"Reload app"))))}}var Ye=He;class Ge extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-wrapper"}),i.a.createElement("div",{className:"page"},i.a.createElement(Ye,null)),i.a.createElement(Le,null))}}var Qe=Ge,qe=n(12);n(357);class Ke extends i.a.Component{render(){let e="Android_2x.jpg";return Object(qe.u)()?e="iOS_2x.jpg":Object(qe.w)()&&(e="WP_2x.jpg"),i.a.createElement("div",{className:"app-inactive"},i.a.createElement("div",{className:"app-inactive-wrapper"},i.a.createElement("img",{src:e,alt:"",className:"app-inactive-image",onClick:Ke.handleInstall}),i.a.createElement("h3",{className:"app-inactive-title"},"Work is in progress!"),i.a.createElement("div",{className:"app-inactive-description"},"This client has not been optimized for mobile devices yet.",i.a.createElement("br",null),"Please consider using our native mobile app."),i.a.createElement("div",{className:"app-inactive-actions"},i.a.createElement(_.a,{color:"primary",onClick:Ke.handleInstall},"Install app"))))}}Ke.handleInstall=()=>{Object(qe.u)()?window.location.href="https://telegram.org/dl/ios":Object(qe.w)()?window.location.href="https://telegram.org/dl/wp":window.location.href="https://telegram.org/dl/android"};var Je=Ke;class Ze extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-wrapper"}),i.a.createElement("div",{className:"page",style:{background:"#FFFFFF",color:"#000000"}},i.a.createElement(Je,null)),i.a.createElement(Le,null))}}var Xe=Ze,$e=n(98),et=n(129),tt=n(155),nt=n(27),at=n(19),it=n(177),rt=n(17);n(261);const st=i.a.lazy(()=>Promise.all([n.e(5),n.e(3)]).then(n.bind(null,663)));class ot extends a.Component{constructor(e){var t;super(e),t=this,this.handleKeyDown=function(){var e=Object(d.a)(u.a.mark((function e(n){var a,i,r,s,o,c,l,d,p,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.altKey,i=n.ctrlKey,n.keyCode,r=n.key,s=n.metaKey,o=n.repeat,c=n.shiftKey,n.isComposing,t.keyMap.set(r,r),l=it.a.chatList,d=y.a.authorizationState,p=y.a.chatId,d){e.next=6;break}return e.abrupt("return");case 6:if("authorizationStateReady"===d["@type"]){e.next=8;break}return e.abrupt("return");case 8:if(!(t.keyMap.size>3)){e.next=10;break}return e.abrupt("return");case 10:if(!(Pe.a.modals.length>0)){e.next=12;break}return e.abrupt("return");case 12:if(!n.isComposing){e.next=14;break}return e.abrupt("return");case 14:e.t0=r,e.next="Escape"===e.t0?17:"0"===e.t0?45:"1"===e.t0||"2"===e.t0||"3"===e.t0||"4"===e.t0||"5"===e.t0?59:68;break;case 17:if(a||i||s||c||o){e.next=44;break}if(!t.editMessageId){e.next=23;break}return Object(nt.f)(p,0),e.abrupt("return");case 23:if(!t.replyMessageId){e.next=28;break}return Object(nt.n)(p,0),e.abrupt("return");case 28:if(!(rt.a.selectedItems.size>0)){e.next=33;break}return Object(nt.b)(),e.abrupt("return");case 33:if(!l||"chatListMain"===l["@type"]){e.next=38;break}return Object(tt.f)({"@type":"chatListMain"}),e.abrupt("return");case 38:if(p){e.next=41;break}return Object(nt.q)(0,null),e.abrupt("return");case 41:R.a.setChatId(0),n.preventDefault(),n.stopPropagation();case 44:return e.abrupt("break",68);case 45:if(!a||!i||s||c||o){e.next=58;break}if(!t.editMessageId){e.next=48;break}return e.abrupt("return");case 48:if(!t.replyMessageId){e.next=50;break}return e.abrupt("return");case 50:return e.next=52,R.a.send({"@type":"createPrivateChat",user_id:at.a.getMyId(),force:!0});case 52:if(h=e.sent){e.next=55;break}return e.abrupt("return");case 55:R.a.setChatId(h.id),n.preventDefault(),n.stopPropagation();case 58:return e.abrupt("break",68);case 59:if(!a||!i||s||c||o){e.next=67;break}if(!t.editMessageId){e.next=62;break}return e.abrupt("return");case 62:if(!t.replyMessageId){e.next=64;break}return e.abrupt("return");case 64:Object(tt.g)(Number(r)-1),n.preventDefault(),n.stopPropagation();case 67:return e.abrupt("break",68);case 68:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onClientUpdateEditMessage=e=>{const t=e.messageId;this.editMessageId=t},this.onClientUpdateReply=e=>{const t=e.messageId;this.replyMessageId=t},this.onClientUpdateFocusWindow=e=>{this.keyMap.clear()},this.onClientUpdateTdLibDatabaseExists=e=>{const t=e.exists;t||this.setState({authorizationState:{"@type":"authorizationStateWaitTdlib"},tdlibDatabaseExists:t})},this.onUpdate=e=>{if(L.E&&!this.checkServiceWorker){this.checkServiceWorker=!0;localStorage.getItem("register")||Object($e.a)()}},this.onUpdateFatalError=e=>{this.setState({fatalError:!0})},this.onUpdateAuthorizationState=e=>{const t=e.authorization_state;this.setState({authorizationState:t}),window.hasFocus&&t&&R.a.send({"@type":"setOption",name:"online",value:{"@type":"optionValueBoolean",value:!0}})},this.onClientUpdateAppInactive=e=>{this.setState({inactive:!0})},this.handleChangePhone=()=>{this.setState({changePhone:!0})},this.handleRequestQRCode=()=>{const e=this.state,t=e.changePhone,n=e.authorizationState;t&&n&&"authorizationStateWaitOtherDeviceConfirmation"===n["@type"]?this.setState({changePhone:!1}):R.a.send({"@type":"requestQrCodeAuthentication",other_user_ids:[]})},this.handleDragOver=e=>{e.preventDefault(),e.stopPropagation()},this.handleDrop=e=>{e.preventDefault(),e.stopPropagation()},this.handleRefresh=()=>{this.setState({fatalError:!1}),window.location.reload()},this.handleDestroy=()=>{this.setState({fatalError:!1}),R.a.send({"@type":"destroy"})},console.log("Start Telegram Web ".concat(I.version)),this.state={prevAuthorizationState:W.current,authorizationState:null,tdlibDatabaseExists:!1,inactive:!1,fatalError:!1,nativeMobile:!1,isSmall:window.innerWidth<800},this.replyMessageId=0,this.editMessageId=0,this.keyboardHandler=new et.a(this.handleKeyDown),this.keyMap=new Map,document.addEventListener("keyup",e=>{this.keyMap.delete(e.key)})}componentWillMount(){const e=this.props.location;R.a.init(e)}componentDidMount(){setTimeout(()=>Object(Oe.b)(),1500),R.a.on("update",this.onUpdate),y.a.on("clientUpdateAppInactive",this.onClientUpdateAppInactive),y.a.on("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),y.a.on("clientUpdateTdLibDatabaseExists",this.onClientUpdateTdLibDatabaseExists),y.a.on("updateAuthorizationState",this.onUpdateAuthorizationState),y.a.on("updateFatalError",this.onUpdateFatalError),rt.a.on("clientUpdateEditMessage",this.onClientUpdateEditMessage),rt.a.on("clientUpdateReply",this.onClientUpdateReply),et.b.add(this.keyboardHandler)}componentWillUnmount(){R.a.off("update",this.onUpdate),y.a.off("clientUpdateAppInactive",this.onClientUpdateAppInactive),y.a.off("clientUpdateFocusWindow",this.onClientUpdateFocusWindow),y.a.off("clientUpdateTdLibDatabaseExists",this.onClientUpdateTdLibDatabaseExists),y.a.off("updateAuthorizationState",this.onUpdateAuthorizationState),y.a.off("updateFatalError",this.onUpdateFatalError),rt.a.off("clientUpdateEditMessage",this.onClientUpdateEditMessage),rt.a.off("clientUpdateReply",this.onClientUpdateReply),et.b.remove(this.keyboardHandler)}render(){const e=this.props,t=e.t,n=e.theme,a=this.state,r=a.inactive,s=a.nativeMobile,o=a.fatalError;let c=this.state,l=c.authorizationState,u=c.prevAuthorizationState;c.changePhone?l={"@type":"authorizationStateWaitPhoneNumber"}:l&&"authorizationStateWaitEncryptionKey"!==l["@type"]&&"authorizationStateWaitTdlibParameters"!==l["@type"]||(l=u||{"@type":"authorizationStateWaitPhoneNumber"});t("Loading").replace("...","");let d=i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(st,null));if(s)d=i.a.createElement(Xe,null);else if(r)d=i.a.createElement(Qe,null);else if(l)switch(l["@type"]){case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":break;case"authorizationStateWaitOtherDeviceConfirmation":case"authorizationStateWaitCode":case"authorizationStateWaitRegistration":case"authorizationStateWaitPassword":case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitTdlib":d=i.a.createElement(Ve,{authorizationState:l,onChangePhone:this.handleChangePhone,onRequestQRCode:this.handleRequestQRCode})}return i.a.createElement("div",{id:"app",className:"dark"===n.palette.type?"dark":"light",onDragOver:this.handleDragOver,onDrop:this.handleDrop},d,i.a.createElement(E.a,{manager:Pe.a,transitionDuration:0,open:o,onClose:this.handleRefresh,"aria-labelledby":"fatal-error-dialog-title","aria-describedby":"fatal-error-dialog-description"},i.a.createElement(P.a,{id:"fatal-error-dialog-title"},"Telegram"),i.a.createElement(T.a,null,i.a.createElement(M.a,{id:"fatal-error-dialog-description"},"Oops! Something went wrong. We need to refresh this page.")),i.a.createElement(x.a,null,i.a.createElement(_.a,{onClick:this.handleDestroy,color:"primary"},"Log out"),i.a.createElement(_.a,{onClick:this.handleRefresh,color:"primary",autoFocus:!0},"Refresh"))))}}window.hasFocus=!0,window.onblur=function(){window.hasFocus=!1,R.a.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!1})},window.onfocus=function(){window.hasFocus=!0,R.a.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!0})},window.history.pushState(null,null,window.location.href),window.onpopstate=function(){window.history.go(1)};var ct=Object(p.a)(h.a,Object(U.a)(),w,S.a)(ot);n(358);if(s.a.render(i.a.createElement(o.a,null,i.a.createElement(c.a,{path:"",component:ct})),document.getElementById("root")),L.E){localStorage.getItem("register")&&Object($e.a)()}else Object($e.a)()}],[[268,2,4]]]);
//# sourceMappingURL=main.acd22383.chunk.js.map